<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20120220</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20120220</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr bgcolor="#eeeeee"><td><tt>00:52.31</tt></td><td><font color="#ad5b5b"><tt>starseeker</tt></font></td><td width="100%"><tt>hmm - bz ran out of disk space</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:52.42</tt></td><td><font color="#ad5b5b"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">scrubs unnecessary crud...</font></tt></td></tr>
<tr><td><tt>02:43.52</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad andymanak (~andy@c-24-130-199-23.hsd1.ca.comcast.net)</font></tt></td></tr>
<tr><td><tt>03:51.01</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad louipc (~louipc@archlinux/fellow/louipc)</font></tt></td></tr>
<tr><td><tt>05:02.07</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad andymanak (~andy@c-24-130-199-23.hsd1.ca.comcast.net)</font></tt></td></tr>
<tr><td><tt>05:09.40</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad andymanak (~andy@c-24-130-199-23.hsd1.ca.comcast.net)</font></tt></td></tr>
<tr><td><tt>08:11.54</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad jordisayol (~jordisayo@unaffiliated/jordisayol)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:00.56</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: anything useful from <a href="https://github.com/mpictor/StepClassLibrary/pull/143">https://github.com/mpictor/StepClassLibrary/pull/143</a> we could use in brl-cad?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:01.11</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>(for non-scl logic)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:14.24</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>jordisayol: possibly, it depends on the cause of the illegal instruction</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:15.16</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>I wouldn't expect it be needed for a generic -O3 but if the debian build adds cpu-specific tuning flags then mtune=generic should help </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:16.37</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>hello brlcad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:18.07</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>I just do this to override notius problem when installing deb package on a not new processor:</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:18.07</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt><a href="https://sourceforge.net/tracker/?func=detail&amp;atid=640803&amp;aid=3464421&amp;group_id=105292">https://sourceforge.net/tracker/?func=detail&amp;atid=640803&amp;aid=3464421&amp;group_id=105292</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:23.24</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>jordisayol: I know, I read that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:23.38</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>that didn't really identify the cause of the illegal instruction</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:24.01</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>does the deb build add march or mtune flags (prior to mtune=generic)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:25.42</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>deb build process do not add any flag directly, until now</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:26.56</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>could be mistaken but the O3 flag by itself shouldn't result in platform-specific optimizations, afaik</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:27.19</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>there should be some other flag causing extra optimization</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.17</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>but did gcc detect ans make specific for the system cpu, isn't it?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.36</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>not with just O3</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.49</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>aha</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.51</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>implies there is some other flag on the actual compilation line</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:29.25</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>these flags are from cmake/brlcad of from gcc itself?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:29.48</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>not from gcc, from somewhere else in the build</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:30.09</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>the only way to know for sure would be to run with VERBOSE=1 and see what flags are being used</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:30.36</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>ok, I so that, wait a moment please</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:32.22</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>I'd suspect somewhere something is adding an march= or mtune= flag .. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:32.37</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>maybe not, if not then we should add -mtune=generic to the cmake default</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:32.52</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>mh, i'm not quite sure but i don't think so</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:33.05</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>aha</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:33.22</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>just a moment. I'll paste the arguments here</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.35</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>on my system, with this cmake:</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.35</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>cmake -DBRLCAD_BUNDLED_LIBS=ON -DBRLCAD_ENABLE_OPTIMIZED_BUILD=ON -DBRLCAD_ENABLE_STRICT=OFF -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/brlcad -DDATA_DIR=share -DMAN_DIR=share/man</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.55</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>I got this:</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.55</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>CC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = /usr/bin/gcc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.55</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>CXX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= /usr/bin/c++</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.55</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>CFLAGS&nbsp;&nbsp; = -pipe -fno-strict-aliasing -fno-common -fexceptions -msse3 -std=gnu99 -m64 -O3 -fstrength-reduce -fexpensive-optimizations -finline-functions -finline-limit=10000 -fomit-frame-pointer -pedantic -Wall -Wextra -Wundef -Wfloat-equal -Wshadow -Winline -Wno-long-long</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.55</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>CXXFLAGS = -pipe -fno-strict-aliasing -fno-common -fexceptions -ftemplate-depth-128 -m64 -O3 -fstrength-reduce -fexpensive-optimizations -finline-functions -finline-limit=10000 -fomit-frame-pointer -pedantic -Wall -Wextra -Wundef -Wfloat-equal -Wshadow -Winline -Wno-long-long</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.55</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>LDFLAGS&nbsp;&nbsp;= -m64</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.00</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>no no, need an actual gcc line</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.28</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>since there could be some flag getting set elsewhere maybe</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.36</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>aha</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.09</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>run "make VERBOSE=1"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:39.31</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>then look for a gcc line ( NOT in src/other )</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:41.28</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>hmmm, like this?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:41.29</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>/usr/bin/gcc&nbsp;&nbsp; -pipe -fno-strict-aliasing -fno-common -fexceptions -msse3 -std=gnu99 -m64 -O3 -fstrength-reduce -fexpensive-optimizations -finline-functions -finline-limit=10000 -fomit-frame-pointer -pedantic -Wall -Wextra -Wundef -Wfloat-equal -Wshadow -Winline -Wno-long-long&nbsp;&nbsp; -o CMakeFiles/buildtimestart.dir/CMakeTmp/builddelta_start.c.o&nbsp;&nbsp; -c /home/jordi/svn/b/CMakeTmp/builddelta_start.c</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:56.41</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>is it useful, or have to do something else?</tt></td></tr>
<tr><td><tt>16:53.15</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@61.12.114.82)</font></tt></td></tr>
<tr><td><tt>16:53.16</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:53.57</tt></td><td><font color="#d67070"><tt>brlcad</tt></font></td><td width="100%"><tt>jordisayol: that's useful</tt></td></tr>
<tr><td><tt>17:36.58</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@170-118-132-95.pool.ukrtel.net)</font></tt></td></tr>
<tr><td><tt>17:39.11</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad pawleeq (~pawleeq@212-96-188-229.cust.selfnet.cz)</font></tt></td></tr>
<tr><td><tt>17:47.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:11.06</tt></td><td><font color="#72d972"><tt>jordisayol</tt></font></td><td width="100%"><tt>brlcad: there are not any -mtune nor -march flags. mean this that gcc compiles to a generic cpu?</tt></td></tr>
<tr><td><tt>18:28.35</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@238-170-132-95.pool.ukrtel.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:02.35</tt></td><td><font color="#ad5b5b"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: possibly - the uninstall is interesting, although I'd have to test it with our build...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:02.57</tt></td><td><font color="#ad5b5b"><tt>starseeker</tt></font></td><td width="100%"><tt>need to see what OPTION_WITH_DEFAULT is all about</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.59</tt></td><td><font color="#ad5b5b"><tt>starseeker</tt></font></td><td width="100%"><tt>there are a couple things there that might be problematic for us - in particular they're forcing the CMAKE_BUILD_TYPE...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:07.42</tt></td><td><font color="#ad5b5b"><tt>starseeker</tt></font></td><td width="100%"><tt>well... hmm.&nbsp;&nbsp;Guess I'd have to try it.&nbsp;&nbsp;We might be fine if we set SCL_BUILD_TYPE to our own build type first.&nbsp;&nbsp;Nothing unusual - we do more than that for png...</tt></td></tr>
<tr><td><tt>22:15.45</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad KimK (~Kim__@209.248.147.2.nw.nuvox.net)</font></tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
