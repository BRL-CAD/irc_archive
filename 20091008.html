<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20091008</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20091008</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr bgcolor="#eeeeee"><td><tt>00:06.33</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r36171 10/brlcad/trunk/src/libdm/dm-ogl.c: Ooops, typos.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:09.25</tt></td><td><font color="#bf64bf"><tt>starseeker</tt></font></td><td width="100%"><tt>man this ogl bug is subtle</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:10.37</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>``Erik: but did the taliban lose 100 or 7?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:23.50</tt></td><td><font color="#bf64bf"><tt>starseeker</tt></font></td><td width="100%"><tt>helllllp...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:29.58</tt></td><td><font color="#bf64bf"><tt>starseeker</tt></font></td><td width="100%"><tt>how do I debug this thing???</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:32.45</tt></td><td><font color="#bf64bf"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">can't believe it's UpdateTitle that results in sudden death...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:37.57</tt></td><td><font color="#bf64bf"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">contemplates making a Tk window before calling ogl_open and "faking" a gui startup sequence</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:38.15</tt></td><td><font color="#bf64bf"><tt>starseeker</tt></font></td><td width="100%"><tt>q</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:38.18</tt></td><td><font color="#bf64bf"><tt>starseeker</tt></font></td><td width="100%"><tt>whoops</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:58.06</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r36172 10/brlcad/trunk/ (include/bu.h src/libbu/globals.c): move the doxy docs for the globals declared extern in bu.h to bu.h</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:51.23</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03davidloman * r36173 10/brlcad/trunk/src/proc-db/ (4 files in 2 dirs): initial work for a building/structure proc-db</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:53.53</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>brlcad or anyone else:&nbsp;&nbsp;is there any existing functionality for tracking 'used' object names inside a database? (so as to prevent duplication)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:58.30</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>you do a db_lookup on the name</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:58.39</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>LOOKUP_QUIET</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:59.07</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>good deal, thanks.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:59.22</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>that is also a librt routine, not a write-only operation</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:59.49</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>Also, is there any dire reason (beyong preference) to use C over C++?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:00.07</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>no such assertion</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:01.04</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>tools can be c/c++, it's the libs and existing c apps that shouldn't mix</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:01.25</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>okay. I only ask because I keep running into 'great things' that could be done with a pinch of OO.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:01.49</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>Que ``Erik with some snide "lisp rulz!!1!" comment :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:01.52</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>turning a tool into a library routine would be problematic as c++ down the road if portaions are generalizable to a library, like libged</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:03.29</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>you can do most OO constructs in c, at least most of the ones that are not just syntax shortcuts</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:04.05</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>I was really looking at function overloading... its a pain not having it :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:12.52</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>ah, you can get yourself polymorphism, but you have to do a little setup</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:13.25</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>but how much is gained by 'doing a little setup' versus just using cpp?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:14.03</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>depends on the use</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:14.24</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>it keeping it as a set of C routines that you can pull into a library is important, then might be worthwhile</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:14.34</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>otherwise, just use c++</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:15.01</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>and the only reason why a cpp lib is bad is simply because all the others are c libs?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:15.16</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt><font color="#CC00CC">notes "cpp" is rather confusing/misleading as it's the name of the "c pre processor" that expands #includes and such</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:15.52</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>a cpp lib isn't bad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:16.07</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>mixing c++ into a C api is generally bad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:17.10</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>right, so if this make building thing turns into a lib (down the road), then wiring it into libged would prove difficult if libBuilding (or whatever) is c++ ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:17.32</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>there are ABI portability issues with the libraries, linkage incompatibilities, other issues</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:17.42</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>if it is fully contained as such, then not so bad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:18.22</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>it's more that you cannot expose it (at all) symbol-wise and public API</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:19.28</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>e.g., openNURBS in librt -- not exposed, just an implementation detail under the hood so linkage still doesn't expose any c++</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:19.57</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>Hrm, so it it were all 'under the hood' and operated on a provided db_i only, then it would be safe?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:20.13</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>doable</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:20.53</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>be more concerned that you've learned how to use one shiney hammer, so everything looks like it needs to be beaten with that hammer :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:21.28</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>they're different mindsets with tradeoffs on both ends, good to be proficient in both :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:21.36</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>huh?&nbsp;&nbsp;I am talking about how to best implement an idea.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:21.44</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>likewise</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:21.59</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>the language has little to do with that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:23.17</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>it's more a procedural data-driven approach vs an object-oriented approach vs a functional approach, etc </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:24.05</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>you can take most problems and implement them with any one of those three and there are lots of tradeoffs, rare that one is superbly dominating "better"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:24.11</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>usually more just one is more "familiar"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:24.35</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>just saying it's good to hone skills at least on the other two at some point as well</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:25.26</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>otherwise everything starts looking like an OO problem and you miss the big picture, acquire bad habits, tend to over-architect, over-abstract, obfuscate, ... it's a balance</tt></td></tr>
<tr><td><tt>12:34.22</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Yoshi47 (n=jan@firewall.walinga.com)</font></tt></td></tr>
<tr><td><tt>13:18.21</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad d_rossberg (n=rossberg@BZ.BZFLAG.BZ)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:21.05</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>*readreadread*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:22.53</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>exposing c++ shtuff in libraries gets into issues with different name mangling (there is no standard). G++ isn't (or wasn't) even self-consistent, so a library providing c++ entry points compiled with, say, gcc 4.1 couldn't be correctly linked to with gcc 4.2, it'd get missing symbols, iirc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:24.22</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>heh, yes, people new to oo become "architect astronauts" and start designing things like... upstairs... :D *duck*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:44.07</tt></td><td><font color="#5d5db2"><tt>d-lo</tt></font></td><td width="100%"><tt>tee hee.</tt></td></tr>
<tr><td><tt>14:50.50</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad mafm (n=mafm@225.Red-83-45-72.dynamicIP.rima-tde.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:22.56</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>howdy mafm m</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:23.50</tt></td><td><font color="#ca6aca"><tt>mafm</tt></font></td><td width="100%"><tt>hi there</tt></td></tr>
<tr><td><tt>16:34.11</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Elrohir (n=kvirc@p5B14D686.dip.t-dialin.net)</font></tt></td></tr>
<tr><td><tt>16:47.31</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Ralith (n=ralith@d142-058-080-147.wireless.sfu.ca)</font></tt></td></tr>
<tr><td><tt>17:05.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad louipc (n=louipc@archlinux/trusteduser/louipc)</font></tt></td></tr>
<tr><td><tt>18:07.09</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Ralith (n=ralith@d142-058-091-146.wireless.sfu.ca)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.17</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>hm, a darcs library was listed as a 'todo' back in june</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.18</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03davidloman * r36174 10/brlcad/trunk/src/proc-db/ (makebuilding/makebuilding.c mkbuilding.h): Coninuting work on Makebuilding. Added mkbuilding.h</tt></td></tr>
<tr><td><tt>18:44.48</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Ralith (n=ralith@69.90.49.189)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:15.33</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r36175 10/brlcad/trunk/src/util/pl-dm.c: vls strings use %V now instead of %S</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:34.09</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r36176 10/brlcad/trunk/src/util/pl-dm.c: reorder function definitions so forward declarations are not necessary.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:02.10</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r36177 10/brlcad/trunk/src/libdm/dm-ogl.c: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:02.10</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: OK, temporarily comment out some of the dm-ogl code - this allows things to come</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:02.11</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: up on the Mac, but (obviously) messes with the initialization of the gl context</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:02.11</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: something fierce. Try to work out why these commands are upsetting things.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.46</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r36178 10/brlcad/trunk/src/util/pl-dm.c: more cleanup, quell slew of warnings, remove unused vars.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:39.13</tt></td><td><font color="#b45fb4"><tt>CIA-33</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r36179 10/brlcad/trunk/src/util/pl-dm.c: enable the '-t o' option to open up an ogl display manager. sure enough, it crashes.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:40.12</tt></td><td><font color="#5eb2b2"><tt>brlcad</tt></font></td><td width="100%"><tt>what's interesting there is that there are no calls to make_current</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:42.31</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>hum, "reverse debugging" in the new gdb</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:32.32</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Reverse debugging? Walking instructions backwards?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:32.37</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>ayup</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:32.48</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>That would require an awful lot of memory, and be very slow</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:33.48</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>I guess that works to walk a couple instructions back, but you could never get very far anyway. You can't undo system calls and such</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:33.51</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>um, there's some lib that does it in a not totally sucky way (mebbe it saves state delta on nondeterministic ops)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:35.36</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt><a href="http://news.ycombinator.com/item?id=868769">http://news.ycombinator.com/item?id=868769</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:35.44</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>gnome-terminal is pretty bad as a terminal. You flood it on stdout and it freezes or dies</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:36.12</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, it does checkpointing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:36.17</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Multi-inferior? What is that?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:36.43</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>gnome-terminal and kterm are ass, xterm is ok, rxvt-devel was what I really used before hopping over to mac</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.08</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>"multi-inferior" sounds like some damn emacs weenie was allowed in the club, I d'no O.o :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.41</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Yes, I'm always using rxvt. I put Ubuntu on the laptop and I sometimes use gnome-terminal for some reason, but it's pretty bad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:38.56</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>screen eliminates all the pro's that gnome-terminal and kterm have for anyone who can operate a basic text editor... :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:39.25</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>and if you can't figure out "pico" or "nano", you don't belong opening a terminal emulator :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.35</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt><a href="http://dmtcp.sourceforge.net/">http://dmtcp.sourceforge.net/</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.37</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>This is quite bad when doing printf() debugging, and the terminal freezes or dies. When it freezes, it also freezes the program trying to write on the stdout pipe</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.05</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>And when it dies... You lose all programs launching from that terminal, that's just lovely</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.10</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>launched*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.36</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>I don't remember the app crashing, but I do remember getting annoyed that the kernel compiles on linux took much longer on my 120mhz machine...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:42.27</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>And it's slow, yes. Now imagine the terminal freezing or dying meaning the compilation stops trying to write on stdout</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:42.46</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt><font color="#CC00CC">punches gnome-terminal some more</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:46.04</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>rxvt and be happy O.o</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:47.03</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>I know, I'm just amazed that some mainstream and common software can be so buggy, and it's just a terminal</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:47.40</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>probably one of those "good enough for the plebes, but all the REAL power-users know better"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:47.43</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>:/</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.00</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>(though having written a color terminal emulator using a gtk+ text widget before, it's trivial to make it sorta work and a real pain to make it fast)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.02</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Seems rather easy to make it fast... but I wouldn't use gtk+ for the rendering, I would play with X directly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.40</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>scanning and handling control codes was the big stinker on mine, I think</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.11</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Yes, that part sounds rather messy</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.33</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>and looking at my code, I've learned quite a few tricks in the last decade heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.49</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Oh, you too? :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.05</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Sometimes I'm almost glad I lost most of my &gt;5 years old code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.57</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- has learned quite a coding few tricks in the last 26 years, intends to learn quite a few more coding tricks in the next 26 :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.19</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Even updating the old Rayforce just a month ago... I rewrote all the multithreading, threw away a bunch of pthreads stuff to use x86/amd64 atomic instructions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.30</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Eheh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.50</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>heh, I found a simd library for sbcl last week O.O</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:55.12</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>haha I'm a power user for using rxvt?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:55.13</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Pthreads still annoy me on many aspects, I'm so tempted to just use clone(), futex() and my atomic instructions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:55.17</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- grouses some more that rayforce isn't in BRL-CAD</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.30</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>The wake up process of pthreads, for threads blocked on condition variables doesn't allow any decent prioritization mechanism</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.44</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>louipc: more that a "power-user" wouldn't use gnome-terminal...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.46</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>And the underlying futex() stuff is so much more flexible</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.57</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>upside down A's and backwards E's, man</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:57.32</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>mal: that's great until you want it to work on something other than linux, or the linux internals change (again)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.21</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>You can't define scheduling priorities for different threads with pthreads, seriously how retarded is that?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.21</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>the solaris libthread.so package was effin' INSANELY awesome, but coding to it means you don't leave solaris and hope they don't jerk the rug out from under you...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.52</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Mmhm :), I never played with it I'm afraid</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:59.27</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>I did some home-made threading on Linux, using the system calls, to see how flexible the underlying interface is... and that just made me more frustrated with Posix threads</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:59.58</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>the bsd thread mapping capability is awesome, too... ya get to choose if a thread is a userland thing, an OS 1:1 mapping, or an OS many:many mapping... without recompiling! :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:00.43</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>the linux kobj thingie was designed to do processes, then threading was bolted into it, and it was shaken around to do anything inbetween... *shrug*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:00.54</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Being able to wake up any thread *you* choose when signaling a condition variable or releasing a mutex, how come you can't do that with Posix threads?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.07</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>when pthreads were new, the notion of threading was in its infancy and every vendor had tis own horrible attempt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.14</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Or definiting the "niceness" or scheduling priority of any thread, gez, that should be simple enough</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.36</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>what if the OS only supports userland threads? or doesn't have the notion of process priority?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.54</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Then disable the feature, or make it do nothing! But at least make it *possible*!</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.06</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>You can't have different scheduling priorities with Posix threads, you just can't</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.06</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>nt4 was made posix compatible, and it only had retarded round robin scheduling iirc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.38</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>I don't mind if some features are not available on some platforms, but at least make them available on the platforms that do support them</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.42</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>in unix worse is better</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.44</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>that's why!</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:03.38</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Erik, I'm seriously very close to just switch over to my own Linux-only threading stuff, with a pthread fallback for other OSes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:03.53</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>srry, dude, their crystal ball was in the shop when pthreads were spec'd, I mean, the notion that a student could write a semi-usable *nix-like os and people would help him for shits and giggles woulda gotten you laughed out of the room</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:04.23</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>so predicting how linux does its nth generation threading... yknow..</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:05.20</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Erik, I'm just saying that pthreads do not expose a bunch of very fundamental features for threading. I know some OSes may not support them</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:05.40</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, I hear ya, dude... I'm saying that pthreads predates those fundamental features :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:06.02</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Well if they aren't going to update the library, then we need something new</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:06.20</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>yep</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:06.29</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>I think I'll just switch over to my Linux threading stuff, with a pthread fallback</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.10</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt><font color="#CC00CC">would rather have cpu affinity control than priority control for threads *shrug* :)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.14</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>How could not imagine that someone may want to define different scheduling priorities for different threads. No, they had to enforce that *all* threads *MUST* share the same scheduling priority. Why? Why?...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.33</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>hm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.44</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>what if I renice a multithreaded program to 20</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.45</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>There's cpu affinity stuff, although it's a different library</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.04</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>All the threads share the same niceness, says the specification</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.05</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>and I really fucking mean make every thread go to 20, I don't want the program to decide if it's going to listen</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.08</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.20</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>ok, so posix does that for me, what about futex?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.26</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>What if the program has some low priority and high priority threads?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.55</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>well there should be a signal for it, non?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.08</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>futex() is the kernel-level thing for mutexes and condition variables, but if you write your own threading stuff, you can define the scheduling of threads any way you want it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.14</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>sleep(0); forces a yield, essentually giving you a low priority thread (in a semi-cooperative fashion)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.38</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>um</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.49</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>I have a book somewhere that talks about the low level threading crap</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.50</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>What if you have a bunch of threads and you wake to wake up a specific one, which must run right *now*?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.52</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>wonder where I put it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:11.11</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Signaling it and sleep(0) may or may not make it actually run</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:11.22</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>mal: then your program is written really poorly :D *duck*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:11.23</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>sounds like fun problems</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:11.42</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Erik, that's a very common case of feeder/consumer threads</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:12.47</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt><font color="#CC00CC">doesn't remember needing to wake it up "right now" doing those things, putting them back into the run queue was sufficient O.o</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:13.50</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Typical example : on a 8 cores machine, with 8 consumer threads, you predict the threads will begin to starve soon and the feeder thread must absolutely run very soon</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:14.12</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>"add job; inc jobs available;" | "Icanhasawurkunit? tkae; dec jobs avail"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:14.20</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>And posix threads just won't you do that, you can merely try to wake it up and sleep() a few threads in the hope that it will get to run</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:14.29</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:14.37</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>won't let* you do that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:15.00</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>8 threads/procs on 8 cores tends to cause OTHER ugly problems, like resource lockstepping</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:15.27</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- likes to do 2n-1 for things that touch single interface resources like disk drives</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:15.47</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>That thread prioritization problem should not exist, because it doesn't exist when you use a decent low-level threading interface ( like futex() )</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:16.22</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- more apt to think that the problem doesn't... actually... exist... :D *duck*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:16.43</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Especially since kernels sometimes try to keep the same threads on the same core, and the kernel may have decided that your very important feeder thread must run on core 5, so it's just not going to wake up for a while</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:16.48</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>And threads end up starving</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:18.01</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>I don't know, it's a matter of flexibility and control... and pthreads don't give you much in both areas</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:18.50</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>*shrug* I've never had issue cooking all 8 cores (or 256) until something using an ugly slow resource (disks, network, etc) come into play</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:19.51</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>take, for example, BRL-CAD's rt, it can smoke up 1024 cpu's n/p even writing to disk if it buffers right, but it uses maybe one worth in mged due to network silliness with giantlock and shtuff</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:21.07</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Sure sure, but I'm not tempted to assume the design is optimal, in comparison to what could be achieved with more control and flexibility</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:22.26</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>I d'no, dude, I have a feeling that you might be wayyyy down the path of diminishing returns</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:23.01</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>For one thing, atomic instructions instead of mutexes or spin locks make a huge difference</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:23.20</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>( Okay, it's not portable, but when you got them... )</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:23.22</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, I can see that one easily</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:23.37</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>far less cycles and eliminates branches</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:24.10</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>but inventing a threading system to keep a producer hot? O.o</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:24.11</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>More than that, you avoid the constant read and write to shared memory lines</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:24.49</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>It's not just for that, I was pointing out one example but pthreads are limited on many aspects</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:25.09</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>sure, but how much do those aspects really matter? :D just throwin' it out there</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:25.43</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Meh :), you add them all up and I think it matters</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:26.13</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>I'd be curious as to your post mortem analysis :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:26.19</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Atomic instructions, thread scheduling from mutexes or condition variables, CPU affinity, per-thread niceness/priority, etc.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:28.34</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>The feeder thing actually was a problem in Rayforce when rendering something simple, it goes up to 100-500 frames per second and the kernel too often tries to maintain the "feeder" thread on the same CPU core instead of waking it up right now when needed</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:28.39</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>pthread_attr_setschedparam()&nbsp;&nbsp;?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:28.50</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>So unless you buffer up a lot of work ahead, I mean several frames, threads can starve</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:29.13</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Keep on reading to see if you can actually do anything with that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:29.47</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>You can set FIFO or round-robbing scheduling, but you can't define a thread priority for normal thread scheduling</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:31.08</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>that's not what the man page says O&gt;o</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:32.52</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>You should try it out, to have a nice surprise on sched_priority... It requires root to be modified!</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:33.50</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>And it doesn't work for SCHED_OTHER, which is the normal out-of-order threading</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:34.01</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>sounds like you attempted to increase the priority... that's against the fundamental security model, only root can increase priority, users can only reduce priority (increase nice)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:34.45</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Niceness is shared by all Posix threads</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:35.02</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>And sched_priority has no effect for SCHED_OTHER scheduling</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:35.44</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>( While SCHED_RR and such requires root )</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:40.36</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>*shrug*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:42.33</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>Anyway... as you said, it was designed too long ago, and it needs an urgent update or rewrite</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:43.18</tt></td><td><font color="#6262bb"><tt>``Erik</tt></font></td><td width="100%"><tt>(I'd find it amusing if you end up re-inventing fork() )</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:44.29</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>It's not quite fork(), threads use the clone() system call, so does fork() of course</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:44.35</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>that would be cool</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:44.45</tt></td><td><font color="#5eb25e"><tt>Maloeran</tt></font></td><td width="100%"><tt>clone() is a very flexible little system call</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:45.15</tt></td><td><font color="#67c567"><tt>louipc</tt></font></td><td width="100%"><tt>I heard it was stolen from plan9 or something</tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
