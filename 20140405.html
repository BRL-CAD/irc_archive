<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20140405</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20140405</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr><td><tt>00:03.08</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries (~ries@190.9.171.121)</font></tt></td></tr>
<tr><td><tt>01:17.59</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries (~ries@190.9.171.121)</font></tt></td></tr>
<tr><td><tt>01:38.54</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries (~ries@190.9.171.121)</font></tt></td></tr>
<tr><td><tt>01:59.26</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>02:13.06</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad hoiji (671b082a@gateway/web/cgi-irc/kiwiirc.com/ip.103.27.8.42)</font></tt></td></tr>
<tr><td><tt>02:14.52</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries (~ries@190.9.171.121)</font></tt></td></tr>
<tr><td><tt>02:44.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries (~ries@190.9.171.121)</font></tt></td></tr>
<tr><td><tt>02:49.42</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad stevegt_ (~stevegt@50.242.72.226)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:56.09</tt></td><td><font color="#b86161"><tt>hcurtis</tt></font></td><td width="100%"><tt>brlcad: Sean, are you available?</tt></td></tr>
<tr><td><tt>03:37.52</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad FreezingCold (~FreezingC@135.0.41.14)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:46.22</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60387 brlcad/branches/openscenegraph/CMakeLists.txt: Gah. Ubuntu is apparently adding --as-needed to ld linking by default now (<a href="http://stackoverflow.com/questions/8814707/shared-library-mysteriously-doesnt-get-linked-to-application)">http://stackoverflow.com/questions/8814707/shared-library-mysteriously-doesnt-get-linked-to-application)</a> which in turn messed up the openscenegraph linking for BRL-CAD. Better solution here is to figure out *why* it's concluding it doesn't need those libraries, but</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:46.24</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>until then here's a temporary work-around...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:49.01</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>what the hey...</tt></td></tr>
<tr><td><tt>04:41.51</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@42-25-132-95.pool.ukrtel.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:08.11</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:Krajkreddy * 7015 /wiki/User:Krajkreddy/GSOC14/proposal: /* Update Timeline. Remove Primitives which are not used. Also add a detailed plan for BREP. */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:10.34</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:Krajkreddy * 7016 /wiki/User:Krajkreddy/GSOC14/proposal: /* Refactor style */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:14.35</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:Krajkreddy * 7017 /wiki/User:Krajkreddy/GSOC14/proposal: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:23.58</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>hcurtis: note this:</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:24.00</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>~ask</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:24.00</tt></td><td><font color="#60b6b6"><tt>infobot</tt></font></td><td width="100%"><tt>Questions in the channel should be specific, informative, complete, concise, and on-topic.&nbsp;&nbsp;Don't ask if you can ask a question first.&nbsp;&nbsp;Don't ask if a person is there; just ask what you intended to ask them.&nbsp;&nbsp;Better questions more frequently yield better answers.&nbsp;&nbsp;We are all here voluntarily or against our will.</tt></td></tr>
<tr><td><tt>05:27.26</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries (~ries@190.9.171.121)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:36.12</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: if you had to add -no-as-needed, then the build flags are wrong somewhere</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:37.26</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>that stackoverflow is a little bit misguiding (not just because of LD_PRELOAD, but the command-line args are ordered wrong)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:37.44</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt><a href="https://wiki.gentoo.org/wiki/Project:Quality_Assurance/As-needed">https://wiki.gentoo.org/wiki/Project:Quality_Assurance/As-needed</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:39.49</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>basically, it's linking an exe that doesn't use OSG (which is true, probably only libdm is using it OSG)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:42.31</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>so the lib gets the symbols but the app should not, nor should libs using the lib (unless they directly have osg symbols being referenced)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>05:43.13</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>it's like our headers -- each lib and exec link line is supposed to only list exactly what is actually used</tt></td></tr>
<tr><td><tt>06:11.13</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad caen23 (~caen23@92.81.212.37)</font></tt></td></tr>
<tr><td><tt>07:23.10</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad caen23 (~caen23@92.81.212.37)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>07:59.02</tt></td><td><font color="#5db2b2"><tt>FreezingCold</tt></font></td><td width="100%"><tt>I'm thinking of writing/paying for a project that generates and simulates the path of a cartesian robot, would brlcad be a decent base to start off of?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>08:01.03</tt></td><td><font color="#5e5eb3"><tt>archivist</tt></font></td><td width="100%"><tt>FreezingCold, vismach in linuxcnc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>08:04.07</tt></td><td><font color="#5db2b2"><tt>FreezingCold</tt></font></td><td width="100%"><tt>that seems to only be a visual simulator</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>08:04.13</tt></td><td><font color="#5db2b2"><tt>FreezingCold</tt></font></td><td width="100%"><tt>not a path generator or anything</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>08:07.16</tt></td><td><font color="#5e5eb3"><tt>archivist</tt></font></td><td width="100%"><tt>path generation depends on use</tt></td></tr>
<tr><td><tt>08:20.50</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad luca79 (~luca@host12-111-dynamic.5-87-r.retail.telecomitalia.it)</font></tt></td></tr>
<tr><td><tt>08:59.31</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kesha (~kesha@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:11.50</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>FreezingCold: what are the outputs o your simulation?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:13.47</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>certainly wouldn't be hard at all with brl-cad as a base to set up a model and performs route/path planning (e.g., using ray tracing to find paths)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:17.48</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>in fact, I had high school students with very little experience that wrote a very similar program -- the created maze geometry and an automatic path finder that would find a route from a defined start and end point</tt></td></tr>
<tr><td><tt>12:17.49</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries (~ries@190.9.171.121)</font></tt></td></tr>
<tr><td><tt>12:40.34</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad drv_ (~smuxi@dynamic-78-8-246-104.ssp.dialog.net.pl)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:33.04</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: I didn't have to add it to successfully build, but the osg display manager crashed unless I built with it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:33.36</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>which probably indicates I'm doing something else wrong, but I can't imagine what</tt></td></tr>
<tr><td><tt>13:34.23</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite__ (~infinite@14.139.122.114)</font></tt></td></tr>
<tr><td><tt>13:34.38</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite__ (~infinite@14.139.122.114)</font></tt></td></tr>
<tr><td><tt>13:35.02</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad caen23 (~caen23@92.81.212.37)</font></tt></td></tr>
<tr><td><tt>13:41.34</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Denis_ (~denisilie@141.85.0.116)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:54.04</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: we may be dealing with that "Initializers and Deconstructors" case, although I'm not sure yet - src/other/openscenegraph/src/osg/GraphicsContext.cpp:47 in a debugger shows that s_WindowingSystemInterface is non-NULL without the --as-needed, and NULL with it</tt></td></tr>
<tr><td><tt>14:06.20</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad gaganjyot__ (~gagan@27.255.252.57)</font></tt></td></tr>
<tr><td><tt>14:19.57</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad luca79 (~luca@ge-19-100-237.service.infuturo.it)</font></tt></td></tr>
<tr><td><tt>14:36.28</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite__ (~infinite@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:38.40</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: it's the "Failure in execution, undefined symbols" case</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:39.37</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>that init and destructor case is very specific -- you'd have to only create objects and not make any other function calls, and that's clearly not what you've written</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:40.26</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>the problem is described in that section: "a directly-linked library did not link one of its dependencies"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:41.36</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>in this case, you're linking libosg or some library, but their build system is not properly specifying a library that it's using (demonstrated by your debugging find)</tt></td></tr>
<tr><td><tt>14:47.15</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad caen23 (~caen23@92.81.212.37)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:47.40</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: OK, I'll experiment</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:48.17</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>just looked through their sources and that does look to be the point where they bind to the host interface graphics system</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:48.50</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>and they're doing it through some obfuscating reference pointer masking, which is almost certainly why it's a getting lost as a runtime crash</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:51.35</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">is a trifle confused - the windowing specific stuff is in osgViewer, but that requires osg (not the other way around)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:53.14</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">is tempted just to build all these pieces into one big osg library...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:53.48</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>but I suppose that wouldn't address the problem if we use a system version of osg, which will be set up similarly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:54.35</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">looks at the original CMake build for osg - perhaps I mistranslated something</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:55.06</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>what about just adding --no-as-needed to their build?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:55.15</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>or did I misread and that's what you did?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:55.26</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt><font color="#CC00CC">thought it was to our build</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:55.34</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>yeah, added it to our build</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:55.41</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>I can try it in theirs and see if that fixes it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:55.46</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>it should</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:56.05</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>they're the one not specifying their own lib breakout fully and that's almost certainly the cause</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:56.29</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>i mean, they have 20 libs and they'd have to fully specify all of them IN THE PROPER ORDER</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:56.41</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>get just one dep wrong and you'd see this issue</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:58.01</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>building our stuff with as-needed is actually a pretty good test of our build logic .. that was hard to get working right with autotools too</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:59.12</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>there are some platforms where there is no concept of --no-as-needed, so you HAVE to fix the linkages (aix I think is like this)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:00.37</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>joy</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:00.50</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>wonder if osg will accept patches</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:02.46</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>well, they should fix their build by not using no-as-needed</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:03.18</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>but that's going to be more tricky and likely require one of their devs that is more familiar with their symbols and deps</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:03.20</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">would be surprised if they specify that... probably just "getting away with it"</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:04.04</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">growls... was having enough fun without this on top of it...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:04.25</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>nope, didn't do it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:05.46</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>libdm's ldd output is still showing only libosg.so</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:05.52</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>didn't bring in the others</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:06.42</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>eh? you call other symbols?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:07.06</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>libdm should only show libs that it directly calls symbols on</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:07.46</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>well, somehow (not clear to me how) when MGED starts up some of osgViewer's routines are used to initialize things</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:08.13</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>if that doesn't work, that seems to be what results in s_WindowingSystemInterface being NULL</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:08.44</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>sure, but it's whether dm actually calls osgViewer functions or whether it calls an osg symbol that calls osgViewer symbols</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:09.01</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>my quick look seemed like the latter was going on</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:09.02</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>but osg will never pull in osgViewer, since osgViewer depends on osg</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:09.10</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>per the build system</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:09.58</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>well that would likely be an issue, perhaps the issue</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:10.09</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>if there's a cyclic lib dependency for example</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:10.28</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>they both depend on each other is a valid state they could be in</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:10.30</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>that's going to be a problem even with a system version of the libs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:11.12</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>so... should libdm do something to make sure osgViewer is brought on-board somehow?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:11.56</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>I'd only expect that if it calls osgViewer functions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:12.04</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>growl...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:12.08</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>what happens if you just tell their build that osg depends on osgViewer?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:12.19</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>then the build system has a cyclic dependency</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:12.22</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>or not depends, but actually add it to osg's link line</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:12.33</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>so?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:12.39</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>which one does Make build first?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:13.50</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>I would expect osgViewer and their depends is wrong</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:14.18</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">tries osgViewer without osg to see what happens...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:15.24</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>could also test what happens if libdm is told to link both osg and osgViewer</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:16.01</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>but I suspect it's the way that osg is linked that is the problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:16.22</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">is telling libdm to link both now - it's not enough</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:16.33</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>the as-needed thing seems to be striping it out</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:20.32</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>right, that's what I figured</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:21.04</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>that s_WindowingSystemInterface is problematic, it's untyped</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:21.28</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>so the linker needed to know when osg was built what it needed to be</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:21.56</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>you did specify them in the right order, yes? :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:22.07</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>(when testing libdm linking both)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:22.32</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>no idea</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:23.18</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>ok, even when I built osg after osgVIewer and explicitly added osgViewer to osg's library list, ldd *still* doesn't show osgViewer as hooked up to libosg</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:24.23</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>ldd shouldn't matter -- libosg becomes resolved</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:25.30</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>maybe a relatable example: I could build a librt that does NOT depend on libbu/libbn/etc, fully resolving all of the symbols when I build librt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:26.11</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>erm.&nbsp;&nbsp;Wouldn't that take some special options to make happen?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:26.23</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">kinda thought that's what static libraries were all about</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:27.27</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>continuing with build to test and see...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.09</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>it's very similar to static libs, but you can actually construct a lib that resolves it's symbols without colliding symbols (at least on some platforms)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.24</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>and that are not static libs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.41</tt></td><td><font color="#74dede"><tt>``Erik</tt></font></td><td width="100%"><tt>-F/dev/osg ? does this mean no ogre or mged-v3?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.58</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>so you write an app that uses -lrt .. and you can't call bu_log without adding -lbu, but all of the bu_log's in -lrt are fully resolved</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:29.00</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>``Erik: right now, trying openscenegraph</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:29.18</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: ah, gotcha</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:29.37</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>``Erik: doesn't impact 3rd gen interface</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:30.18</tt></td><td><font color="#74dede"><tt>``Erik</tt></font></td><td width="100%"><tt>hm, gonna try to wedge BRL-CAD in under VSL if this dm pans out? :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:30.35</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>VSL's use of it is one of the factors</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:30.38</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>which is basically what you're doing .. you've got an -losg and you're saying it needs symbols from osgViewer but they're not resolved so you're getting a runtime crash</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:30.48</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>``Erik: of course that's exactly what he's doing :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:31.22</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>still crashing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:31.26</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>let me commit what I tried</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:31.39</tt></td><td><font color="#74dede"><tt>``Erik</tt></font></td><td width="100%"><tt>heh, and watch it become the new tcl/s2 problem down the road O:-)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:32.10</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: well if this goes much longer, can just try at least isolating --no-as-needed to libdm instead of everything</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:32.37</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>yay, black box found</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:32.54</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60388 (brlcad/branches/openscenegraph/src/other/openscenegraph/CMakeLists.txt brlcad/branches/openscenegraph/src/other/openscenegraph/src/CMakeLists.txt and 2 others): Try to get osg to be aware of osgViewer from the get-go (didn't seem to work...)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:32.55</tt></td><td><font color="#74dede"><tt>``Erik</tt></font></td><td width="100%"><tt>the malaysian flights?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:33.15</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, <a href="http://www.telegraph.co.uk/news/worldnews/asia/china/10746529/Malaysia-Airlines-MH370-black-box-ping-detected-reports.html?fb">http://www.telegraph.co.uk/news/worldnews/asia/china/10746529/Malaysia-Airlines-MH370-black-box-ping-detected-reports.html?fb</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:33.56</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: note that this is all predicated on your assertion that osg needs osgViewer ... which I didn't directly see</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:34.19</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>let me pastebin the backtraces</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:34.25</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>maybe I'm reading it wrong</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:34.36</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>i mean it fits the symptoms that there are symbols in one of their other libs, but unclear which</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:35.17</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods - I'll put together the path I've been following</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:35.27</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>wouldn't surprise me at all if I'm off in the weeds</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.35</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: I'm REALLY surprised that adding --no-as-needed to CMAKE_SHARED_LINKER_FLAGS didn't do the trick on a clean rebuild</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.03</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>did you confirm that it was 1) a clean build and 2) actually using no-as-needed when linking libosg and friends?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.06</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60389 (brlcad/branches/openscenegraph/src/other/openscenegraph/CMakeLists.txt brlcad/branches/openscenegraph/src/other/openscenegraph/src/CMakeLists.txt and 2 others): Put things back for now, since osgGA seems to be a requirement for osgViewer...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.42</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: I'll double check in a few minutes - let me get my initial setup reproduced before I rework it again</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:39.43</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>also know that as a C++ API, they very well could have the constructor/initailization problem that you first suspected .. very unlikely but possible with all their reference pointer hiding</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:40.24</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>but still, adding --no-as-needed in their build really *should* work...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:42.01</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>this shows --as-needed working: <a href="http://forums.gentoo.org/viewtopic-p-7480400.html">http://forums.gentoo.org/viewtopic-p-7480400.html</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:42.48</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>looks like they specifically added it in 3.0.0-2</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:43.36</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>maybe it's how I'm calling it then...</tt></td></tr>
<tr><td><tt>15:44.27</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>15:45.43</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad gaganjyot__ (~gagan@27.255.252.57)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:45.54</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>it's possible too if the library ordering is critical I might have messed it up when I reworked the build</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:46.44</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">can't help thinking that such ordering *really* shouldn't be necessary - that's very difficult to track in some situations...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:47.05</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>heh, it's most definitely necessary</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:47.55</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>gnu didn't do anyone favors by making their ld search for symbols anywhere on the link line, so much badness</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:48.24</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>used to be more common to encounter a system where ordering was required for proper resolution</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:49.05</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>so in a way, kind of refreshing to see --as-needed getting enforced</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:49.38</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>it'll be easy to tell if you have the ordering right -- what's libdm's link line look like?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:50.39</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>should be all the .o's followed by a bunch of our -llibs followed by -l's for system libs (and there should be -losg near the end)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:51.26</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>here's the initialization backtrace:&nbsp;&nbsp;<a href="http://pastebin.mozilla.org/4764810">http://pastebin.mozilla.org/4764810</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:54.32</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>link line: <a href="http://pastebin.mozilla.org/4764815">http://pastebin.mozilla.org/4764815</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:56.36</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>and that link line works, yes?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:56.44</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>yes</tt></td></tr>
<tr><td><tt>15:56.55</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Denis_ (~denisilie@141.85.0.116)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:56.57</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>as long as --no-as-needed is present</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:57.31</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>right, can you try manually running that link without no-as-needed and remove the first instance of libosg (there are two)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:57.39</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>one second...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:00.29</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>hmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:00.37</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>that *seemed* to have worked</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:00.47</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>so the question is where that first osg is coming from</tt></td></tr>
<tr><td><tt>16:10.05</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:12.22</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>doesn't work when I take the --no-as-needed out of the toplevel</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:12.33</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>growl...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:14.15</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>huh, *that's* interesting... - when I add it back in to libdm, I see the debug message from the plug-in dir setting but it still doesn't work</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:15.28</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>this is more and more looking like it's almost certainly an ordering issue</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:15.31</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>try eliminating all of the osg libs and just add -losg to the end </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:16.26</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>all of their libs must be ordered correctly if it's actually needing them all</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:17.17</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>ordering issue would also explain why adding --no-as-needed to osg didn't do anything (and the fact that they've been building with --as-needed for a long time now without others running into this problem)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:17.17</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60390 (brlcad/branches/openscenegraph/CMakeLists.txt brlcad/branches/openscenegraph/src/libdm/CMakeLists.txt and 2 others): Getting closer - don't need the toplevel set</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:17.32</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:17.57</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>just a matter of binary searching the lib ordering now ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:19.01</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">still thinks requiring that is a FAIL on the part of the tool chain - at the very least there should be some tool that takes a list of libs and does that testing automatically to generate the right ordering</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:19.08</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>or, worst case, report why its impossible</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:19.10</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>also, if this is the first --as-needed compile, keep an eye out for ordering of our libs that could be wrong .. might recheck the stack trace periodically</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:19.49</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>you can have the same symbol in multiple libs, which should it use?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:20.36</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods - that's fine if it can't decide (that would in fact be one of the undecidable cases) but a detailed report on what symbols and which libs would be a big help</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:21.13</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>assuming the dev has full knowledge of all such issues from all libs they're using in this day and age is likely to be a Bad Assumption</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:21.33</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>but it can decide</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:21.44</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>based on ordering, sure</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:21.44</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>and decide determinisitically</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:23.04</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>but if I've got too 3rd party libs, both of which define FOO and BAR, and I want FOO from the first one and BAR from the second, I've got a problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:23.08</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>the problem is that it can pick libA .. and linking that libA comes with it's own set of symbols that it has to hunt down .. and so on recursively</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:23.38</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>and it's not strictly a tree, it's any possible network topology</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:23.47</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>cycles are valid</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:23.55</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">winces</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:23.58</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>undesirable, but valid</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:24.20</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>and with runtime loading, you can't even know when you have certain topologies</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:25.53</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>wouldn't a coverity-style analysis of the code allow a tool to investigate the runtime possibilities?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:27.04</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60391 (brlcad/branches/openscenegraph/CMakeLists.txt brlcad/branches/openscenegraph/src/other/openscenegraph/CMakeLists.txt): OK, it's down to libfb and libdm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:27.36</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">doens't buy it that there exists a situation where the developer can keep track of such interrelatedness and the computer can't... there must be some solution</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:35.13</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>as long as you prohibit loading a library at runtime by filename, yeah sure .. and some plaforms do that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:35.56</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt>if you're going to allow runtime symbol insertion, you have to have deterministic symbol resolution ... which is ordering or some explicit table or some other method (all of which exist too)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:36.15</tt></td><td><font color="#d16ed1"><tt>brlcad</tt></font></td><td width="100%"><tt><font color="#CC00CC">gets off the dead horse :)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:36.22</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: narrowing down - libfb is what's providing the first set of osg libs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:36.38</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>can turn off libdm's and still work, so that's were the problem can be resolved</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:41.26</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60392 (brlcad/branches/openscenegraph/src/libdm/CMakeLists.txt brlcad/branches/openscenegraph/src/libfb/CMakeLists.txt): Narrow down on the problem - libfb is providing the first set of osg libs, and libdm doesn't have to factor in - solve the issue in libfb, and we've got it.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:50.14</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60393 (brlcad/branches/openscenegraph/src/libfb/CMakeLists.txt brlcad/branches/openscenegraph/src/other/CMakeLists.txt): Try adding other osg libraries explicitly in case the ordering needs to be explicit...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:54.23</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: osg by itself doesn't work.&nbsp;&nbsp;osgViewer by itself does, but only if I keep the no-as-needed</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:59.44</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60394 brlcad/branches/openscenegraph/src/libfb/CMakeLists.txt: I can get away at this stage with supplying *ONLY* osgViewer as a library, but I still need the no-as-needed flag or the initialization changes (I don't see my debugging line indicating the plugin directory has been loaded when starting MGED.)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:00.15</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>I tried including osg before and after osgViewer, doesn't seem to make a difference...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:04.29</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: thanks for taking the time to help me work through it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:05.08</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">will keep digging, but at least worst case that linker flag can be confined to libfb/libdm</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:11.34</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: another data point, fwiw - windowingSystemInterfaceRef is called even before main in MGED in the working scenario, and never called at all otherwise</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:12.04</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>can that happen as a consequence of ordering?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:13.14</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>or, perhaps a better question, if there *is* in fact a change in initialization per that gentoo page, is there any to make a definitive test for it that will either confirm it or rule it out?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:26.49</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>wait a minute...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:36.36</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>AH HAH!</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:39.08</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 60395 (brlcad/branches/openscenegraph/src/libdm/CMakeLists.txt brlcad/branches/openscenegraph/src/libdm/dm-osg.cpp and 2 others): Went too low level in the APIs and wasn't getting the initialization code I needed to call. Short term, create and delete a viewer to make sure all the right setup is called. Longer term, study how the osgviewerFLTK example works in osg and find out if it makes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:39.10</tt></td><td><font color="#69c7c7"><tt>Notify</tt></font></td><td width="100%"><tt>sense to retool how we are embedding osg in Tk.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:39.35</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">does happy dance</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:39.42</tt></td><td><font color="#c86969"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: thanks for your help!</tt></td></tr>
<tr><td><tt>18:15.03</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad richa (uid11933@gateway/web/irccloud.com/x-uhgiarqtvssdzbao)</font></tt></td></tr>
<tr><td><tt>18:19.43</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite__ (~infinite@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:22.18</tt></td><td><font color="#5e5eb3"><tt>infinite__</tt></font></td><td width="100%"><tt>brlcad: Hi! Just wish to enquire if this task www.google-melange.com/gci/task/view/google/gci2012/8095204 is open, because bu_semaphore.c already exists.</tt></td></tr>
<tr><td><tt>18:33.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite__ (~infinite@14.139.122.114)</font></tt></td></tr>
<tr><td><tt>18:52.01</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad devinder (~chatzilla@202.164.53.117)</font></tt></td></tr>
<tr><td><tt>19:24.12</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad hcurtis (b82d2950@gateway/web/freenode/ip.184.45.41.80)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:36.07</tt></td><td><font color="#5e5eb3"><tt>infinite__</tt></font></td><td width="100%"><tt>can anyone explain what does the argument stand for in&nbsp;&nbsp; nirt -e {fmt r "start (%g %g %g)\n" x_orig y_orig z_orig} </tt></td></tr>
<tr><td><tt>20:06.37</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad raj12lnm (6ad889c2@gateway/web/freenode/ip.106.216.137.194)</font></tt></td></tr>
<tr><td><tt>20:19.17</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Rich80 (~androirc@host86-157-13-66.range86-157.btcentralplus.com)</font></tt></td></tr>
<tr><td><tt>20:20.24</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite__ (~infinite@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:21.37</tt></td><td><font color="#60b760"><tt>Rich80</tt></font></td><td width="100%"><tt>Hi, I am a newbie progra</tt></td></tr>
<tr><td><tt>21:05.02</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Rich80 (~androirc@host86-157-13-66.range86-157.btcentralplus.com)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:10.15</tt></td><td><font color="#60b760"><tt>Rich80</tt></font></td><td width="100%"><tt>I am new to programming however I would like to develop a geometry converter between .g files and an XML format called Geometry Description Markup Language.&nbsp;&nbsp;Any help/guidance would be much appreciated.</tt></td></tr>
<tr><td><tt>21:22.00</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad FreezingCold (~FreezingC@135.0.41.14)</font></tt></td></tr>
<tr><td><tt>21:28.53</tt></td><td colspan=2><tt><font color="#000099">*** part/#brlcad gaganjyot__ (~gagan@27.255.252.57)</font></tt></td></tr>
<tr><td><tt>21:50.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@42-25-132-95.pool.ukrtel.net)</font></tt></td></tr>
<tr><td><tt>21:52.10</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite (~infinite@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:08.40</tt></td><td><font color="#b86161"><tt>hcurtis</tt></font></td><td width="100%"><tt>brlcad: Hi, Sean. Thanks to your and starseeker's guidance, I have come a long way. Incidentally, I've made additional improvements to my proposal on Melange, and I'm working on a patch.</tt></td></tr>
<tr><td><tt>22:10.33</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infinite (~infinite@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:20.33</tt></td><td><font color="#b86161"><tt>hcurtis</tt></font></td><td width="100%"><tt>brlcad: Hi, Sean. I'm working on this as a first patch. <a href="http://www.google-melange.com/gci/task/view/google/gci2013/4932878790033408">http://www.google-melange.com/gci/task/view/google/gci2013/4932878790033408</a> Do words like funcs and args count as spelling mistakes?</tt></td></tr>
<tr><td><tt>23:31.58</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@42-25-132-95.pool.ukrtel.net)</font></tt></td></tr>
<tr><td><tt>23:37.54</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ries_nicked (~ries@190.9.171.121)</font></tt></td></tr>
<tr><td><tt>23:57.43</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Denis (~denisilie@141.85.0.116)</font></tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
