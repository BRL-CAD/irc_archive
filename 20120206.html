<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20120206</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20120206</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr><td><tt>06:03.48</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad jordisayol (~jordisayo@unaffiliated/jordisayol)</font></tt></td></tr>
<tr><td><tt>07:51.25</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad packrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>08:07.09</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad packrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>08:13.54</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad pawleeq (~pawleeq@212-96-188-229.cust.selfnet.cz)</font></tt></td></tr>
<tr><td><tt>08:17.00</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad hackrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>08:29.44</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad packrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>08:42.23</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad packrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>09:13.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad pawleeq (~pawleeq@212-96-188-229.cust.selfnet.cz)</font></tt></td></tr>
<tr><td><tt>09:34.59</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad packrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>09:58.12</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad packrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad packrat (~packrator@c-98-209-146-133.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad jordisayol (~jordisayo@unaffiliated/jordisayol)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad dtidrow (~dtidrow@c-68-84-167-135.hsd1.mi.comcast.net)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kanzure (~kanzure@131.252.130.248)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad n_reed_ (~molto_cre@BZ.BZFLAG.BZ)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad KimK (~Kim__@209.248.147.2.nw.nuvox.net)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad DarkCalf (DC@173.231.40.98)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad louipc (~louipc@archlinux/fellow/louipc)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad brlcad (~sean@BZ.BZFLAG.BZ)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad starseeker (~starseeke@BZ.BZFLAG.BZ)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad archivist (~archivist@host81-149-189-98.in-addr.btopenworld.com)</font></tt></td></tr>
<tr><td><tt>11:35.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad cvds_ (~leila@e255180.upc-e.chello.nl)</font></tt></td></tr>
<tr><td><tt>11:35.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Maloeran (~maloeran@mail.catchgamer.no)</font></tt></td></tr>
<tr><td><tt>11:35.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ``Erik (~erik@BZ.BZFLAG.BZ)</font></tt></td></tr>
<tr><td><tt>11:35.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad piksi (piksi@pi-xi.net)</font></tt></td></tr>
<tr><td><tt>11:35.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad CIA-48 (~CIA@cia.atheme.org)</font></tt></td></tr>
<tr><td><tt>11:35.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad ChanServ (ChanServ@services.)</font></tt></td></tr>
<tr><td><tt>11:35.47</tt></td><td colspan=2><tt><font color="#009900">*** mode/#brlcad [+o ChanServ] by niven.freenode.net</font></tt></td></tr>
<tr><td><tt>12:24.42</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Yoshi47 (~jan@64.235.102.210)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:09.00</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>huh, something kicked up on bz at 3:15 this morning, added ~30% cpu usage</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:38.19</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>prolly someone browsing porn through a proxy</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:50.13</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>looks like google decided to do a big sweep again and encounting some errors, maybe? (6.5 hrs and counting, .3 cpu, all seems to be in httpd?)</tt></td></tr>
<tr><td><tt>15:28.21</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad juanman (~quassel@unaffiliated/juanman)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:34.44</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>looks like a couple bots are walking content at the moment</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:34.57</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt><a href="http://www.globalspec.com/Ocelli">http://www.globalspec.com/Ocelli</a> being one, googlebot another</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:41.43</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r49241 10/brlcad/trunk/ (2 files in 2 dirs): Need to take some extra care with the iwidgets manpages since CMake is prefixing them.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:50.44</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r49242 10/brlcad/trunk/src/other/CMakeLists.txt: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:50.45</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: INSTALL.new on CMake is different because we're not running the THIRD_PARTY</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:50.45</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: macro for SCL on Windows. Try a different approach to disabling SCL with MSVC</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:50.45</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: that should let the THIRD_PARTY macro run. This will be moot once we get SCL</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:50.45</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: working with MSVC, and can go away then.</tt></td></tr>
<tr><td><tt>17:28.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad jordisayol (~jordisayo@unaffiliated/jordisayol)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:33.57</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49243 10/brlcad/trunk/ (doc/deprecation.txt include/bu.h src/libbu/str.c): </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:33.57</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: header says null is a perfectly valid parameter to bu_strcmp() so there's no</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:33.57</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: need to print it. so get rid of the label parameter since it's otherwise</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:33.57</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: unused. that means the function can take on the macro name and the macro can go</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:33.57</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: away. round out the offering with implementations for strncmp() and</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:33.58</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: strncasecmp() too.</tt></td></tr>
<tr><td><tt>17:37.10</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad juanman (~quassel@unaffiliated/juanman)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:03.28</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49244 10/brlcad/trunk/include/bu.h: eep, update the macros calls to bu_strcmpm() to bu_strcmp()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:04.14</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49245 10/brlcad/trunk/include/bu.h: save the file, then commit</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:10.56</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49246 10/brlcad/trunk/src/libbu/str.c: hard to call bu_strncasecmp() if it doesn't exist. fix typo.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:28.41</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49247 10/brlcad/trunk/src/conv/cy-g.c: convert instances of strncasecmp with bu_strncasecmp</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:07.17</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49248 10/brlcad/trunk/src/libged/edit.c: comment tweak</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:08.04</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49249 10/brlcad/trunk/src/fb/fbstretch.c: comment not useful</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:09.21</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49250 10/brlcad/trunk/src/ (librt/search.c rt/read-rtlog.c): tweak comments regarding string comparisons</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:11.50</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49251 10/brlcad/trunk/src/ (6 files in 5 dirs): use BU_STR_EQUAL() and bu_strcmp/bu_strncmp instead of strcmp/strncmp for more consistent and clear string comparison behavior</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:19.11</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03n_reed * r49252 10/brlcad/trunk/ (include/bu.h src/librt/opennurbs_ext.h): bu_sscanf should use scanf (not printf) syntax check. Substituted remaining instances of __BU* with _BU*.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:56.39</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>That question is going to look stupid, but is BRL-CAD supposed to run fine with --enable-optimized? Without it, my build of VSL runs fine. Otherwise, VSL crashes after some access to unitialized memory within BRL-CAD while opening a .g according to Valgrind</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:01.14</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r49253 10/brlcad/trunk/src/other/lemon/lempar.c: Bug in lemon parser template on Windows - we still need yyRuleName even when NDEBUG is defined.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:02.49</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03bob1961 * r49254 10/brlcad/trunk/src/tclscripts/archer/ArcherCore.tcl: Fixed a bug in handleTreeSelect. Affected nodes not always getting highlighted when in this mode.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:19.09</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>it should, I'm seeing crashes related to bu_vls_snprintf() here :/</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:22.33</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r49255 10/brlcad/trunk/NEWS: Bob fixed a bug in Archer's tree view - the tree view wasn't highlighting the correct objects when the option was set to highlight objects that would be impacted by editing the currently selected object.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.14</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Ah! So I'm not alone</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:27.44</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Erik, do you want to investigate these crashes? Or I could, but I'm sure you know BRL-CAD more than I do :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:29.02</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49256 10/brlcad/trunk/regress/repository.sh: restructure so that we only walk the source hierarchy with find once. check for the other newer non-public headers (bin/bselect). stub in a new test for API usage.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:31.39</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>I have a fix for where I see it, but an older checkout already has it, need to investigate this a hair more</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:32.59</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49257 10/brlcad/trunk/src/libged/simulate/simulate.c: eliminate dead commented-out code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:35.08</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03erikgreenwald * r49258 10/brlcad/trunk/src/libged/red.c: Add bu_vls_init() to dynamically allocated vls. 49225 messed up by going a bit too wide.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:35.38</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49259 10/brlcad/trunk/src/ (5 files in 4 dirs): BU_STR_EQUAL() propagation</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:35.38</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>So that was the fix?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:35.42</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:35.48</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>for the red command</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:35.51</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Can you paste the few relevant&nbsp;&nbsp;lines of code?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:36.06</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>it's highly likely that brlcad broke it several other places with his commit there... :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:36.14</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>it was a missing bu_vls_init();</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:36.53</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>bt the crash to before the bu_vls_snprintf() or whatever and verify the vls is getting an init call before trying to use it *shrug*</tt></td></tr>
<tr><td><tt>20:37.11</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad GhstWlf (d9d215e0@gateway/web/ajax/mibbit.com/session)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:37.44</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>might be that lee did something silly like allocate and set the magic himself, instead of using the api... O.o I was seeing crashes in both debug and release</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:39.33</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>My crash is definitely with vls strings</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:39.48</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Valgrind says some read memory is never initialized</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:40.04</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>So yes, I'm pretty sure it was the same issue</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:44.05</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>I'd guess that there're several places that now have this issue, we'll just have to fix them as we find them... and take away someones scripted code modification capabilities *cough* O:-)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:44.50</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>:) Well I'll grab the latest SVN and let you know if that still crashes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:45.06</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>I doubt your thing would be using the red cmd from libged</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:45.39</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Ah. It's a db_update_nref() call reading a .g file that crashes in bu_vls_trimspace()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:46.06</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>And it does so systematically. I just had a telecon with other people, and it works fine for everyone else but me</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:46.12</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Also, I'm the only one who compiled BRL-CAD with optimization</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:47.30</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>do you have a stack trace?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:47.50</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Yes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:48.28</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r49260 10/brlcad/trunk/src/conv/step/schema.cc: need bu.h here for BU_STR_EQUAL</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:48.31</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt><a href="http://www.rayforce.net/brlcadbug.txt">http://www.rayforce.net/brlcadbug.txt</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:48.56</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Any insight? I'm using BRL-CAD 7.20.4</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:50.26</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>(gdb) p *vp&nbsp;&nbsp;&nbsp;&nbsp;$2 = {vls_magic = 2301836219, vls_str = 0x7fffcc002050 "R", vls_offset = 4294967296, vls_len = 140733193388072, vls_max = 140737028006102}</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:50.37</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>But that memory is unitialized, says Valgrind</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:51.55</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>I'm downloading the SVN now just in case</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:52.36</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>vls_lena nd vls_max are wayyy off</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:53.03</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Yup, the memory is unitialized, it's random garbage</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:54.19</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>trunk SHOULD work there, lemme look at 7.20.4</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:54.43</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Thanks</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:01.15</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>O.O I'd almost think something is screwy with your strlen()... maybe break in bu_str_true(), set watches, and do line stepping to see what happens? cuz it SHOULD work fine</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.54</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Yeah... I was hoping to avoid debugging BRL-CAD, it involves figuring out a big chunk of code first</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:04.41</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>not really, it's all in libbu</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:10.04</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, I'd guess there's an issue with your strlen() impl, your compiler or your gdb :/ I'd break bu_str_true and step it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:10.48</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>according to your gdb, you SHOULD be able to cause a crash with: int main(int argc, char **argv) { printf("%d\n", bu_str_true("R")); return 0; }</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:11.41</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>mine prints 82 on an optimized build, like it should</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:11.53</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>(and I even hopped on a 64b linux to test it)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:12.48</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Thanks, I'm debugging</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:15.26</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>hmmmm, does mged 'tops' work?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:15.35</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r49261 10/brlcad/trunk/CMakeLists.txt: Don't squack about librtserver unless it was actually on to start with...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:16.16</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>"Error: A database is not open!" ? :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:16.31</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, it needs an open db... :D like ktank</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:17.18</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>$ bin/mged share/brlcad/7.21.0/db/ktank.g tops</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:17.22</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Seems to work with moss.g</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:17.41</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>mebbe the .g file is mangled?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:18.40</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Everything seems to run fine. It may be more something like heap/stack corruption</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:22.55</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>I found the bug</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:23.33</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>libbu/booleanize.c, should be&nbsp;&nbsp;&nbsp;&nbsp;struct bu_vls vls = BU_VLS_INIT_ZERO;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:23.43</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>7.20.4 has struct bu_vls vls;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:23.46</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Trunk is fine though</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:24.39</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Too bad it's already fixed in trunk, I can't claim credits :p</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:26.14</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Perfect, it doesn't crash anymore. Thanks Erik</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:28.24</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>yes, but 7.20.4 had bu_vls_init(&amp;vls);, which does the same thing :/ *shrug* as longa s it's fixed, I suppose</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:29.59</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Hum... Yes, quite</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:32.21</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>You are right, this is quite strange, it doesn't appear to make sense</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:35.41</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>I put some printf() and it's definitely not cleared to zero after bu_vls_init(&amp;vls); This almost looks like a compiler bug</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.55</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>makes ya a bit twitchy, looking at a possible compiler bug, no? ;0</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.57</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:39.21</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>is libc going to puke? will the kernel spew random data across your inodes?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:39.58</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Examining flow, it doesn't actually go in bu_vls_init()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:40.08</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Grah screw that, I'm checking the assembly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:43.43</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r49262 10/brlcad/trunk/src/librt/db5_types.c: Initialize endptr to NULL (Lee Butler)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:47.19</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Could there be a conflict for the symbol bu_vls_init? gdb gives me an address for symbol bu_vls_init that isn't the function</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:48.19</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Oh crap. VLS might have a bu_vls_init</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:49.38</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Yup! Conflict between the 2 symbols, the BRL-CAD libraries are calling the bu_vls_init() from VLS</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:53.30</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>heh, that'd do it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:54.04</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>and your compiler didn't bark about symbol conflicts? -W -Wall -Werror -ansi -pedantic ... ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:55.34</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Apparently didn't. But it's a runtime symbol resolution conflict, not compilation time</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:56.15</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>you'd think it'd see it at link time unless once is being done through dlopen()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:56.58</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>My system might be setup in a non-typical way for that kind of stuff, I played with hijacking function calls from within libraries before</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:58.04</tt></td><td><font color="#bfbf64"><tt>``Erik</tt></font></td><td width="100%"><tt>violently enough for it to stick? LD_PRELOAD not good enough? ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:04.57</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Ah :), are you sure it's supposed to warn you when running a program with a symbol conflict?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:05.23</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Like if I write a program with a printf symbol, it's still going to compile&nbsp;&nbsp;and run</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:06.37</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Why did Lee copy half of vls.c in VLS anyway</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:31.58</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>``Erik: that wasn't one bit scripted</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.22</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>quick to blame me for vague notions of bugs, eh?&nbsp;&nbsp;that issue in red looks to be the only accidental init removal of a heap-allocated vls</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:43.44</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>I know it's far from your world, but do you guys know who is the lead developer for VSL?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:46.14</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03n_reed * r49263 10/brlcad/trunk/src/libbu/sscanf.c: fix branching on unitialized value</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:46.21</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>I have no idea who to send bug reports to, like that symbol conflict. And Lee isn't very talkative by email.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:48.41</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49264 10/brlcad/trunk/src/libged/red.c: no, 49225 didn't go far enough. there is no reason for target_name to be allocated on the heap. put the caller on the stack and pass in a pointer in so we just print to it. simplifies the cleanup too.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:49.19</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>Maloeran: whomever gave you the source code would be my inclination</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.25</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>That was Lee</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.31</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>there ya go ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.37</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Darn :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.57</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>there's actually vls.c source code in vsl?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.40</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Yes, half of it, but it's not used anywhere. And it conflicted with BRL-CAD and caushed all my crashes.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.59</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods, symbol overrides are a bitch</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.14</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>we use that trick in a couple places in brl-cad intentionally</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.17</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>it's ridiculous</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.35</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>I would rather use function pointers if you need that functionality</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.13</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>I suspect he probably pulled in sources in order to use some basic brl-cad features he's familiar with without requiring all of brl-cad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.16</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>s/all/any/</tt></td></tr>
<tr><td><tt>22:53.24</tt></td><td colspan=2><tt><font color="#000099">*** part/#brlcad jordisayol (~jordisayo@unaffiliated/jordisayol)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.38</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>but then later using more and more and eventually making it a dep, but not removing his copied source(s)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.43</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Well yes, except that code isn't used anywhere. It just made me lose 3 days of debugging</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.49</tt></td><td><font color="#b05cb0"><tt>Maloeran</tt></font></td><td width="100%"><tt>Right</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.26</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r49265 10/brlcad/trunk/regress/repository.sh: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.26</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: add the beginnings of a new regression test for API usage to make sure that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.26</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: common functions that libbu provides or wrapped are being used instead of their</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.26</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: non-libbu counterparts. we include exemptions for the implementation files that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.26</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: wrap functions and tester applications that compare them to the libbu version.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.27</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: since there are so many matches, though, don't let the test halt regression</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.28</tt></td><td><font color="#d46fd4"><tt>CIA-48</tt></font></td><td width="100%"><tt>BRL-CAD: until they're all taken care of.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.39</tt></td><td><font color="#c76868"><tt>brlcad</tt></font></td><td width="100%"><tt>woot, that's been a long time coming</tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
