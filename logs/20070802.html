<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20070802</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20070802</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr bgcolor="#eeeeee"><td><tt>00:14.59</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: ah crud. I thought I committed fstate, I didn't, d'oh. one sec.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:15.15</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>forgot to put in password. d'oh.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:15.53</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: 03poolio * 10brlcad/src/gtools/beset/ (beset.c fitness.c population.c fitness.h): fixed some bugs recently introduced. fstate no longer malloc'd</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:17.35</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: hmm. I think I'm actually compiled optimized. I'm guessing that's bad?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:34.11</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, makes debugging a lot harder</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:34.19</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>particularly because of inlining</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:34.37</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>otherwise valgrind is saying you've got stack corruption</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:35.09</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>alright, so enable debugging when I build?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:39.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: when I enabled debug nothing changed... I guess it was already enabled?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:41.39</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>debug is enabled by default</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:41.49</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>there is that summary at the end, it tells you what you have :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:41.56</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yeah yeah :P</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:42.00</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>it's also in your config.log near the end</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:42.10</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>So debug is enabled, as well as optimized</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:42.32</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>so disable-optimized</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:42.58</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>or keep a separate tree</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:43.07</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>since it takes your box a while to recompile</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:43.18</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>and you probably want optimized for the test runs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:44.51</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ugh :\ </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:45.44</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: k, ill copy the directory and build without optimized, then get back to you when that's done.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:46.24</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>see ya in an hour :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:53.36</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>hmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:57.04</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>when I try to display spkr.s from radio.g mged exits</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:58.25</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>your radio.g that you made presumably?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>00:59.44</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>oh yeah I guess I must have made it long ago from the tutorial</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:00.01</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>actually it's not specific to that file I tried something else</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:02.08</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: my laptop is melting. :(</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:02.44</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>louipc: can you display anything?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:02.51</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>poolio: how about a fan? :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:03.18</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>my old laptop used to get so hot, I kept a small fan blowing on it all the time</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:03.58</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: hmm. where? the underside?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:04.22</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>brlcad: yeah I was able to display the antenna and then I tried the spkr then it exited I will try in classic mode</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:05.42</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>poolio: no, just blowing across the keys is often enough to strip away the heat</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:06.00</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>takes a few minutes of course, but it does the trick</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:06.32</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>louipc: cool, I suspect it's crashing for some reason -- if you can reproduce it in classic, try doing it through gdb in classic</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:06.57</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: not bad. 13 minutes to compile.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:10.28</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: <a href="http://rafb.net/p/GdkYhX91.html">http://rafb.net/p/GdkYhX91.html</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:10.56</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>yep same stuff. classic at least tells me 'Illegal Instruction' before quitting</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:11.20</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>poolio: did you leave off all the preceeding or was that everything?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:11.48</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: I left off preceeding</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:11.54</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: here's with --show-reachable also <a href="http://rafb.net/p/IgdRHb93.html">http://rafb.net/p/IgdRHb93.html</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:12.10</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Note: all the previous errors happen before the main generation loop</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:12.28</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>i mean like the printf stuff</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:12.36</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yeah one sec</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:12.39</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>that shows up before the program output</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:12.50</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>that's okay, it's still saying there's a potential problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:13.06</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>lemme just copy it all :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:13.07</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>it's like compilation errors/warnings, should take care of them in order</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:13.11</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>as many cascade</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:13.28</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>would you like --show-reachable or no?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:15.04</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>doesn't matter yet</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:15.08</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>default output is fine</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:15.13</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>k</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:15.21</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>so you dont even want --leak-check?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:16.05</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>leave them both in</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:16.14</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>shouldn't matter, there's plenty to work with :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:16.28</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>each one of those could take an hour or 30 seconds</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:16.34</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>or longer</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:16.41</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>eeeek.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:17.12</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: <a href="http://poolio.org/~poolio/valgrind_output">http://poolio.org/~poolio/valgrind_output</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:17.14</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>the ptbl one is surprising -- it should leave a few bytes, but certainly not accummulate like that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:17.34</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well remember how many times I'm calling everything...a whole hell of a lot</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:18.08</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>note: that's the output from a run with pop size of 20, 50 generations, and 10x10 rays</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:18.47</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>I know, but when I said it was a "known issue", it's only known that there is a final allocation that is not freed until exit</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:18.55</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah I see</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:19.00</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>even subsequent calls to init should clear out the previous</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:19.10</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>so either there is a call missing or a leak in the library</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:19.24</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>i'd still start from the top of that list, though</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:20.09</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>are you up to date and commited?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:20.36</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yep.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:21.58</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>in spkr.s tor 16 16 16 1 0 0 12 1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:22.10</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>that causes mged to quit with "Illegal Instruction"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:22.56</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>louipc: that's working fine for me here</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:23.18</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>what version are you on?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:23.26</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>cvs head?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:23.38</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>yea</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:23.52</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>stack trace?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:24.13</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>gdb --args mged -c test.g in spkr.s tor 16 16 16 1 0 0 12 1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:24.18</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>run</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:24.19</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>bt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:24.26</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>pastebin :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:25.49</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>ahh I was trying to figure that out</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:32.31</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>hopefully that's useful :) <a href="http://pastebin.archlinux.org/11583">http://pastebin.archlinux.org/11583</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:33.29</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * 10brlcad/configure.ac: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:33.29</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: remove the 'automatic flags' configure option (royal pita to keep track of</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:33.29</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: cleanly in the configure logic for trivial gain) for now; rename the aquatk</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:33.29</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: configure option to be consistent with the others and make it actually pass that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:33.29</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: on to tk's configure; and add a proper JavaVM framework check, using it instead</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:33.31</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: of a platform test.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:36.50</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>hm, interesting trace .. it's trying to draw the tor so it did make it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:37.43</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: do you have time now to go over the valgrind output or would you rather do it later? (I have some other things to do that are flexible but I'd rather not just sit around :))</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:37.47</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>poolio: if you add this to main, is there still the qsort in the output:</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:37.47</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>&lt;PROTECTED&gt;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:37.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah k, one sec.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:38.43</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>it's really odd that it's whining about uninitialized values -- there's only three params</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:38.49</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>pop and the function</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:39.03</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>so I'm thinking it's pop</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:39.25</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>and the conditional is the fact that pop_init() could conceivably be overridden at run-time</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:39.39</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>that would then explain printf as well</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:40.46</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: err nope.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:40.56</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>seriously?&nbsp;&nbsp;damn.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:41.10</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>unless I'm executin the wrong binary</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:41.28</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>how are you running it?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:41.36</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>valgrind .libs/beset</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:41.52</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>eepish</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:42.04</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>ldd .libs/beset</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:42.23</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>you desire that output</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:42.23</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:42.38</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>you have to wrap (so either adding valgrind to the wrapper script or setting ld_lib manually</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:42.50</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>I suspect it says /usr/brlcad/...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:42.57</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>nope</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.05</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>I have them in /usr/lib</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.10</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>--prefix=/usr</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.11</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>I'm lazy like that.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.14</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>okay, whatever your prefix is</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.29</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>you know that will clobber some of your system libs on most linux systems</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.40</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>:D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.42</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Probalby, but I'm reinstalling the distro when I'm done working</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.49</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>So it doesn't really matter much</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:43.57</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>good to knwo though :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:44.18</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>the most common is usually librt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:44.43</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>which is a deprecated "real time compatibility" library that they've been planning to ditch for many years</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:44.56</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>our librt predates them by about a decade too, but that's just the way things are</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:45.31</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>similarly libbu and libbn conflict with some packages like curl also has a (private yet installed) "big number" library named the same</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:45.53</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>er, not curl .. maybe openssl, one of those guys</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:46.03</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>fight it out for rights to library names</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:46.03</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>and a handful of others</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:46.29</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>oh, we've stood our ground to date, though it does make integration with package management systems complicated</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:47.41</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>plus we really can't for the core libraries for many many reasons (and that includes the most often conflicting, libbu, libbn, librt)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:49.32</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>louipc: did you compile with -ffast-math?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:49.50</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>I see that it's optimized, I'm wondering if it's bad math juju</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:52.38</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: pardon my lack of bash scripting, but what exactly does ${1+"$@"} do? an array of </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:52.49</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>$@ is arguments? </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:57.27</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah I see</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:58.37</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>it's just a quirky way of expanding the arguments</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:58.49</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>"$@" expands to the command line arguments</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:00.50</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>it makes more since if it includes the :</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:01.02</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>i.e. ${1:+"$@"}</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:01.08</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: no change</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:01.25</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>which means .. "if it has $1 set, then substitute $@"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:01.50</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yeah, I got the clue when I changed it and it sad bad substitution</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:01.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>s/sad/said</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:02.03</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>$@ is basically $1 $2 $3 $4 ...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:02.33</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>so it's kinda fruity to do it that way, but it probably matters for some old system if someone did it that way</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:02.37</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: <a href="http://poolio.org/~poolio/val">http://poolio.org/~poolio/val</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:03.08</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>ooh, i don't think i noticed cmd_ind before</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:03.25</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>cmp_ind?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:03.35</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>it was there. same output :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:04.27</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, I see it now</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:05.04</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>so it's basically saying either the pop element is potentially uninitialized for some reason, or fitness specificially is</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:05.16</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>that's..</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:05.19</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>odd</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:06.15</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>er, not pop.. pop.parent</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:06.21</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well it's potentially true if pop_spawn() wasn't called</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:06.37</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>pop.parent is alloc'ed but none of the variables are intiialized until pop_spawn() is called</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:17.16</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: you might want to try running valgrind locally....I may have just royally fscked something on my end</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:19.56</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>i was about to actually, to see if I can reproduce it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:20.02</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>what's your inputs look like?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:20.09</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>./beset source.g test.r</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:20.30</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>source.g is the database that contains test.r</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:20.41</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>test.r is just a region with two spheres unioned together</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:20.54</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>louipc: looking at that function, the only thing I can see *might* be a problem is if you had non-ieee floating point -- do you have your config.log from the compile on hand somewhere?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:21.18</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Any region should do</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:21.18</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>in any database</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:21.18</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>okay</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:21.18</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>so no population sizes or iteration counts</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:21.52</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>it defaults to 50 pop size, i think 20 generations, and a resolution of 10x10, (doesnt kill/keep any lower/upper)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:22.00</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:22.10</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>lemme update options documentation, forget the -u -l</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:27.28</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: 03poolio * 10brlcad/src/gtools/beset/beset.c: documented -u and -l options</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:45.29</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: no luck?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:45.49</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah alright :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:46.27</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>(whilst shaiking fist at louipc..)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:48.05</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>he either uncovered something rather surprising that hasn't come up in at least a decade, or something entirely different is going on with that crash</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:48.58</tt></td><td><font color="#c86969"><tt>brlcad</tt></font></td><td width="100%"><tt>either way, I have to rebuild now cause of core changes</tt></td></tr>
<tr><td><tt>02:58.21</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad SWPadnos_ (n=Me@dsl245.esjtvtli.sover.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:44.41</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: sorry to keep bugging you, I'm just kind of clueless as to what to do from here... it seems like there is some sort of overflow somewhere but it doesn't make much sense and I feel like it'd be segfaulting if that was the case</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:45.17</tt></td><td><font color="#dc74dc"><tt>louipc</tt></font></td><td width="100%"><tt>brlcad: I rebuilt with debugging symbols and made a more detailed trace <a href="http://pastebin.archlinux.org/11584">http://pastebin.archlinux.org/11584</a></tt></td></tr>
<tr><td><tt>03:57.02</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad louipc (n=louipc@bas8-toronto63-1088754591.dsl.bell.ca)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:30.22</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>tis not possible! brlcad left :o</tt></td></tr>
<tr><td><tt>06:15.10</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad tofu (n=sean@bz.bzflag.bz)</font></tt></td></tr>
<tr><td><tt>07:16.06</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Laniakea (n=clock@zux221-122-143.adsl.green.ch)</font></tt></td></tr>
<tr><td><tt>09:14.45</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Laniakea (n=clock@zux221-122-143.adsl.green.ch)</font></tt></td></tr>
<tr><td><tt>12:25.32</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad thing0 (n=ric@203-59-92-250.dyn.iinet.net.au)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:10.50</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:10.55</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>all your connection are belong to me</tt></td></tr>
<tr><td><tt>13:26.13</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad poolio (n=poolio@c-69-251-3-107.hsd1.md.comcast.net)</font></tt></td></tr>
<tr><td><tt>15:13.05</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad elite01 (n=elite01@dslb-088-070-025-240.pools.arcor-ip.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:10.43</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>brlcad: anything?</tt></td></tr>
<tr><td><tt>17:14.29</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad yukonbob (n=yukonbob@whthyt224-180.northwestel.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:31.41</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>BRL-CAD runs on solaris 5.8 with the gnu build chain, just ran mged and did a few traces of sphflake</tt></td></tr>
<tr><td><tt>17:41.09</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad PrezKennedy (i=Matt@74.86.45.130)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:42.39</tt></td><td><font color="#5db15d"><tt>PrezKennedy</tt></font></td><td width="100%"><tt>shazaam!</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:44.46</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: you know where brlcad has disappeared to?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:45.30</tt></td><td><font color="#5db15d"><tt>PrezKennedy</tt></font></td><td width="100%"><tt>he is among us! a commoner :-O</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:47.47</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>ummmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:49.29</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>lets see, on saturday he's flying, which means today he's holed up and out of site tying to push 7.10.2 out the door</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:49.37</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>out of sight</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:49.46</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>crap.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:49.57</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>anything I can do for ya?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:50.26</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: if you have the time, I've got some odd leaks...The issue is that I'm trying to do larger test runs...and it leaks so much that it locks my system up (uses up all memory and swap)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:50.29</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- not as versed in the finer guts of the package, but likes to pretend he's not a complete retard once in a while</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:50.47</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: eh, you know much more than I do, any help would be appreciated, I'm pretty stuck</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:50.49</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>is valgrind reporting it as reachable memory?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:50.59</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: valgrind output is here: <a href="http://poolio.org/files/val">http://poolio.org/files/val</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:51.09</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: some of it, a lot of it is lost</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:52.13</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>10-13m lost, 5 reachable</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:52.15</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>um</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:52.32</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>what if you do what it says on the last line and run i with --leak-check=full ? :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:52.40</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yeah sure</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:53.32</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>maybe? not sure. changes from run to run so it's probably pid</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:53.53</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- generally only touches linux when porting, so is not that familiar with valgrind</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:54.00</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>as my rant yesterday may've indicated :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:54.11</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>:) if you want you could use whatever you use on it locally</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:54.45</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>it's in cvs src/gtools/beset</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:55.05</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- has no source data or clue of how to use it :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:55.15</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>also; when I try compiling it with my happy flags, it breaks like a mofo</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:55.49</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>source data is simple</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:55.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>a database, with a region in it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:55.55</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>that's all it needs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:56.23</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: oh yeah. I can probably fix that. What flags are you using again? (relevant pedantic/warnings etc..)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:56.27</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>so I could make a sphere or metaball and just use that? your code voxelizes and then tries to regenerate the initail data from the voxelized set?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:58.12</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>-W -Wall -Werror -ansi -pedantic -pipe -fno-strict-aliasing -fno-common -fexceptions -O3 -march=opteron</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:58.15</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>or so</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:58.40</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Jah :) Not exactly voxelized but close enough. It stores the rays</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:59.17</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>well, that's one mechanism for voxelizing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:59.49</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no one said it has to be a regular grid... indeed, many have moved to irregular tetrahedral grids</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:59.59</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah alright, then yes.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:00.34</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: oh, the issue is my use of // ... that's not in C89 I think</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:00.53</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no, // was introduced in c99</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:01.02</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>and we're still c89 ansi for the most part</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:01.27</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I did a sed -i.bak 's,//.*,,' *.[ch] the other day and still got build errors, iirc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:01.28</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Alright, brlcad said it was fine though, and I'm too lazy to change thar gith now. Most of the // comments are ones that are temporary while it's in active development. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:01.36</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>using gcc42</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:01.59</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well I might have some weird comments that are in odd forms</tt></td></tr>
<tr><td><tt>18:02.18</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad dtidrow (n=dtidrow@host131.objectsciences.com)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:02.30</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>initially, I did something like s,//\(.*\),/* \1 */,</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:02.42</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>but was foiled by things that looked like // blah /* something */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:02.55</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yeah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:04.04</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: if you kill ansi and pedantic because of comments, and just use -W -Wall it works fine (there's some unused variable warnings that don't make sense to change)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:04.08</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well unused parameter</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:07.58</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I can do it without the gooby flags, I mostly said that to piss ya off ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:08.27</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well, it's a good point. It will be cleaned up at some time. But it'd be great if you killed off your handy dandy flags and just let it build for now.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:08.37</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>running an update now, but it'ts going vvvveeeerrrrryyyy slow. for some reason, my mac doesn't like tlaking nfs to my nfs server so much the last couple days</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:08.54</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>sorry </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:09.37</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>and the boy changed configure.ac, so I'll have to sit around waiting for autoregen after the update *sigh*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:09.46</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>oh geez</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:09.51</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>cya in a couple days ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:10.53</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>won't take QUITE that long</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:10.57</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>but won't exactly be instance :/</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:11.26</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>instant</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:11.33</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>too much wow :( I suck</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:11.44</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>You play WoW?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:12.25</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>yes :(</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:12.29</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>gf made me, now I'm hooked</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:12.43</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>ffs, 3 instances of 'scrub' running on the same fs at the same time, wtf</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:13.01</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Wait wait. Your girlfriend made you play WoW? That's awful. Quit while you still can</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:13.53</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:14.07</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>she was pissed at me yesterday cuz I kept playing wow</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:14.23</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>and my lower level char is higher than her high level one</tt></td></tr>
<tr><td><tt>18:14.52</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Laniakea (i=clock@77-56-106-16.dclient.hispeed.ch)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:15.45</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Quit. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:17.01</tt></td><td><font color="#5db15d"><tt>PrezKennedy</tt></font></td><td width="100%"><tt>wow sucks...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:17.21</tt></td><td><font color="#5db15d"><tt>PrezKennedy</tt></font></td><td width="100%"><tt>just had to get that out there ;-)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:17.22</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>you suck</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:17.31</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I'd say your mom sucks, but she's cool :/ so I can't do that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:17.47</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>:D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:17.58</tt></td><td><font color="#5db15d"><tt>PrezKennedy</tt></font></td><td width="100%"><tt>haha</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:18.46</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>(also; ben, my big tool for finding and fixing major leaks is "don't put them in there in thte first place" :D )</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:18.54</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>debugging is a pain, so don't put the bugs in</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:19.19</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Thanks ``Erik, maybe some day I'll be a better coder.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:19.44</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>what's a good object to get your freaky behavior? is a sphere sufficient?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:19.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yeah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.00</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>it's not caused by the input data</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.10</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- has been coding for 24 years, is still trying to be a better coder</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:21.24</tt></td><td><font color="#5e5eb2"><tt>Laniakea</tt></font></td><td width="100%"><tt>``Erik: how old are you?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:22.41</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Run it like ./beset db.g region.r</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:23.11</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>ancient :(</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:23.43</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>not as old as john, though</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:23.49</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- about to turn 31</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.06</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hum, ok</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.12</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>it ran in .25 seconds O.o</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.21</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: oh yeah, so if you want it to run longer</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.27</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>specificy some options to do so</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.28</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>so</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.38</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>./beset -p 300 -g 100 -r 32 db.g region.r</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.45</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.47</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>./beset for documentation</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.49</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I did -p 1000 -g 1000</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>errr</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.03</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>i mean, I have a slow laptop, so you might be able to take that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.03</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>tat slows it down enough to watch it grow</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.12</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>quad opteron 2.0ghz with 8g ram</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.20</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I figured I wanted a slower machine to do it on</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.21</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>:D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.23</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>yeah fair enough, I'm just not sure how to exit gracefully and have valgrind catch it?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.31</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no valgrind, not linux</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.31</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>...that's slow? rawr.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.41</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>the linux boxes are 8 core</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.43</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>is this threaded?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.50</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>doesn't look like it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:30.51</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>it was, I disabled the threading for testing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:31.10</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>the codes in there, just commented out for now while I try to fix these leaks</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:31.47</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>ok, -p 1000 -g 10 takes 3sec, that should be sufficient</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:32.00</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>k :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:32.24</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>3 seconds? geez man. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:32.27</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well I'm not running optimized</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:33.32</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hum</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:33.36</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>beset in free(): warning: junk pointer, too high to make sense</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:33.48</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>where in beset?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:34.15</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>heh, doesn't say, gonna add some stuf fin... happens at the very beginning</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:34.39</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hmm alright</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:34.46</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>(no frees are directly called by beset.c)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:35.07</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no bound overwrites</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:35.26</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>that's good. does that mean there can't be any stack overflow?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:35.32</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well stack corruption</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:35.58</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I'd assume</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:36.35</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>boehm seems to crash</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:36.44</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>probably from that pointer error</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:37.03</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>the free() one?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:37.22</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:37.44</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>can you specify more t han free() in beset? there aren't any direct free()s called in beset.c is there a backtrace for it or something?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.04</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no backtrace, unfortunately</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.26</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>so the only thing youc an say is there's some bogus pointer being free()'d somewhere near the beginning of the program?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.09</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Could I narrow that down by adding some printf debugging output at certain intervals in between routines?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.31</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I can add those, just sit tight a few, I'm getting some environments rigged up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.32</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>:)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.37</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Alright thanks</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.51</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Oh wait...here's a big idea. Do I need to free the partition and segments list passed to the a_hit routine?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:42.34</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>the junk pointer stuff is at _init() time :/</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:43.24</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>uhmmmm, hrm, I'm not sure :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:44.09</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I don't THINK so, but I'm not sure</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:44.11</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>So I really have no control over the junk pointer you're talking about right?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:44.56</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>right</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:45.11</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>It doesn't look like I need to clean up the partitions/segments. g_qa doesn't</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:45.26</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>That's what I based the raytracing section of beset off of</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:46.14</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:11.55</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:12.11</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>I have some ideas for optimizations, but none for fixing the leaky software :P</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:12.44</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>how irritating, valgrind doesn't lilke amd64</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:12.50</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>it seems it's JUST for i386 linux</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:13.33</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>and opennurbs sucks big hairy goat balls and has my mac build all plugged up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:13.44</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>sorry</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:16.52</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>what if; </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:17.15</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>add externs in beset.c, then at the beginning of the loop in beset.c, null them out... and see if valgrind hleps there?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:17.20</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>or did you try that already?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:17.41</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well, I null them at the beginning of pop_gop</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:17.46</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>so they are nulled each iteration</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:17.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>(before they are used)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:19.49</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hrmmmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:24.04</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: I just updated CVS if you want to try it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:24.13</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>also now you fun flags will work (except -Werror)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:24.28</tt></td><td><font color="#71d7d7"><tt>CIA-29</tt></font></td><td width="100%"><tt>BRL-CAD: 03poolio * 10brlcad/src/gtools/beset/ (6 files): now conforms to C89</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:52.36</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hrmmmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:52.50</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>it doesn't look like the allocs that are leaking are in src/gtools/beset</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:58.44</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hummmmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:58.53</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>iiiinteresting, </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:59.07</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>are any of these numbers magic? 36 4.5 2.25</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:07.52</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: errr, not as far as I know</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:08.55</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: I remember brlcad saying something about bu_ptbl_init...maybe there?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:09.26</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hrm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:09.40</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>there're 36 retained records for -p 1 -g 1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:10.09</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>when I bump it to -p 10 -g 1, it's 2.25x, and -p 1 -g 10 is 4.5x</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:10.25</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>weird</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:11.05</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>(and obviously, 2.25*2=4.5</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:11.06</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:11.33</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>(also; I wouldn't rule out g_qa leaking like a seive)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:11.39</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>heh alright]</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:12.22</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Something to note, -p 1 - g 1 doesn't do anything in terms of the GA. It spawns a population, saves that to a database, and exits.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:12.40</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well -p 1 means it'll just spawn one individual and save it to a database and exit</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:12.41</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>ok, right, because g-1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:12.50</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>so -g 10 does 0-8</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:12.57</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>which seems... odd</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:12.58</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>:)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.00</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.04</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>it does 0-9</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.06</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>(geenrates the population)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.11</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>but we dont evaluate the fitness for the last generation</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.19</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>okie</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.22</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>well</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.31</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.36</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>It has to do with the way the loop is worked</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.45</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>if -p 10 -g 1 shows growth</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:13.59</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I'd assume that might mean your leak might possibly be in your population generation</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:14.11</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>maybe</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:14.26</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>spawn_first_generation(); for(each_generation){evaluate fitness of previous and spawn new generation}</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:14.46</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Seems so, let me check.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:15.16</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah d'oh. there is leakage there</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:15.19</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>let me fix that up</tt></td></tr>
<tr><td><tt>20:15.38</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Apathy (i=Matt@74.86.45.130)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:15.47</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>I don't think mk_sph would (I think cleanup of the db ointer would do that)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:16.01</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>mk_addmember might</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:16.11</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>well that'd be part of the wm_hd list cleanup I'm about to write</tt></td></tr>
<tr><td><tt>20:17.47</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad IriX64 (n=mariodot@bas2-sudbury98-1096601569.dsl.bell.ca)</font></tt></td></tr>
<tr><td><tt>20:18.02</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Laniakea (i=clock@77-56-106-16.dclient.hispeed.ch) [NETSPLIT VICTIM]</font></tt></td></tr>
<tr><td><tt>20:18.02</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad CIA-29 (n=CIA@208.69.182.149)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:18.18</tt></td><td><font color="#6161b8"><tt>IriX64</tt></font></td><td width="100%"><tt>testing found this ---&gt;&nbsp;&nbsp;<a href="http://rafb.net/p/GJBQ0l79.html">http://rafb.net/p/GJBQ0l79.html</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:18.58</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, it's in src/other so it's someone elses problem... there're a fistful of those in our code, too, I think</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:19.24</tt></td><td><font color="#6161b8"><tt>IriX64</tt></font></td><td width="100%"><tt>thankyou</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:19.35</tt></td><td><font color="#6161b8"><tt>IriX64</tt></font></td><td width="100%"><tt>i'll fix my copy :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:20.02</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: none of the code in proc_db cleans up the wm_hd lists</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:20.22</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>I don't think it needs to be actually... but I'll try anyway</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:20.40</tt></td><td><font color="#6161b8"><tt>IriX64</tt></font></td><td width="100%"><tt>invoke mr_clean()&nbsp;&nbsp;&nbsp;&nbsp; :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:21.55</tt></td><td><font color="#6161b8"><tt>IriX64</tt></font></td><td width="100%"><tt>ahem, i return to my own trials and tribulations, sorry poolio :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:22.04</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>:(</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:23.14</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>poolio, it's highly possible that a lot of this stuff expects only one run and does not clean up, assuming the OS will clean up at exit... :/ you're presenting a unique challenge to the framework :)</tt></td></tr>
<tr><td><tt>20:23.42</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Laniakea (i=clock@77-56-106-16.dclient.hispeed.ch) [NETSPLIT VICTIM]</font></tt></td></tr>
<tr><td><tt>20:23.42</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad CIA-29 (n=CIA@208.69.182.149)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:24.54</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: argh. Also: there's no de-init needed in pop_spawn() with the wm_hd...all of it should clean itself up at the end of the routine</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.17</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>once I have a re-done build</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.23</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I'm going to commit grave fugliness</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.29</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah. which is?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.40</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>and tap it with a debugger to see if I can get a stack trace on one of those leak points</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>alright, you're over my head. thanks a ton for the help</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.00</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.19</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I have the addresses of the un-freed things</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.38</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>I'm going to put something in bu_malloc() that searches for some of those addresses</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.53</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>"if the pointer happens to be 0x080c2351, break to debugger"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.54</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>:)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.57</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hopefully it works</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.58</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>wow</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:27.01</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>that is really friggin fugly.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:27.11</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- king of ugly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:27.22</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>but sometimes it works, then I look godlike :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:27.34</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hehe</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:28.03</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>so you don't think the leaks have to do with anything I could fix in beset?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:28.08</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>well</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:28.12</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>they're not actually leaks</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:28.28</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>just not freed when they should be... there's still a path to them</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:28.44</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>wait</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:29.06</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>so most of the memory leaks are reachable things that were allocated in the stack and weren't properly freed when their respective routines exited?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:30.07</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:30.30</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>only active frames of the stack are considered</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:30.48</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>otherwise, valgrind SHOULD see it as an omfg leak</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:30.54</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>heh alright</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:37.47</tt></td><td><font color="#6161b8"><tt>IriX64</tt></font></td><td width="100%"><tt>mc</tt></td></tr>
<tr><td><tt>20:43.02</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad iraytrace (n=iraytrac@cocoa.sci.utah.edu)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:51.26</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>iiiinteresting</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:51.46</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>oi, lee</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:53.03</tt></td><td><font color="#61b9b9"><tt>iraytrace</tt></font></td><td width="100%"><tt>Evenin</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:53.13</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>the first one is in rt_gettree()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:55.52</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>maybe lee can fix all the bugs. :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:56.12</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>is this big boss man lee?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:56.36</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no, this is whipping boy expatiate lee :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:57.08</tt></td><td><font color="#61b9b9"><tt>iraytrace</tt></font></td><td width="100%"><tt>He's got *that* right.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:57.32</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ouch.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:57.34</tt></td><td><font color="#61b9b9"><tt>iraytrace</tt></font></td><td width="100%"><tt>poolio:&nbsp;&nbsp;It's great too see what you've been doing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:57.39</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>so your report was sat on past the deadline?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:57.50</tt></td><td><font color="#61b9b9"><tt>iraytrace</tt></font></td><td width="100%"><tt>:-(</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:58.00</tt></td><td><font color="#61b9b9"><tt>iraytrace</tt></font></td><td width="100%"><tt>There's more to it than just that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:58.24</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>iraytrace: thanks. It's been quite slow and frustrating though. I expected to be so much further so much faster. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:58.53</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>poolio, this is what I'm looking at now, as the 'first possible culprit': <a href="http://pastebin.bzflag.bz/d43fc0cc6">http://pastebin.bzflag.bz/d43fc0cc6</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:59.13</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>valgrind picked that up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:59.26</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>let me find the valgrind snippet</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:59.31</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>(not in that much detail of course)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:02.15</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: <a href="http://rafb.net/p/McsUKV59.html">http://rafb.net/p/McsUKV59.html</a> &lt;-- valgrind gets it too</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:04.07</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hum</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:05.03</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hmm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:05.57</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>so another possibility, I remember brlcad talking about offsets in the internal objects. I currently write the same internal object from one database into the next database without modifying the internal object in any way (just creating a new directory in the new database). Is there something i need to do to the rt_db_internal structure before I write it out to the new database?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:06.20</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>&lt;-- has no idea</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:07.01</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hmm. I think it's not that. I feel like that would manifest itself as collisions between to rt_db_internal structs with the same offset and blow up. But it appears that the code works fine aside from the leaks. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:08.01</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>(and the databases aren't corrupt or anything)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:08.29</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Also, that whole situation of copying internal objects doesn't occur with a generation size of one</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:16.13</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Oh. That's a pain.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:17.18</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>It looks like it is rt_gettree(). It does happen with g=1 because I raytrace the region that is passed as an argument and rt_gettree() is called on that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:20.58</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>based on how it's used elsewhere</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:21.21</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hum, I was looking at this line before, heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:21.44</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>wait, you don't prep, do you?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:21.53</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>rt_prep()? I do</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:22.01</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>ah does that call gettree?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:22.35</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>no, that's what cleans up gettree</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:22.43</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>oh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:23.50</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>look at fit_rt() in fitness: rtip = rt_new_rti(db); rt_gettree(rtip); rt_prep(rtip); ...shoot rays...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:24.00</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>and finally rt_clean(rtip)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:25.01</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>not rt_free_rti() ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:25.19</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>no</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:25.31</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>I previously had rt_free_rti() but siwtched to rt_clean(). Do I need to do both?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:25.51</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>rt_free_rti() calls rt_clean() and does some other stuff</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:26.01</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hmm ok</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:26.33</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>rawr.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:26.42</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>Why did I change it to rt_clean()????????? </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:27.51</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>err still get the rt_gettree leak</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:31.23</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>hum, actually, I think we found different things O.o</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:32.36</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>hmm?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:32.52</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>I have a feeling I'm not properly comprehending what is allocated and unallocated in the rtip</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:33.10</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>heh, same here</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:33.50</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>&lt;PROTECTED&gt;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:34.09</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>is that different than rt_uniresource?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:40.45</tt></td><td><font color="#6e6ed1"><tt>poolio</tt></font></td><td width="100%"><tt>``Erik: argh I have to go, but I'll be around later. If you come across anything just write it in here or send me an e-mail and I'll see it in a couple hours. Thanks again for all the help</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:42.15</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt>np</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:47.55</tt></td><td><font color="#ca6a6a"><tt>``Erik</tt></font></td><td width="100%"><tt><a href="http://egv8.game.googlepages.com/home">http://egv8.game.googlepages.com/home</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:00.29</tt></td><td><font color="#61b9b9"><tt>iraytrace</tt></font></td><td width="100%"><tt>The rt_uniresource is a single resource allocated by the library</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:00.43</tt></td><td><font color="#61b9b9"><tt>iraytrace</tt></font></td><td width="100%"><tt>For multiple, the application has&nbsp;&nbsp;to alloc/dealloc</tt></td></tr>
<tr><td><tt>23:34.53</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad b0ef (n=b0ef@062016141081.customer.alfanett.no)</font></tt></td></tr>
<tr><td><tt>23:46.21</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad iraytrace (n=iraytrac@cocoa.sci.utah.edu)</font></tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
