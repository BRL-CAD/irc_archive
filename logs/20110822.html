<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.6.0" />
<title>IRC log for #brlcad on 20110822</title>
<meta name="generator" content="irclog2html.pl" />
<meta http-equiv="Content-Type" content=
"text/html; charset=utf-8" />
<style type="text/css">
/*<![CDATA[*/
 body {
  background-color: #FFFFFF;
  color: #000000;
 }
 span.c11 {color: #CC00CC}
 span.c10 {color: #CE6C6C}
 span.c9 {color: #62BBBB}
 span.c8 {color: #5F5FB5}
 span.c7 {color: #5DB05D}
 span.c6 {color: #DCDC74}
 span.c5 {color: #DDDD74}
 tr.c4 {background-color: #EEEEEE}
 span.c3 {color: #B9B961}
 span.c2 {color: #009900}
 ins.c1 {display:inline-block;width:728px;height:90px}
/*]]>*/
</style>
</head>
<body>
<h1>IRC log for #brlcad on 20110822</h1>
<script async="async" src=
"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle c1" data-ad-client=
"ca-pub-1563266826402652" data-ad-slot="5026919875"></ins> 
<script>
<![CDATA[

(adsbygoogle = window.adsbygoogle || []).push({});
]]>
</script>
<form action="http://www.google.com" id="cse-search-box">
<div><input type="hidden" name="cx" value=
"partner-pub-1563266826402652:3301963896" /> <input type="hidden"
name="ie" value="UTF-8" /> <input type="text" name="q" size="55" />
<input type="submit" name="sa" value="Search" /></div>
</form>
<script type="text/javascript" src=
"http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing="3" cellpadding="2" border="0">
<tr>
<td><tt>02:06.02</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad nsd_
(~nicholas@c-24-0-153-224.hsd1.pa.comcast.net)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>02:38.05</tt></td>
<td><span class="c3"><tt>starseeker</tt></span></td>
<td width="100%"><tt>bhinesley: excellent!</tt></td>
</tr>
<tr>
<td><tt>02:47.17</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad abhi2011
(~chatzilla@ip170-79-211-87.adsl2.static.versatel.nl)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>05:11.11</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok I have got objects updating inside mged now
using rt_matrix_transform() according to bullet output</tt></td>
</tr>
<tr>
<td><tt>10:44.25</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad archivist
(~archivist@host81-149-189-98.in-addr.btopenworld.com)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>11:48.08</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok I was wondering how conditional compiling
is implemented in the build system</tt></td>
</tr>
<tr class="c4">
<td><tt>11:48.43</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so I have some files which are based on
Bullet's libraries, but if Bullet is not installed then the compile
will fail</tt></td>
</tr>
<tr class="c4">
<td><tt>11:49.19</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yet if these files are not compiled then a
function which is called from libged will not exsist and that too
would cause the build to fail</tt></td>
</tr>
<tr class="c4">
<td><tt>11:50.05</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>perhaps there is a way to compile a dummy
function in a separate file if bullet is not detected , so both the
above errors can be avoided ?</tt></td>
</tr>
<tr class="c4">
<td><tt>11:53.19</tt></td>
<td><span class="c6"><tt>kunigami1</tt></span></td>
<td width="100%"><tt>abhi2011: you can do something I did for OSL.
take a look at Cmakelists.txt at liboptical</tt></td>
</tr>
<tr class="c4">
<td><tt>11:53.39</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>kunigami1: thanks I ll take a look</tt></td>
</tr>
<tr class="c4">
<td><tt>11:59.46</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok so you use a top level cmake flag to enable
or disable osl : BRLCAD-ENABLE_OSL</tt></td>
</tr>
<tr>
<td><tt>12:00.13</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad d_rossberg
(~rossberg@BZ.BZFLAG.BZ)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>12:57.10</tt></td>
<td><span class="c3"><tt>starseeker</tt></span></td>
<td width="100%"><tt>IF(BULLET_FOUND) could be my first
guess</tt></td>
</tr>
<tr>
<td><tt>13:07.34</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad Elrohir
(~kvirc@p5B149541.dip.t-dialin.net)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>13:50.19</tt></td>
<td><span class="c6"><tt>kunigami1</tt></span></td>
<td width="100%"><tt>abhi2011: by the way, to set the
BLCAD-ENABLE_OSL flag there, you can call cmake with
-DBRLCAD-ENABLE_OSL=ON</tt></td>
</tr>
<tr class="c4">
<td><tt>13:54.14</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: 03erikgreenwald * r46310
10/brlcad/trunk/src/libged/simulate.c: #if 0 out some unused
code</tt></td>
</tr>
<tr class="c4">
<td><tt>13:54.48</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: 03erikgreenwald * r46311
10/brlcad/trunk/src/mged/cmd.c: remove unused variable</tt></td>
</tr>
<tr>
<td><tt>14:00.21</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad abhi2011
(~chatzilla@wlan-145-94-185-238.wlan.tudelft.nl)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>14:39.24</tt></td>
<td><span class="c8"><tt>``Erik</tt></span></td>
<td width="100%"><tt>fwiw, I believe today is "pencils down" for
gsoc</tt></td>
</tr>
<tr class="c4">
<td><tt>14:40.42</tt></td>
<td><span class="c8"><tt>``Erik</tt></span></td>
<td width="100%"><tt>abhi: awesome, very awesome</tt></td>
</tr>
<tr class="c4">
<td><tt>14:47.32</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yep preparing the cmake logic for commit now
:)</tt></td>
</tr>
<tr class="c4">
<td><tt>15:33.59</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: 03d_rossberg * r46312
10/brlcad/trunk/src/librt/ (bbox.c primitives/rpc/rpc.c):</tt></td>
</tr>
<tr class="c4">
<td><tt>15:33.59</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: For the Windows build: MSVC is not
C99</tt></td>
</tr>
<tr class="c4">
<td><tt>15:33.59</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: moved variable declarations
upwards</tt></td>
</tr>
<tr class="c4">
<td><tt>15:43.15</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: 03bob1961 * r46313
10/brlcad/trunk/src/tclscripts/archer/ (Archer.tcl ArcherCore.tcl):
The rectangle used for selection was no longer being drawn due to a
previous modification (i.e. not drawing rectangle if its lwidth is
0). This restores the desired behavior in Archer.</tt></td>
</tr>
<tr class="c4">
<td><tt>15:44.55</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>congrats on the new logo</tt></td>
</tr>
<tr>
<td><tt>16:40.40</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad DarkCalf
(DC@173.231.40.98)</span></tt></td>
</tr>
<tr>
<td><tt>19:01.35</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad abhi2011
(~chatzilla@ip170-79-211-87.adsl2.static.versatel.nl)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>19:36.45</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>starseeker: for submodels, each callback is
basically a mini program in itself meaning they have to open the
subdatabase files (like rt and company) to do their
processing</tt></td>
</tr>
<tr class="c4">
<td><tt>19:36.58</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>responding to backlog so comments may be
OBE</tt></td>
</tr>
<tr class="c4">
<td><tt>19:45.27</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>abhi2011: there should be no reason to prefer
static over dynamic libraries when linking bullet (and you
shouldn't be adding /usr/local/* to the default link/search paths
(e.g., LINK_DIRECTORIES)) .. that's something to be specified
during cmake</tt></td>
</tr>
<tr class="c4">
<td><tt>19:46.07</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>(i.e. that's a "non-std" location in
itself)</tt></td>
</tr>
<tr class="c4">
<td><tt>19:47.16</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>plaes: thx!  it is pretty nifty</tt></td>
</tr>
<tr class="c4">
<td><tt>19:47.40</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>yup, nice and simple</tt></td>
</tr>
<tr class="c4">
<td><tt>19:53.04</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>kunigami1: you can't export variables to a
parent context so you'd have to wrap that in a script</tt></td>
</tr>
<tr class="c4">
<td><tt>19:53.53</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>are these images here created with brlcad:
<a href=
"http://ronja.twibright.com/3d/">http://ronja.twibright.com/3d/</a>
?</tt></td>
</tr>
<tr class="c4">
<td><tt>19:54.07</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>abhi2011: you can't just mark a variable as
'const' and expect it to work -- that's why I said you'd have to
make a copy.  if you're calling a non-const function but need the
object to remain unmodified, you have to make your own copy of that
object beforehand</tt></td>
</tr>
<tr class="c4">
<td><tt>19:54.12</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>plaes: yes</tt></td>
</tr>
<tr class="c4">
<td><tt>19:55.36</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>how do I save such images? :)</tt></td>
</tr>
<tr class="c4">
<td><tt>19:57.04</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>what do you mean?</tt></td>
</tr>
<tr>
<td><tt>19:57.56</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad DarkCalf
(DC@173.231.40.98)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>19:58.03</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>well, I know that the models are made by
brlcad, but how do I save such black-and-white images</tt></td>
</tr>
<tr class="c4">
<td><tt>19:58.58</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>rtedge</tt></td>
</tr>
<tr class="c4">
<td><tt>19:59.17</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>\o/</tt></td>
</tr>
<tr class="c4">
<td><tt>19:59.20</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>rt is the usual renderer, but there are a
handful of other rt* renderes</tt></td>
</tr>
<tr class="c4">
<td><tt>19:59.54</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>rt and rtedge both work within mged
equivalently</tt></td>
</tr>
<tr class="c4">
<td><tt>20:00.04</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>some of the others are external to
mged</tt></td>
</tr>
<tr class="c4">
<td><tt>20:00.14</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>all can be run external</tt></td>
</tr>
<tr class="c4">
<td><tt>20:01.09</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>lots of cool stuff still hidden in all these
programs ;)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:01.22</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt><span class="c11">nods</span></tt></td>
</tr>
<tr class="c4">
<td><tt>20:04.36</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>building stuff with primitives is like
"simulating" machining.. ;)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:06.20</tt></td>
<td><span class="c9"><tt>plaes</tt></span></td>
<td width="100%"><tt>first build a part on the computer and then
try it out in real life - <a href=
"http://timmu.store20.com/galerii/?galerie=frees">http://timmu.store20.com/galerii/?galerie=frees</a></tt></td>
</tr>
<tr class="c4">
<td><tt>20:17.45</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>brlcad: ok , yes I understand now</tt></td>
</tr>
<tr class="c4">
<td><tt>20:19.43</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>I was checking with the db_functree() function
and i saw that it tries to lookup the primitives for a combination
in the dbip which I pass to it, which is of course what it should
do</tt></td>
</tr>
<tr class="c4">
<td><tt>20:20.31</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>and it fails as expected as the dbip does not
have the primitive in it , as its the in mem db_i I made in the
function</tt></td>
</tr>
<tr class="c4">
<td><tt>20:22.20</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>plaes: that's a pretty nifty old machine
there</tt></td>
</tr>
<tr class="c4">
<td><tt>20:22.39</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so its back to square one , which is how to
get union tree for the constituent primitives when passed just the
rt_db_internal for a region containing those primitives</tt></td>
</tr>
<tr class="c4">
<td><tt>20:29.20</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>abhi2011: that's why I said earlier that in
order to call db_functree(), you need to use the unmodified dbi
from the original dbip ... not your in-mem copy</tt></td>
</tr>
<tr class="c4">
<td><tt>20:29.50</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>to use the inmem, you'd need to recursively
call db_functree() on the original dbi and copy them into the
inmem, just so you could look them up again</tt></td>
</tr>
<tr class="c4">
<td><tt>20:30.02</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>basically a big pain and probably
unnecessary</tt></td>
</tr>
<tr class="c4">
<td><tt>20:30.25</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>much easier to create a new comb, add your
primitive, then have all objects go through the other existing bb
routine</tt></td>
</tr>
<tr class="c4">
<td><tt>20:30.42</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>brlcad: ok yah that would work, I was trying
to find a way to not pass an extra parameter as the idea was to
just pass a rt_db_internal</tt></td>
</tr>
<tr class="c4">
<td><tt>20:31.08</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes so I tried making a comb too</tt></td>
</tr>
<tr class="c4">
<td><tt>20:31.14</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>however it needs a tree as well</tt></td>
</tr>
<tr class="c4">
<td><tt>20:31.27</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>if you lines 414 to 418 in bbox.c</tt></td>
</tr>
<tr class="c4">
<td><tt>20:31.32</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>*if you see</tt></td>
</tr>
<tr class="c4">
<td><tt>20:31.44</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>you don't need an extra parameter</tt></td>
</tr>
<tr class="c4">
<td><tt>20:32.18</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>the unmodfiied db_i is globally available then
?</tt></td>
</tr>
<tr class="c4">
<td><tt>20:32.35</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>the original db_i i mean</tt></td>
</tr>
<tr class="c4">
<td><tt>20:33.21</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>I think you might be a bit confused by the
different approaches being discussed</tt></td>
</tr>
<tr class="c4">
<td><tt>20:34.22</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>well there are 2 approaches : either use
db_functree() or make a comb :)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:35.10</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>since making a comb is easier , lets focus on
that  then</tt></td>
</tr>
<tr class="c4">
<td><tt>20:36.14</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so the idea was that make a rt_comb_internal
with 1 leaf for shapes , for combinations, well they are already a
rt_comb_internal</tt></td>
</tr>
<tr class="c4">
<td><tt>20:36.43</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>so far, sounding good</tt></td>
</tr>
<tr class="c4">
<td><tt>20:36.50</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok :P</tt></td>
</tr>
<tr class="c4">
<td><tt>20:37.33</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so the basics challenge in making a
rt_comb_internal out of a shape is : the tree parameter in the
rt_comb_internal structure</tt></td>
</tr>
<tr class="c4">
<td><tt>20:37.50</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: 03bob1961 * r46314
10/brlcad/trunk/src/tclscripts/archer/ArcherCore.tcl: Updated
ArcherCore::selectTreePath to make the selected tree item
visible.</tt></td>
</tr>
<tr class="c4">
<td><tt>20:38.10</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>or rather the tree member</tt></td>
</tr>
<tr class="c4">
<td><tt>20:38.12</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>not a challenge at all erally :)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:38.38</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>umm but I would need the tree for the shape
right, I cant get that from the rt_db_internal</tt></td>
</tr>
<tr class="c4">
<td><tt>20:38.56</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>you need a tree, yes</tt></td>
</tr>
<tr class="c4">
<td><tt>20:39.09</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>filling in a tree is simple</tt></td>
</tr>
<tr class="c4">
<td><tt>20:39.34</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>if the rt_db_internal is already a comb, you
can just access the comb's tree</tt></td>
</tr>
<tr class="c4">
<td><tt>20:39.50</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>if the rt_db_internal is a primitive, you'll
make a comb and add that primitive to the comb's tree</tt></td>
</tr>
<tr class="c4">
<td><tt>20:40.21</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so something like combp-&gt;tree  =
intern-&gt;tree</tt></td>
</tr>
<tr class="c4">
<td><tt>20:40.23</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>see the comb.c file, for the comb command,
shows creating an rt_comb_internal and filling it in</tt></td>
</tr>
<tr class="c4">
<td><tt>20:40.34</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>where intern is the rt_db_internal</tt></td>
</tr>
<tr class="c4">
<td><tt>20:40.41</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>for the primitive</tt></td>
</tr>
<tr class="c4">
<td><tt>20:40.53</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>that doesn't look or sound right</tt></td>
</tr>
<tr class="c4">
<td><tt>20:41.16</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>intern-&gt;tree is not valid</tt></td>
</tr>
<tr class="c4">
<td><tt>20:41.39</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes rt_db_internal does not have a tree
member, so the tree in the rt_db_internal has to be
accessed</tt></td>
</tr>
<tr class="c4">
<td><tt>20:42.01</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok that part should be easy</tt></td>
</tr>
<tr class="c4">
<td><tt>20:42.11</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>IFF intern is a comb, then intern-&gt;idb_ptr
is an rt_comb_internal</tt></td>
</tr>
<tr class="c4">
<td><tt>20:42.20</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>oh! :P</tt></td>
</tr>
<tr class="c4">
<td><tt>20:42.56</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>umm no I knew that</tt></td>
</tr>
<tr class="c4">
<td><tt>20:43.22</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>IFF intern is a primitive, then where is the
tree , will find that out</tt></td>
</tr>
<tr class="c4">
<td><tt>20:43.29</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>so you'd call something like
rt_bound_tree(intern-&gt;idb_ptr-&gt;tree) if it's a comb or
rt_bound_tree(my_comb-&gt;tree) if it's a primitive</tt></td>
</tr>
<tr class="c4">
<td><tt>20:43.29</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>:)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:43.46</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes I understand that</tt></td>
</tr>
<tr class="c4">
<td><tt>20:44.03</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>you have to make my_comb</tt></td>
</tr>
<tr class="c4">
<td><tt>20:44.08</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes</tt></td>
</tr>
<tr class="c4">
<td><tt>20:44.13</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>see comb.c :)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:44.19</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yep :)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:44.32</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>you'll need a tiny subset similar to what
_ged_combadd() does</tt></td>
</tr>
<tr class="c4">
<td><tt>20:45.02</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>look for the GETSTRUCT lines to see where an
rt_comb_internal is allocated</tt></td>
</tr>
<tr class="c4">
<td><tt>20:45.19</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok</tt></td>
</tr>
<tr class="c4">
<td><tt>20:46.46</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>by the way , on a different note,  I am
curious about the other approach : that is using db_functree(), you
said the original db_i need not be passed</tt></td>
</tr>
<tr class="c4">
<td><tt>20:47.09</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so then it can be got using a global variable
or a function ?</tt></td>
</tr>
<tr class="c4">
<td><tt>20:52.24</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>no, I think you're misunderstanding something
I was saying -- you are passed a db_i to your function -- you can
just use it</tt></td>
</tr>
<tr class="c4">
<td><tt>20:52.32</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>you just need to make a copy of it if you're
going to pass it to some other non-const function</tt></td>
</tr>
<tr class="c4">
<td><tt>20:54.55</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>well , the function is like this : int
rt_bound_internal(struct rt_db_internal *ip, point_t rpp_min,
point_t rpp_max), so there is no db_i passed</tt></td>
</tr>
<tr class="c4">
<td><tt>20:55.53</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>sorry, I was using "db_i" to mean
db_internal</tt></td>
</tr>
<tr class="c4">
<td><tt>20:56.21</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>not to be confused with a database instance
db_i</tt></td>
</tr>
<tr class="c4">
<td><tt>20:56.24</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>oh ok , I though you meant struct
db_i</tt></td>
</tr>
<tr class="c4">
<td><tt>20:56.28</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yah i get it :)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:57.35</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>you only needed a db_i to call rt_dirbuild()
iirc, so that primitive bounding boxes get calculated</tt></td>
</tr>
<tr class="c4">
<td><tt>20:58.11</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes, this db_i however was constructed from
the original .g database file</tt></td>
</tr>
<tr class="c4">
<td><tt>20:58.20</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so it had all the primitives</tt></td>
</tr>
<tr class="c4">
<td><tt>20:58.21</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>that approach is still fine, it's just combs
that are even simpler with
rt_bound_tree(ip-&gt;idb_ptr-&gt;tree)</tt></td>
</tr>
<tr class="c4">
<td><tt>20:58.41</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes</tt></td>
</tr>
<tr class="c4">
<td><tt>20:58.46</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>&lt;PROTECTED&gt;</tt></td>
</tr>
<tr class="c4">
<td><tt>20:59.00</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>meanwhile, I got bullet running in
mged</tt></td>
</tr>
<tr class="c4">
<td><tt>20:59.04</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>and the cmake logic done</tt></td>
</tr>
<tr class="c4">
<td><tt>20:59.08</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>outstanding</tt></td>
</tr>
<tr class="c4">
<td><tt>20:59.33</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>about to commit that : had some changes to top
level cmake file , hope starseeker is standing by :P</tt></td>
</tr>
<tr class="c4">
<td><tt>20:59.35</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>sounds like more work is needed on the cmake
logic, but shouldn't be too difficult</tt></td>
</tr>
<tr class="c4">
<td><tt>20:59.48</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>what's the diff look like?</tt></td>
</tr>
<tr class="c4">
<td><tt>21:00.05</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>I ll pastebin it 1 sec</tt></td>
</tr>
<tr class="c4">
<td><tt>21:01.19</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>basically added logic to compile a dummy
simulate.c file that does nto bullet headers, if bullet is
absent</tt></td>
</tr>
<tr class="c4">
<td><tt>21:01.46</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>in the top level there is logic to find the
bullet library and link /usr/local/lib</tt></td>
</tr>
<tr class="c4">
<td><tt>21:03.10</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>presuming you saw my earlier comment, assuming
/usr/local/lib is no good</tt></td>
</tr>
<tr class="c4">
<td><tt>21:04.04</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>oh ok, I think I missed that</tt></td>
</tr>
<tr class="c4">
<td><tt>21:04.31</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>reading now :)</tt></td>
</tr>
<tr class="c4">
<td><tt>21:04.40</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>I mean, /usr/local is probalby the only
"non-default" system locations that could be added, but adding it
should be systematic for include headers, libs, and bins</tt></td>
</tr>
<tr class="c4">
<td><tt>21:05.11</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>and it still shouldn't be subdir aware like
/usr/local/lib/bullet/.</tt></td>
</tr>
<tr class="c4">
<td><tt>21:06.03</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>libs not in "system" paths should be declared
to cmake or handled by some Find*.cmake routines</tt></td>
</tr>
<tr class="c4">
<td><tt>21:07.46</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok, I would have thought that /usr/local/lib
would be searched by default by cmake</tt></td>
</tr>
<tr class="c4">
<td><tt>21:07.57</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so I would not need to specify it</tt></td>
</tr>
<tr class="c4">
<td><tt>21:08.18</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>well I am using the stock FindBullet.cmake
module</tt></td>
</tr>
<tr class="c4">
<td><tt>21:09.09</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>its installed by cmake, and it finds and sets
the ${BULLET_INCLUDE_DIR},  ${BULLET_LIBRARIES} correctly</tt></td>
</tr>
<tr class="c4">
<td><tt>21:09.44</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>but its not setting the ${BULLET_LIBRARY_DIR}
variable, which is what I would link to , to keep things
standard</tt></td>
</tr>
<tr class="c4">
<td><tt>21:10.35</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>here is the top level CMakeLists.txt diff :
<a href=
"http://bin.cakephp.org/view/1810550039">http://bin.cakephp.org/view/1810550039</a></tt></td>
</tr>
<tr class="c4">
<td><tt>21:10.46</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>will try to get rid of
LINK_DIRECTORIES("/usr/local/lib")</tt></td>
</tr>
<tr class="c4">
<td><tt>21:13.17</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>this is the libged/CMakeLists.txt file that
also required changes : <a href=
"http://bin.cakephp.org/view/860235467">http://bin.cakephp.org/view/860235467</a></tt></td>
</tr>
<tr class="c4">
<td><tt>21:16.44</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok , so I am thinking maybe I can remove the
LINK_DIRECTORIES("/usr/local/lib") line in the top level
CMakeLists.txt file</tt></td>
</tr>
<tr class="c4">
<td><tt>21:17.09</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>as long as a user does not enable bullet , the
rest of the build will be fine</tt></td>
</tr>
<tr class="c4">
<td><tt>21:17.27</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>if he does enable bullet, then there will be a
linking error</tt></td>
</tr>
<tr class="c4">
<td><tt>21:17.53</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>so the exact location where the user has
installed the libs can be specified using a cmake command line
flag</tt></td>
</tr>
<tr class="c4">
<td><tt>21:18.20</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>that would eliminate any hardcoded library
paths</tt></td>
</tr>
<tr class="c4">
<td><tt>21:21.55</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>of course that begs the question as to why
${BULLET_LIBRARY_DIR} is not being set by the stock
FindBullet.cmake module , its probably not looking at the right
place</tt></td>
</tr>
<tr class="c4">
<td><tt>21:26.28</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>so several comments</tt></td>
</tr>
<tr class="c4">
<td><tt>21:26.50</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>sure, searching /usr/local/lib might be
expected .. but that has nothing to do with bullet and shouldn't be
part of your patch/commit</tt></td>
</tr>
<tr class="c4">
<td><tt>21:27.12</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>certainly shouldn't be specific to an
if(BRLCAD-ENABLE_BULLET) section</tt></td>
</tr>
<tr class="c4">
<td><tt>21:27.58</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>which brings up my second point, and
enable/disable toggle for that seems unnecessary -- it should test
for bullet and, if found, use it.  otherwise, the command
implementation is disabled at compile-time</tt></td>
</tr>
<tr class="c4">
<td><tt>21:30.08</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>brlcad: ok I understand</tt></td>
</tr>
<tr class="c4">
<td><tt>21:30.26</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>abhi2011:  you also do not need
simulatedummy.c -- that should be logic contained within the
simulate.c file (#ifdef) OR put it all in a subdir with it's own
CMakeLists.txt file</tt></td>
</tr>
<tr class="c4">
<td><tt>21:30.45</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>probably should put it all in a subdir anyways
just because you have multiple implementation files</tt></td>
</tr>
<tr class="c4">
<td><tt>21:31.13</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok , yes that will be easier</tt></td>
</tr>
<tr class="c4">
<td><tt>21:32.25</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes I thought about the #ifdef , but I havent
found a compile time symbol that is defined if bullet was
found</tt></td>
</tr>
<tr class="c4">
<td><tt>21:33.38</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok,  I think there will be some symbol which
will be defined if the bullet headers are detected, will go through
the headers</tt></td>
</tr>
<tr class="c4">
<td><tt>21:33.48</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>if one is not defined, you can define
one</tt></td>
</tr>
<tr class="c4">
<td><tt>21:33.59</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>but make sure one isn't already
defined</tt></td>
</tr>
<tr class="c4">
<td><tt>21:34.04</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>yes, but bullet is detected by cmake</tt></td>
</tr>
<tr class="c4">
<td><tt>21:34.16</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>yes, so? :)</tt></td>
</tr>
<tr class="c4">
<td><tt>21:34.20</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>i cant define a symbol to be used in a c file
, in the cmake logic</tt></td>
</tr>
<tr class="c4">
<td><tt>21:34.26</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>sure you can</tt></td>
</tr>
<tr class="c4">
<td><tt>21:34.29</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>umm...but as usual i am off mark :P</tt></td>
</tr>
<tr class="c4">
<td><tt>21:34.37</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok thats totally cool :)</tt></td>
</tr>
<tr class="c4">
<td><tt>21:34.56</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok will find out about it</tt></td>
</tr>
<tr class="c4">
<td><tt>21:35.15</tt></td>
<td><span class="c10"><tt>brlcad</tt></span></td>
<td width="100%"><tt>see include/brlcad_config.h in your build
directory for a list of symbols already being defined during
cmake</tt></td>
</tr>
<tr class="c4">
<td><tt>21:35.26</tt></td>
<td><span class="c5"><tt>abhi2011</tt></span></td>
<td width="100%"><tt>ok</tt></td>
</tr>
<tr>
<td><tt>22:02.07</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad abhi2011
(~chatzilla@ip170-79-211-87.adsl2.static.versatel.nl)</span></tt></td>
</tr>
<tr>
<td><tt>22:15.15</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad kunigami
(~kunigami@201.53.206.27)</span></tt></td>
</tr>
<tr>
<td><tt>23:00.39</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad abhi2011
(~chatzilla@ip170-79-211-87.adsl2.static.versatel.nl)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>23:28.47</tt></td>
<td><span class="c7"><tt>CIA-62</tt></span></td>
<td width="100%"><tt>BRL-CAD: 03brlcad * r46315
10/brlcad/trunk/src/libged/edit.c: quellage, may be
unitialized</tt></td>
</tr>
</table>
<br />
Generated by irclog2html.pl Modified by <a href=
"http://Rikers.org">Tim Riker</a> to work with <a href=
"http://infobot.sourceforge.net/">infobot</a>.
</body>
</html>
