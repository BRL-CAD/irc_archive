<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20110421</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20110421</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr bgcolor="#eeeeee"><td><tt>02:28.10</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>hello evander </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:30.43</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>so the merge is complete?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:42.01</tt></td><td><font color="#75df75"><tt>evander</tt></font></td><td width="100%"><tt>I'm having trouble getting brl-cad to compile, it's just one line causing trouble, anyone willing to help</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:42.05</tt></td><td><font color="#75df75"><tt>evander</tt></font></td><td width="100%"><tt>?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:49.42</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>``Erik: doing a final pass review now</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:50.12</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>haven't done a compilation check yet, both old and new builds may be busted but the changes are reviewed and merged</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:50.17</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>evander: what's the failure?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:51.39</tt></td><td><font color="#75df75"><tt>evander</tt></font></td><td width="100%"><tt>make says that 'abi' and 'aci' 'may be uninitialized in this function'</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:54.42</tt></td><td><font color="#75df75"><tt>evander</tt></font></td><td width="100%"><tt>this is for the proc_box function in src/librt/patch/patch-g.c line 1936: 'vect_t ab, ac, ad, abi, aci, adi'</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:55.37</tt></td><td><font color="#75df75"><tt>evander</tt></font></td><td width="100%"><tt>sorry, src/conv/patch/patch-g.c</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:10.12</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>evander: there's a flag to disable strict flags when you run configure, try that?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:14.10</tt></td><td><font color="#75df75"><tt>evander</tt></font></td><td width="100%"><tt>I'll try</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:21.38</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44466 10/brlcad/trunk/src/conv/patch/patch-g.c: quell strict compilation warning reported by evander via irc. compiler wasn't smart enough to figure out that use prior to init isn't possible (valid is false).</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:33.41</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44467 10/brlcad/trunk/misc/archlinux/brlcad.install: remove the rcs id var to minimize branch diff. add /bin/sh header for source scanners since it looks like proper syntax.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:37.54</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44468 10/brlcad/trunk/src/other/togl/CMake/CheckFunctions.cmake: this just very well may be the last sync needed to merge cmake branch to trunk.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:40.20</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>verified, the diff looks clean</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:40.33</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>now to check/fix the build :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:41.09</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>fair game for anyone to hack on now</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:51.57</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>I'll do my usual spread tomorrow and either fix or report all the failures O.o I doubt there'll be many if the merge is solid, been fixing/reporting for the cmake branch for a while :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:17.17</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>should be possible to have both working without too much effort at least while install testing proceeds -- that was just a pure source merge review so the branch can be closed out</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:19.52</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44469 10/brlcad/trunk/src/conv/patch/patch-g.c: oops, double semi</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:31.31</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>hmm.. the lights regression is failing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:31.46</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>pretty sure it worked for release, but not 100%</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:34.18</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44470 10/brlcad/trunk/TODO: light regression is failing, need to investigate and fix. don't know when it broke.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:39.04</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44471 10/brlcad/trunk/TODO: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:39.04</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: aha, found the cause. the lights test calls 'put' and sets attributes directly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:39.05</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: including several old attribute names such as rgb and .. oshader. this makes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:51.34</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44472 10/brlcad/trunk/src/librt/CMakeLists.txt: deterministic behavior still applies, ignore individual 'extra_dist' files.</tt></td></tr>
<tr><td><tt>05:55.06</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr><td><tt>08:02.29</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad crazy_imp (~mj@a89-182-193-94.net-htp.de)</font></tt></td></tr>
<tr><td><tt>08:07.31</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad crazy_im1 (~mj@a89-182-199-125.net-htp.de)</font></tt></td></tr>
<tr><td><tt>08:45.35</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad mafm (~mafm@213.Red-83-40-126.dynamicIP.rima-tde.net)</font></tt></td></tr>
<tr><td><tt>10:29.08</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad d_rossberg (~rossberg@BZ.BZFLAG.BZ)</font></tt></td></tr>
<tr><td><tt>11:28.43</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Yoshi47 (~jan@64.235.102.210)</font></tt></td></tr>
<tr><td><tt>11:39.39</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@193.254.217.44)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:14.36</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>interesting.. old build passed distcheck :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:26.00</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">blinks - but it shouldn't, should it?</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:29.06</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>should the old stuff get all the CMakeLists.txt and misc/CMake/ stuff added as EXTRA_DIST ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:29.42</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>that's why it passing distcheck was interesting :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:29.56</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>but otherwise, yeah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:30.18</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">winces - that's a lot of work unless we're going to maintain both for a while</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:30.21</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>distcheck won't complain if unknown "turds" don't get put in the tarball</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:30.32</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>only minimal attention I'd think -- wont' live for long</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:30.55</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>``Erik: except I have logic in there that checks if anything is missing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:31.09</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>it compares the svn list with the dist</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:31.34</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>took some doing to duplicate that behavior with CMake</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:31.36</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: o.O not really .. 10 min tops</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:32.10</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: updating all the Makefile.am extradists for all the directories where something was added?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:32.11</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>tedious, sure, but not a lot of actual time</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:32.28</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>what do we gain?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:32.52</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>if we have to push a source release with it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:33.11</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>it's not your 10min, no worries :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:33.18</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>true :-)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:33.41</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>I didn't plan on adding them unless distcheck failed</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:33.53</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>and it didn't fail, so .. interesting :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:34.03</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>cmake build is currently failing due to the Itcl_Init issue, bty</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:42.49</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>hm, mine is actually failing in librt here</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:42.55</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>strictness fail on bot.c</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:43.02</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>signage warnings</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:48.03</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>er, yeah - itcl is with strict off</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:48.21</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>(lots of formatting blather too)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:56.13</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>so that's going to require a little digging -- Itcl_init definitely shouldn't be failing (nor should package require)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:56.18</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>i'll hop of the debugger later today</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:56.23</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>s/of/on/</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:00.10</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>the signed issues came from a commit indianlarry did, I'll ask him about it when he gets back in the office</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:01.55</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>autotools strict is actually off in librt, was turned off during release preparations due to a problem in the nmg export code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:02.04</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>so even if bot succeeds, nmg is going to issue a warning</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:02.41</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>we need to either exempt librt like autotools does, or fix the warnings (ideal)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:05.23</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, I'd like to ask him sooner than later while it's still semi-fresh, mebbe leave a comment in the src if it bears holding off reverting</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:06.08</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>log says something about a bug report, d'no which one, so'z *shrug*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:36.42</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: I know why Itcl_init isn't working - it's because I didn't include all the directories needed for the itcl.h/itk.h headers</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:37.29</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>was trying to use package require to avoid that whole "using private headers" mess</tt></td></tr>
<tr><td><tt>15:33.31</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@117.202.20.210)</font></tt></td></tr>
<tr><td><tt>15:33.31</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:57.14</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>mmmm, pr√∂st *pats belleh*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:58.04</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>brlcad: those g_bot_include signed issues are direct fallout from size_t, the 'index' and nhits stuff use -1 as a special value in some cases, a mixed of == and &lt;0</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:59.58</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: there are a couple of cases where I call out whole directories to ignore in the CMakeLists.txt files - in particular, the Tcl/Tk man pages are generated by scripts.&nbsp;&nbsp;I suppose would could actually list all those out and update that list every time Tcl/Tk changes something, but that's quite a pain as opposed to just snarfing the list of generated files after generating them</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:06.19</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44473 10/brlcad/trunk/doc/docbook/system/mann/en/CMakeLists.txt: Remove early experiment with file-checking code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:21.18</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44474 10/brlcad/trunk/src/ (bwish/CMakeLists.txt mged/CMakeLists.txt): Until we get it sorted out, add in the logic needed for btclsh/bwish and mged to find the itcl.h and itk.h headers.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:21.46</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>ok, that gets me going with a non-strict build on Mac</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:24.28</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">reflects that eventually we'll probably want to update the svn ignore properties in trunk</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:24.37</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03erikgreenwald * r44475 10/brlcad/trunk/src/librt/primitives/bot/g_bot_include.c: use temporary signed variables to quell the signed/unsigned warning. Add a TODO: requesting review down the road.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:34.00</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03erikgreenwald * r44476 10/brlcad/trunk/src/librt/primitives/nmg/nmg.c: bu_glong -&gt; ntohl (only tested on v5)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:35.35</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>librt should be safe for strict again</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:42.51</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44477 10/brlcad/trunk/ (misc/CMake/BRLCAD_Util.cmake src/librt/CMakeLists.txt): Add the ability to specify a NOSTRICT compile when adding a library.</tt></td></tr>
<tr><td><tt>18:11.53</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@222-14-94-178.pool.ukrtel.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:14.05</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>``Erik: yeah, I remember that patch -- most of the -1 should have been properly cast through size_t, so if anything was missed, it might have been a &lt;0 check that needed to be changed to == (size_t)-1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:14.28</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>warrants getting the test case that provoked the bug</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:16.11</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: that sounds fine for src/other dirs -- I think the issue is more with our own directories</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:16.41</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: k.&nbsp;&nbsp;For ours it'll probably be a few cases like the xxx dir</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:17.50</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>a minor referential integrity cost so we can say we're fully managed (with lists of all intentional files, whether source code or not)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:18.09</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>not a major issue in the least, just completeness</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:18.22</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>really impressed how cleanly the merge went</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:19.49</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>``Erik: unless I typo'd .. the "obvious" conversion to ntohl() resulted in a hard crashing raytracing bug</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.13</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>'course, I doubt the windows build works right now</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.32</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>but it shouldn't be far off</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.39</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>sure, some wrinkles to iron out, but in all .. looking great</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.44</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">is impressed you managed to save all the history</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.46</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>old build works, new build works</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:21.29</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>(all my early CMake suckage preserved for posterity...)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:21.30</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>now a confirmation that release tarballs produced are identical and same with binary installs, and the old can go bye bye soon</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:21.47</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>not quite yet - install docs will need more work</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:22.02</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>minor, that's an afternoon at best</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:22.29</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>and possibly some expansion of the options in the fake configure script - also not a huge deal, unless we want to automate its generation</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:22.54</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>it'll take more time to write up an article on the conversion overview and impact</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:23.50</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>for the source files, it's make package_source - make package for the binaries, IIRC</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:24.21</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>no worries, I'll assume it's all documented in INSTALL.cmake</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:24.25</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>otherwise, I'll chase you down :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:24.32</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">quickly checks...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:24.34</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>erm...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:24.53</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>er, perhaps HACKING.cmake</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:25.23</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>which doesn't exist yet</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:25.25</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">gets busy</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:29.39</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>eventually we'll probably want to tie the new deb/rpm settings into the CPack stuff</tt></td></tr>
<tr><td><tt>18:37.41</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@117.202.20.210)</font></tt></td></tr>
<tr><td><tt>18:37.41</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:46.11</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>brlcad: I raytraced a big nmg heavy model successfully (took 2 regex passes and hand reviewing the changes to verify, there was a cfl grade difference in some cases)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:46.38</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>for bots, the test case was dark side</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:47.36</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>``Erik: okay cool</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:47.50</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>i'm not above having entered a typo or fat-fingered some expression</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:48.14</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>probably diff what I did with your patch to see where this lamb went astray</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:59.07</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44478 10/brlcad/trunk/src/other/CMakeLists.txt: Add a few dirs to the ignore list</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:08.13</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>did jdoliner ever finish his implementation of boole? <a href="http://brlcad.org/wiki/User:Jdoliner">http://brlcad.org/wiki/User:Jdoliner</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:10.27</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>ah.. brlcad/trunk/src/proc-db/surfaceintersect.cpp</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:12.15</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>yeah i'm not sure if he committed all of his code or not</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:13.07</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>hmm the latest was 2009-08-13</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:13.14</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>ok. that sounds about right</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:14.25</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>kanzure: he didn't implement or integrate boole itself, but he was trying to implement what boole does in our system</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:15.18</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>he started building up the individual pieces needed to get surface-surface intersection calculations going, and got something going, but it wasn't a complete effort</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:15.48</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>looks like he did good work sticking with the opennurbs primitives</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:15.54</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>src/proc-db/surfaceintersect.cpp is the latest state of the code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:15.58</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, pretty good</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:16.46</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>on the wiki he mentions SurfaceSurfaceIntersect but all i see is BrepBrepIntersect; i figure it's the one?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:16.59</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>oh "SurfaceSurfaceIntersect has been renamed to FaceFaceIntersect same" ok</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:17.21</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>a brep is one or more surfaces</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:17.54</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i forget how opennurbs handles multiple faces on an object</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:18.13</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i know that it's accessed as an array (like my_nurb.m_F[x] for the xth face)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:18.21</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>but usually there's some information about adjacency of faces .. er, somewhere</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:18.42</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>see src/proc-db/brep*.cpp</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:18.51</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>since you can call myobject.get_edges() where each edge separates two faces, etc.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:18.54</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>ok</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:18.55</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>several examples</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:19.42</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>it's the trimming curve that is the edge around a given face right?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:20.45</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>yes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:21.40</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>why do you say it wasn't a complete effort?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:21.51</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>oh duh, intersection isn't enough to actually perform the set operators</tt></td></tr>
<tr><td><tt>19:22.14</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad KimK (~Kim__@wlnt-02-246.dsl.netins.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:22.20</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>and I don't think his implementation will handle ALL cases of surface surface intersections</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:22.29</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>lots of edge cases to consider</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:24.00</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44479 10/brlcad/trunk/doc/README.MacOSX: Document the issue CMake has with parallel builds and OSX open file limits</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:25.00</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>yeah and then you have to merge the intersection curves</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:25.07</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44480 10/brlcad/trunk/HACKING.cmake: Add a cmake version of HACKING</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:26.16</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>then use the merged brep to partition the original two solids, classify each partitioned component as either inside/outside and based on that classification add it to the object (depending on whether this is a union or difference)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:28.33</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>example, consider two simple triangles.&nbsp;&nbsp;they can intersect as a point (pt), a line (ln), or a face (fc), so you have pt-pt for two coinciding vertices, pt-ln for a vertex on edge, and pt-fc for a vertex in the face; ln-ln for coinciding edges (with three overlap sub-cases), ln-fa (similarly with three sub-cases), and fa-fa for non-tangential planar intersections (with at least three sub-cases)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:29.15</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>that's twelve cases, and I'd be surprised if he ended up with support for more than a few of them</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:30.16</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>two random intersecting polygons is going to be a fc-fc intersect producing a ln result</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:31.06</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i don't know what to do in the case of a vertex on a face- presumably that vertex is infintismal anyway so..</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:31.29</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>right, so you decide whether to ignore or stitch</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:31.48</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>one of them will be wrong :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:32.03</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>but you don't know which</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:33.24</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>you could attempt to say "okay, no points on faces" .. but even regular triangle that share an edge have this property (two pairs of coinciding vertices and a coinciding edge)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:33.59</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>btw the guys who wrote BOOLE released their code in the public domain</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:34.36</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>(in c)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:34.49</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>basically, it's needing to preserve a concept of "inside", "outside", ... and "on" </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:35.15</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>boole is not PD, unless they changed it recently</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:35.25</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>it's NC</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:36.04</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt><a href="http://gamma.cs.unc.edu/CSG/BOOLE-DOCS/copyright">http://gamma.cs.unc.edu/CSG/BOOLE-DOCS/copyright</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:36.32</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>blah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:36.55</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>sorry for the false alarm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:37.13</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>I know the guys that worked on boole (and later esolid)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:37.25</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>that was collaborative research back in the day</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:37.29</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>in one of their papers they claim it is public domain, but i see the license clearly claims differently</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:37.41</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>they actually gave us permission to use their code many years ago via e-mail, but no longer have access to that e-mail without serious archive searching</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:37.57</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>yeah the same paper references muuss which made me wonder if brlcad implemented this (which, the answer is no, but the 2009 gsoc student worked on it, neat)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:38.32</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>they were contracted by BRL to work on the problem back in the mid-90's, but unfortunately there was licensing disputes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:38.40</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>lamesauce</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:38.56</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>maybe late 80's .. old history now</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:39.27</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i trust boole over, say, opencascade, for their intersection algorithm.. since at least this one is documented</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:39.31</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>the goal was primarily nurbs raytracing and I think our current implementation easily beats it hands down</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:39.48</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i'm honestly surprised how there is no simple, well-written, well-documented, open source brep-brep intersection software</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:40.06</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>this isn't *that* hard</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:40.32</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>a lot of the surface surface intersection calculations were needed to get accurate ray-tracing, so you might be able to repurpose some of the ray-tracing code into a more general surface-surface intersection function</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:40.55</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i was thinking of implementing boole but i see there's a good start here</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:40.58</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>it's hard to do robustly :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:41.16</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i think robustness can be sacrificed at first for a working system, and then robustness can be designed in for a 2.0</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:41.35</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>once we have someone, anyone, who is working on open source code that has successfully implemented any of this :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.00</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>that's just it, it's not really working if it's not robust -- the best you can do is limit yourself to robustness across simple geometry</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.08</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>like two spheres or two boxes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.22</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>do you mean practically robust or the academic version of "robust by proof"? ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.27</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>er, robust by theorem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.28</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>even robustly answering whether that pairing intersect or not .. tricky</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.36</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>practically robust</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.50</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>if you want provably, you need different numerics</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:42.57</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>CGAL-style</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:43.04</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>slow fixed arithmetic</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:43.57</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>if you want to pick up the torch working in src/proc-db or elsewhere related to this, lemme know and I'll set you up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:44.14</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>what do you mean set me up?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:44.47</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>with commit access, so you can work on test code in src/proc-db for example</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:45.51</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>if you want to do your own thing out of repo, that's cool too, but it is nice to see the commits to see rationale behind development directions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:45.54</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i don't have anything to commit at the moment but i'll ping you</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:46.02</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>that's true..</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:46.26</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>whatever works</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:46.45</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>so you're ok with incomplete/dysfunctional code commits?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:47.00</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>in src/proc-db yes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:47.07</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>in src/lib* no</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:47.20</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>unless it's #ifdef's out of course</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:47.45</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>just shouldn't affect production use until it's reasonably well tested</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:48.05</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>otherwise, visibility and communication ftw</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:50.35</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>okay.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:50.48</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>sure, i'll take some svn commit access goodness</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:52.05</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>done</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:52.07</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>you've been around here long enough to know how we operate, not exactly a loose canon</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:52.20</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>just don't break stuff :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:52.28</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>read HACKING for the rest</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:52.39</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>and/or ask</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:03.15</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>okie dokie</tt></td></tr>
<tr><td><tt>20:05.53</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad mafm (~mafm@48.Red-83-63-197.staticIP.rima-tde.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:14.35</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>brlcad: did you add my sourceforge account?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:22.26</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>yep</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:22.26</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03erikgreenwald * r44481 10/geomcore/trunk/src/interfaces/cl/gsserver.lisp: use defvar instead of defparameter (to avoid clobbering a live recompile conflict). Use global variable notation instead of constant.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:22.32</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>try a test commit</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:25.06</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>i'd rather not muddy up commit history</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.04</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.30</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>it's a huge history, not really going to be noticed :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:26.53</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03erikgreenwald * r44482 10/geomcore/trunk/src/libgvm/repo.c: return 0 on success (instead of stack trash since there was no explicit return on success)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:27.09</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt><a href="https://sourceforge.net/mailarchive/forum.php?forum_name=brlcad-commits">https://sourceforge.net/mailarchive/forum.php?forum_name=brlcad-commits</a>&nbsp;&nbsp;&lt;-- per month commit stats</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:28.21</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>wow, we hit a new record in january .. 914, nifty!</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:42.02</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>ah, svn_repos_open doesn't open the file, each operation opens and closes the file described by the repo struct... brutal</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:49.05</tt></td><td><font color="#d5d570"><tt>bhinesley</tt></font></td><td width="100%"><tt>while (1) {touch . ; svn commit -M "testing"}</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:49.13</tt></td><td><font color="#d5d570"><tt>bhinesley</tt></font></td><td width="100%"><tt>this month promises to be even better ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:49.43</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>heh, nice try</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:50.12</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>that wouldn't commit a change, and you'll get invalid option on the -M ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:51.22</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt><font color="#CC00CC">can't think of a shell that'd eat that</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:51.53</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>while `true` ; do echo "==$RANDOM==" &gt;&gt; file&nbsp;&nbsp;; svn commit -m "+1" file ; cat file | sed 's/==.*==//g' &gt; file ; done</tt></td></tr>
<tr><td><tt>20:52.06</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad merzo (~merzo@7-32-94-178.pool.ukrtel.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:52.17</tt></td><td><font color="#d5d570"><tt>bhinesley</tt></font></td><td width="100%"><tt>you guys are too much</tt></td></tr>
<tr><td><tt>20:54.58</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad mafm (~mafm@48.Red-83-63-197.staticIP.rima-tde.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:54.59</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>never give brlcad a shell script challenge</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:00.36</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>it's just another language *shrug* a repl based one, even</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:01.30</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>brlcad: now that i look at it, BrepBrepIntersect doesn't actually use its (brep) "out" variable</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:02.08</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>err, (ON_Brep) type</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:02.55</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>kanzure: yep, I vaguely recall having to mark that as UNUSED during a strictness pass</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.02</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>ah.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.04</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>fooey</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.09</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>fix it ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.15</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>or rewrite</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.26</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>if it wasn't using opennurbs, i'd immediately rewrite it on my own</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.43</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>but.. since he did at least go to the trouble of making this slightly maintainable..</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:03.55</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>opennurbs is actually a pretty nice api to work with</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:04.16</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>sure</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:04.22</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>most of the annoying aspects have been things that were intentionally removed</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:04.30</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>yes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:04.36</tt></td><td><font color="#cb6acb"><tt>kanzure</tt></font></td><td width="100%"><tt>ON_GL... grr</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:04.48</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>nice, the acknowledgements section in the scsh manual... awesome</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:05.19</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>do they thank the flying spagetti monster?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:05.49</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt><a href="http://www.scsh.net/docu/html/man.html">http://www.scsh.net/docu/html/man.html</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:07.21</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>haha</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:18.06</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>hm, sanity check:&nbsp;&nbsp;unsigned char cp;&nbsp;&nbsp; cp + 4 == &amp;cp[4]&nbsp;&nbsp;?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:22.11</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>yup</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:23.51</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>then the only diff between our conversions is you wrapped the cast in parens</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:24.31</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>I'm thinking the bug was actually an unrelated change made to rt_nmg_reindex() in the same commit</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:24.49</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>upgraded return type from int to long including two index vars</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:26.40</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>the parens shouldn't matter because arrow has higher precedence than the cast, so it's already grouped </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:27.01</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>otherwise we match line for line</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:27.08</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>gotta be rt_nmg_reindex() .. hrm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:29.29</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>either way, nice fix ``Erik .. librt can be restrictified</tt></td></tr>
<tr><td><tt>21:34.45</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad bhinesley (~bhinesley@99.104.168.20)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:42.23</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44483 10/brlcad/trunk/src/librt/CMakeLists.txt: Erik restored the strict building.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:05.34</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>ah, that's why - the default implementation of opennurbs_memory.c is a straight-up malloc/calloc/etc. wrapper</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:11.49</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: another approach for the itcl/package problem -- take it to the natural limit, shouldn't be calling either from C-land</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:11.51</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r44484 10/brlcad/trunk/src/librt/Makefile.am: ditto for now</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:12.08</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>make the scripts package require what they need</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:12.15</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>true...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:25.19</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>er... this is not good.&nbsp;&nbsp;Probably the best way to set this up would be to use the apr memory pools, since we need variable sizes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:25.23</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>ick</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:25.54</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>or custom roll our own</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:32.38</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>variable sizes? that doesn't tend to work well with pools, that's a full allocator</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:34.22</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, I've gotten in the habit of using parens whenever casting a referenced pieces just to verify it's all correct and obvious</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:34.36</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>piece</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:34.54</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>``Erik: it seems the technical term is "region based memory management"</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:36.23</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>that's what the Apache Portable Runtime pools really are</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:36.26</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>if you have a finite set of sizes, you can do sets of pools... a 'buddy' allocator is pretty easy and quick, used to be the norm... system alloc usually uses slabs these days</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.04</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>'region based' might mean slabs, just implemented outside of the kernel to avoid syscalls, maybe? *shrug*</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.04</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>unfortunately, if we're going to put something behind the opennurbs on* functions (which we want to for improved performance) their API accepts arbitrary sizes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.48</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>the only thing that comes readily to mind is a hash table of pointers to pools, hashed by data type size</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:39.09</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>basically, assume finite sizes in practice (if not in theory) and create whatever pools are needed - one per requested size</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:39.12</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>that'd be one wasteful way to do it... buddy system slicer on subpage chunks, mebbe with an occasional gc/compactor might be another</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:39.36</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">looks up buddy allocator</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:39.47</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>(buddy system basically means a binary tree of memory, pick the best fit, dividing if needed)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.10</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>and here we go, screaming to greenspuns tenth :D</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.47</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>the quickest and most practical thing to do&nbsp;&nbsp;would be to stick APR behind opennurbs and see what kind of performance we get</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.05</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>but that would tie our raytracing directly to the APR libraries as a dependency</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.54</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt><font color="#CC00CC">isn't keen on that</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:42.05</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">isn't either</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:42.50</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>do we know the typical size range that opennurbs wants?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:44.02</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>not really</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:44.20</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>as an experiment, we (and I mean you) could write a trivial allocator that does a big block alloc, sets a 'usual max' size and subdivides the memory into those sizes, so if it's 256 bytes, just return a 256 byte zone when 40 bytes is requested</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:44.24</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>wasteful, but easy</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:44.28</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>my concern is if it's using onmalloc and friends to allocate storage for NURBS, the size range is going to be all over the map</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:46.45</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>could do a 'pass-through' allocator to instrument and record a history of allocs (or see if valgrind, efence, etc can be tortured into doing that) and compare with and without that for a test model?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:47.27</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods - or we might just do a data collection experiment - record all sizes requested and see how big the distribution really is</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:47.38</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>I might be over-estimating the problem</tt></td></tr>
<tr><td><tt>22:48.00</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad IriX64 (~kvirc@bas2-sudbury98-1177871947.dsl.bell.ca)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:48.06</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>yeh, I'd imagine you are :) profile before optimizing, right? </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:49.54</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>it'd be convenient if an automated tool could do that for you, instead of hand instrumenting the code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.41</tt></td><td><font color="#d5d570"><tt>bhinesley</tt></font></td><td width="100%"><tt>make well1.s rcc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.45</tt></td><td><font color="#d5d570"><tt>bhinesley</tt></font></td><td width="100%"><tt>oops sorry</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.23</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>if you're messing with anything more complex than a simple bundling allocation pool (if even that), then you're probably doing something wrong</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.59</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>who is doing the allocate? when?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.13</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>opennurbs - anytime onmalloc and friends are called</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.19</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>which is when?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.30</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>I think part of the evaluator for a shot hits one</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.46</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>depends on whether you're overriding the C++ new or not - if you are, everytime anything is allocated in opennurbs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.52</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>evaluator that's called during prep, yes?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.35</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>find it hard to believe that malloc is being called during the trace .. performance would be very bad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.39</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>I believe so - I'd have to check if it's being called during the raytrace</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.57</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>not just a little bad .. super bad, like almost nmg bad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.15</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>from I've seen interactive, that's just not possible</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.17</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: there is a new being called, I remember that from the Shark profiles, but it hit some geometries worse than others</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.26</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>so if it's all prep, then you can pretty much control when you allocate</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.33</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>I was under the impression that shoot had one... and prep definitely needs sped up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:55.00</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>mm.. I'd focus on eliminating that single one during shot before even thinking about prep</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:55.27</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>if you're not freeing until the end, you can alloc a bit chunk and walk it linearly, if you request more than what's left, make a new one, ad the old one to a crap list and move on</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:55.42</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>big chunk</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:55.47</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.19</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>that can even be done during prep</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.29</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>at least for the initial chunk</tt></td></tr>
<tr><td><tt>23:00.12</tt></td><td colspan=2><tt><font color="#000099">*** part/#brlcad IriX64 (~kvirc@bas2-sudbury98-1177871947.dsl.bell.ca)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:00.48</tt></td><td><font color="#b25e5e"><tt>CIA-105</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r44485 10/brlcad/trunk/src/librt/uvpoints.cpp: Add some timing and defaults.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.18</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>ah, looks like apr is using a more straightforward approach than I thought</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.44</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>or wait...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:11.18</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>OK, well, either way something custom is needed - time to figure out how to set that up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:13.11</tt></td><td><font color="#7070d5"><tt>``Erik</tt></font></td><td width="100%"><tt>the key is to limit the problem domain, if you try to be as generic as the libc stuff, you're trying to outsmart some incredibly smart guys O.o</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:13.35</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods - I know, special allocation for special purposes</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:17.53</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>huh, nifty:&nbsp;&nbsp;<a href="http://books.google.com/books?id=ukXrNh2g6fQC&amp;pg=PA128&amp;lpg=PA128&amp;dq=APR+memory+pool+Boost&amp;source=bl&amp;ots=CF5TfwORRZ&amp;sig=a6lt3dYZoPXYEaGRYIAb6mS3asU&amp;hl=en&amp;ei=J6uwTYvuBIeUtweqotDzCw&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3&amp;ved=0CCYQ6AEwAg#v=onepage&amp;q=APR%20memory%20pool%20Boost&amp;f=false">http://books.google.com/books?id=ukXrNh2g6fQC&amp;pg=PA128&amp;lpg=PA128&amp;dq=APR+memory+pool+Boost&amp;source=bl&amp;ots=CF5TfwORRZ&amp;sig=a6lt3dYZoPXYEaGRYIAb6mS3asU&amp;hl=en&amp;ei=J6uwTYvuBIeUtweqotDzCw&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3&amp;ved=0CCYQ6AEwAg#v=onepage&amp;q=APR%20memory%20pool%20Boost&amp;f=false</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:48.45</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: do you have a profile?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:49.20</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>no, Shark is busted on my machine at the moment :-(</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:49.21</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>I know we constantly say "allocations are bad" .. but they are totally trumped by algorithmic complexity analysis</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:49.28</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>working off of memory from last year</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:49.53</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>I suppose it's time to upgrade and get everything fixed</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:50.34</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>e.g., it may be spending most of it's time calling malloc, but if it's because of some O(N^3) algorithm then it may be calling malloc 10-1000 times more than it actually needs to</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:51.32</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:52.30</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>case in point was my nmg fix a few months bad .. nmg is relatively slow due to allocations, but was being really stupid reallocating over and over unnecessarily (by two orders of magnitude) .. cut a 5-day run down to half hour, all without changing the way allocations occur even though that's where most of the time was spent</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:52.46</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>changed why it was allocating in the first place</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:53.28</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>shark is awesome, but gprof can give insight too</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:53.42</tt></td><td><font color="#6ed2d2"><tt>brlcad</tt></font></td><td width="100%"><tt>if you copied configure, it's the -pg profile option</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:55.02</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>in cmake it's BRLCAD-ENABLE_PROFILING</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:55.07</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">tests...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:58.58</tt></td><td><font color="#7474dd"><tt>starseeker</tt></font></td><td width="100%"><tt>I'm not actually messing with BRL-CAD's raytracing yet - I'm trying to get a feel for how my test uvpoints.cpp file is behaving</tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
