<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20130815</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20130815</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr bgcolor="#eeeeee"><td><tt>01:04.39</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56847 brlcad/trunk/src/conv/step/ON_Brep.cpp: Get at the SdaiPath inside of the SdaiEdge_loop - adding the edges to THAT edge list appears to work. Horribly unintuitive on the part of SdaiEdge_loop - what's the point of exposing _edge_list at all? - but at least it seems to function.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:08.22</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56848 brlcad/trunk/src/other/stepcode/src/fedex_plus/classes.c: Back out r56838 - not the correct approach, from the looks of things.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:24.28</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56849 brlcad/trunk/src/conv/step/ON_Brep.cpp: Cleanup, update comments</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:24.41</tt></td><td><font color="#ca6aca"><tt>starseeker</tt></font></td><td width="100%"><tt>phew, finally</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:16.33</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56850 (brlcad/trunk/src/other/stepcode/CMakeLists.txt brlcad/trunk/src/other/stepcode/data/CMakeLists.txt and 58 others): Update stepcode to commit da3fe4543f86047a176a2f899d1c485a6ab8f9e8 from the primary repository - merges changes for diamond inheritance, incorporates BRL-CAD changes, etc.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:24.37</tt></td><td><font color="#ca6aca"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: we're up to date now</tt></td></tr>
<tr><td><tt>03:52.07</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kesha_ (~kesha@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:09.31</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: I saw that, awesome.. will have to give our converter a test</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>06:43.18</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:phoenixyjll * 56851 brlcad/trunk/src/libbrep/boolean.cpp: Deal with ccx_overlap. And treat points on boundary the same as they are outside.</tt></td></tr>
<tr><td><tt>08:42.33</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad zero_level (~mohit@66-118-151-70.static.sagonet.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>08:43.16</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>brlcad , ``Erik : Can u guide me to some source where dpix files are generated. ?</tt></td></tr>
<tr><td><tt>09:50.59</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kesha_ (~kesha@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:22.43</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:IIIzzzaaakkk * 5981 /wiki/User:Izak/GSOC_2013_logs: /* August 12th to August 17th */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:28.10</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:phoenixyjll * 56852 brlcad/trunk/src/libbrep/boolean.cpp: Implement get_subcurve_inside_faces(), because the intersection curve of SSI is the whole surface, and we need to get the part inside the trimmed face's outer loop.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:33.33</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56853 brlcad/trunk/src/libicv/CMakeLists.txt: Add dpix.c in libicv. This file will contain routines to read and write images in dpix format. Also added normalize function which will be used to normalize the value in image</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:37.36</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:phoenixyjll * 56854 brlcad/trunk/src/libbrep/boolean.cpp: It seems that div_t shadows a global declaration. Rename it to divT.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:46.26</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>zero_level: not off the top of my head, I'd just start by grepping the source tree for 'dpix'</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:46.40</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>not much uses or supports it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:46.55</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>I believe the ray tracer can output dpix with the right flags</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:47.13</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>at least I think one of them can</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:57.02</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56855 brlcad/trunk/src/libicv/dpix.c: Make a more strong condition in normalization regarding the data enteries. Now this function normalizes only when the data entries are out of order.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>10:59.43</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56856 brlcad/trunk/src/libicv/dpix.c: Add dpix read function.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:07.50</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56857 (brlcad/trunk/include/icv.h brlcad/trunk/src/libicv/fileformat.c): Add dpix read image to icv_read function.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:08.40</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56858 (brlcad/trunk/src/libicv/dpix.c brlcad/trunk/src/libicv/fileformat.c): Trailing WS</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:08.56</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:tbrowder2 * 56859 brlcad/trunk/misc/auto-man-page/README.auto-man-page-handling: tighten format rules a bit</tt></td></tr>
<tr><td><tt>11:10.06</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad harjot (~harjot@202.164.53.117)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:14.57</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:tbrowder2 * 56860 brlcad/trunk/misc/auto-man-page/README.auto-man-page-handling: correct grammar; add reference to working example</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:18.08</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56861 brlcad/trunk/src/libicv/dpix.c: Clarify size variable.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:23.02</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56862 brlcad/trunk/src/libicv/dpix.c: Add write function for dpix files.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:24.12</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>brlcad : Grepping the src code. :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:24.32</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>I wonder we dont have man page for dpix files, where as we have for bw,pix files.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:39.48</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56863 brlcad/trunk/src/libicv/fileformat.c: Add dpix write option to icv_write.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:40.29</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>brlcad : after r56863. ICV Can read write dpix images. :)</tt></td></tr>
<tr><td><tt>11:41.46</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad harjot (~harjot@202.164.53.117)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:38.02</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>brlcad : I see only one utility using this. dpix-pix. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:39.48</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>``Erik ,brlcad : I would like you to see r56856. Is this type of normalization good for dpix format. ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:43.26</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>A feedback behind the strict condition will be nice.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:43.43</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:phoenixyjll * 56864 brlcad/trunk/src/libbrep/boolean.cpp: Error handling in get_subcurve_inside_faces(): sub_curve() may return a NULL pointer.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:44.16</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>erm, it doesn't seem to do any normalization at all, and looks like it'd probably generate a garbage image by blindly packing data from a double array into a uchar8 array?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:44.32</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>or, wait, bif-&gt;data is doubles now, hm</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:45.24</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>my gut feeling is that accessing bif-&gt;data directly is prone to bugs, the hope is to encapsulate the data field so it can be altered in the future with minimal effort</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:45.54</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:phoenixyjll * 56865 brlcad/trunk/src/libbrep/boolean.cpp: Ignore UNSET IntersectPoints when maintaining the stack.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>12:48.04</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>maybe use a buffer of width*height*3*sizeof(double) size, then have a function to write the data in? (either by pixel, by scanline or by buffer)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:02.14</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>``Erik : It does normalization.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:02.24</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>It doesnt create any garbage.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:02.32</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>Algorith used.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:02.42</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>find min and max values.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:03.35</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>if (max&gt;1.0 or min &lt; 0.0) // strict condition .</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:04.18</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>then for each data entry d, change d = (d-min)/max-min;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:06.52</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56866 brlcad/trunk/src/libicv/dpix.c: Add comment for strict normalization. (Erik this should clarify)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:08.15</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>``Erik : I hope,I am able to understand you. :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:34.45</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:Phoenix * 5982 /wiki/User:Phoenix/GSoc2013/Reports: /* Week 9 */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:44.13</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:carlmoore * 56867 (brlcad/trunk/misc/auto-man-page/README.auto-man-page-handling brlcad/trunk/sh/shtool brlcad/trunk/src/conv/step/ON_Brep.cpp): remove trailing blanks/tabs, and fix spelling</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:06.59</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>zero_level: I was looking at the diff for 56856, that itself doesn't contain the normalize routine or a call to it, let me look a bit more :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:10.53</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>yeah, the icv_normalize() looks reasonable... but I don't see where it's called... I'm also not sure why the special cases to avoid normalization would be there?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:14.19</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:mohitdaga * 56868 brlcad/trunk/src/libicv/dpix.c: Calling icv_normalize in dpix read.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:14.23</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>ok. </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:14.40</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>icv_normalize was intended for dpix read.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:14.55</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>i didnt call it because i wanted to be 100 % sure.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:15.23</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>special case is to avoid scaling or descaling of values.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:15.48</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>for eg let a image contain pixel values between (23-220)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:16.44</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>that is (0.9 - 0.86)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:17.07</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>I dont want that these are forced to values between (0-1)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:17.14</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>Thus strict normalization.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:17.28</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>``Erik : I hope I made some sense here.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:18.10</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>Also the gensis of all these normalization stuff came from dpix-pix (a single resource in brlcad source code to understand dpix format)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:19.10</tt></td><td><font color="#67c5c5"><tt>zero_level</tt></font></td><td width="100%"><tt>``Erik : by the look of util/dpix-pix.c it turns out that dpix files can contain any values in [a,b] where a&lt;b are two double values.</tt></td></tr>
<tr><td><tt>14:32.51</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kesha_ (~kesha@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:40.34</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56869 brlcad/trunk/src/conv/step/ON_Brep.cpp: Add faces to STEP output.</tt></td></tr>
<tr><td><tt>15:00.04</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kesha_ (~kesha@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:20.10</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56870 brlcad/trunk/src/conv/step/ON_Brep.cpp: Start working on the top level structures needed for a valid step file.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:11.36</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:n_reed * 56871 (brlcad/trunk/src/conv/step/BRLCADWrapper.cpp brlcad/trunk/src/conv/step/step-g.cpp): Fix valgrind branch-on-uninitialized-value warning. Since step-g called BRLCADWrapper::Close even if no database was loaded, db_close would get a garbage pointer causing a bomb.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:50.24</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:tbrowder2 * 56872 brlcad/trunk/misc/auto-man-page/README.auto-man-page-handling: use correct format--no spaces allowed in keywords</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:10.28</tt></td><td><font color="#6c6ccd"><tt>Ch3ck_</tt></font></td><td width="100%"><tt>starseeker: corrected patch 223, works perfectly now. also seen that patch 226 has been accepted but not in source code. However looking at the bn_poly_synthetic_divsion() test, the seg fault actually comes from the poly_synthetic division routine itself</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:15.16</tt></td><td><font color="#6c6ccd"><tt>Ch3ck_</tt></font></td><td width="100%"><tt>looking at the code here <a href="http://pastebin.com/9ptu2tF9">http://pastebin.com/9ptu2tF9</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:17.09</tt></td><td><font color="#6c6ccd"><tt>Ch3ck_</tt></font></td><td width="100%"><tt>i actually think its as the result of the quo-&gt;cf[n+divisor] part which i think may have an error case of n + divisor &gt; dgr+1 which causes the seg fault still working on it.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:23.05</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:NyahCh3ck20 * 5983 /wiki/User:NyahCh3ck20/GSoc2013/Coding_Repor: /* 12 August - 18 August */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:58.06</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:ejno * 56873 (brlcad/branches/opencl/src/librt/primitives/sph/sph.c brlcad/branches/opencl/src/librt/primitives/sph/sph_shot.cl): benchmark script; print debugging values</tt></td></tr>
<tr><td><tt>18:01.48</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kesha_ (~kesha@14.139.122.114)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:04.12</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>brlcad: I've found the problem: this OpenCL implementation doesn't seem to support double-precision; it's using floats instead</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:04.40</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>I assumed a CPU implementation would support doubles, but apparently not unless I'm mistaken</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:04.47</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>did you confirm that's the first change observed in the computation pipeline?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:05.04</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>yes, I get the same values when I change the RT code to use doubles</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:05.09</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>s/doubles/floats</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:06.49</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>so changing that type makes no difference but when do the values diverge from the CPU calculations?&nbsp;&nbsp;right away?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:07.03</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>even single precision floating point should "predominantly" match</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:07.46</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>that's 7 decimal places out, more than our calculation tolerance, so in theory one should still be able to obtain perfectly matching results at least a large portion of the time</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:10.16</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>here is the output: <a href="http://paste.kde.org/pc57af004/">http://paste.kde.org/pc57af004/</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:11.05</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>I mean, the rt values match the opencl values when rt uses floats instead of doubles</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:11.40</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>double support is optional in opencl, so I think that's the problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:20.17</tt></td><td><font color="#6fd4d4"><tt>Izak_</tt></font></td><td width="100%"><tt>brlcad: Is there an mged/archer command to test rt_hrt_prep() routine just as the l command tests the rt_hrt_describe() ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:22.49</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>brlcad: oh, ok. I will try other values</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:23.29</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>brlcad: yes, they diverge right away</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:25.50</tt></td><td><font color="#6fd4d4"><tt>Izak_</tt></font></td><td width="100%"><tt>``Erik: Is there an mged/archer command to test rt_hrt_prep() routine just as the l command tests the rt_hrt_describe() ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:34.15</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>I mean, not the same final pixel values, but the same debug value printings. So, if it's below the calculation tolerance then it's not the problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:35.01</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>what is the advantage of doubles over floats?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:36.17</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>oh, they are faster on the CPU</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:36.45</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>ejno:do you have this in your code:</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:36.45</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>#pragma OPENCL EXTENSION cl_khr_fp64 : enable</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:37.21</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>before any double declarations in the code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.05</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>I just recently added that and it didn't seem to have an effect</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.11</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>even better, this block: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.12</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt><a href="http://www.bealto.com/gpu-fft2_real-type.html">http://www.bealto.com/gpu-fft2_real-type.html</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.28</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>put a #error into each of those blocks to see if either extension is available</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.33</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>because I read that doubles were an optional builtin in opencl 1.2</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:38.49</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>ok</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.32</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>#ifdef cl_khr_fp64 #pragma OPENCL EXTENSION cl_khr_fp64 : enable</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.32</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>#elif defined(cl_amd_fp64) #pragma OPENCL EXTENSION cl_amd_fp64 : enable</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.32</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>#else #error "Double precision floating point not supported by OpenCL implementation."</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:39.36</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>#endif</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:40.03</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>ok, I will try that. I also put this in and didn't get the #error: <a href="http://stackoverflow.com/a/7004114">http://stackoverflow.com/a/7004114</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:40.37</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>okay excellent.. so it should have one of those two then</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:40.49</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>note that goes into the .cl file</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:41.22</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>may also need to be in the .c file, so perhaps just put it in a header and include it in both</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:41.32</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>oh, ok</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:42.01</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>the advantage is more precision before the numbers are meaningless</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:42.17</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>in our output, notice the values diverage at 5 places after the decimal point</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:43.03</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>single precision usually give about 7-8 digits of precision, so that fits your output</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:43.23</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>what are ov and b?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:44.13</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>ov is the vector from ray origin to center of the sphere</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:44.31</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>b is from the quadratic equation</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:44.56</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>the dot product of the ray's direction and ov</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:45.24</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>er, ov is the ray origin?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:46.04</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>that's coming straight from rt land, so that is a little surprising that they're instantly that divergent</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:46.42</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>it's the vector from origin to sphere center</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:47.33</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>ov is calculated by the shot function</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:48.02</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>oh, so what's the starting ray information?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:48.10</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>point and vector</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:48.25</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>struct ray * in the cpu version</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:50.57</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>so if it differs at 5 decimal places, it is affecting the final pixel colors?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:53.26</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>I found how to query for double support in opencl 1.2 - it's in the host code; I'll try that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:03.24</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56874 (brlcad/trunk/src/conv/step/ON_Brep.cpp brlcad/trunk/src/conv/step/g-step.cpp): populate header, assign empty names to unnamed objects.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:03.45</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56875 brlcad/trunk/src/other/stepcode/src/cleditor/STEPfile.cc: Quote time stamp</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:09.57</tt></td><td><font color="#d36fd3"><tt>ejno</tt></font></td><td width="100%"><tt>it indicates that double is supported</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:29.31</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:iiizzzaaakkk * 56876 brlcad/trunk/src/librt/primitives/hrt/hrt.c: Added rt_hrt_ifree() to Free the storage associated with the rt_db_internal version of this</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:31.39</tt></td><td><font color="#6fd4d4"><tt>Izak_</tt></font></td><td width="100%"><tt>brlcad:``Erik: Is there an mged/archer command to test rt_hrt_prep() routine just as the l command tests the rt_xx_describe() ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:38.48</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:IIIzzzaaakkk * 5984 /wiki/User:Izak/GSOC_2013_logs: /* August 12th to August 17th */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:48.53</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>ejno: if double is supported, then those differences should not be there</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:49.50</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>that's 5 after the decimal plus 2 more before (in floating point, it'll be 1.3271881727181232e2 for example</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:50.03</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>so that's the 7 digits of single-precision</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:50.08</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:IIIzzzaaakkk * 5985 /wiki/User:Izak/GSOC_2013_logs: /* August 12th to August 17th */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:51.19</tt></td><td><font color="#6767c5"><tt>brlcad</tt></font></td><td width="100%"><tt>Izak_: prep is called during raytrace, so the "rt" command</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:56.43</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56877 brlcad/trunk/src/conv/step/ON_Brep.cpp: Set some values - need to study these more carefully to be sure the mappings are the ones that should be there...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:58.41</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:carlmoore * 56878 brlcad/trunk/src/conv/jack/g-jack.c: alert the user of writing of files (at this time, only '.fig' file is mentioned explicitly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:04.57</tt></td><td><font color="#6fd4d4"><tt>Izak_</tt></font></td><td width="100%"><tt>brlcad: Okay thanks</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:16.44</tt></td><td><font color="#6fd4d4"><tt>Izak_</tt></font></td><td width="100%"><tt>brlcad: Are students allowed to attend the Google Summer of Code Mentor Summit?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:17.16</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>Izak_: mentor summit is for mentors, not students...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:17.44</tt></td><td><font color="#7777e2"><tt>``Erik</tt></font></td><td width="100%"><tt>I don't believe mged or archer have a way to exercise just prep, but 'rt' will call prep during the gettrees phase, before the first ray is fired... </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:20.23</tt></td><td><font color="#6fd4d4"><tt>Izak_</tt></font></td><td width="100%"><tt>``Erik: i just got selected for the Doc Camp summit in Mountain View and i am asked if I would like to attend the Mentor Summit</tt></td></tr>
<tr><td><tt>20:24.43</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad mpictor (~mark@2601:d:b280:b5:d63d:7eff:fe2d:2505)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:44.20</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:carlmoore * 56879 brlcad/trunk/src/conv/g-nff.c: add h? options; delete P because it was unused (ncpu set to 1)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:50.38</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD Wiki:NyahCh3ck20 * 5986 /wiki/User:NyahCh3ck20/GSoc2013/Coding_Repor: /* 12 August - 18 August */</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:52.11</tt></td><td><font color="#6c6ccd"><tt>Ch3ck</tt></font></td><td width="100%"><tt>starseeker:&nbsp;&nbsp;please apply tickets 223 and 225 will finish fixing 225 tommorow</tt></td></tr>
<tr><td><tt>20:53.35</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Ch3ck (~Ch3ck@66-118-151-70.static.sagonet.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:55.39</tt></td><td><font color="#6fd4d4"><tt>Izak_</tt></font></td><td width="100%"><tt>screen -d</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.46</tt></td><td><font color="#c36666"><tt>Notify</tt></font></td><td width="100%"><tt>03BRL-CAD:starseeker * 56880 brlcad/trunk/src/conv/step/ON_Brep.cpp: Finally got a working creation and writing of a complex type - now just need to figure out how to manipulate the individual pieces.</tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
