<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20110216</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20110216</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr bgcolor="#eeeeee"><td><tt>00:06.18</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43356 10/geomcore/trunk/ (3 files in 2 dirs): Proof of concept code to chop the toplevel objects out of a .g file, write them to individual .g files in the svn repository, and commit them.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:08.04</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>_psilva: nope</tt></td></tr>
<tr><td><tt>01:22.17</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad WhiteCalf (MK@whitecalf.net)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>01:36.04</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43357 10/brlcad/trunk/TODO: list the slew of requested and useful converters including step export, dae, x3d, g-code, u3d, 3D pdf, sat, ply, json, and xml formats</tt></td></tr>
<tr><td><tt>02:23.25</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad juanman (~quassel@unaffiliated/juanman)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:34.22</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: nice proof of concept chop-blocking</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:34.58</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>would be good exercise to convert to db_walk_tree or one of the other walkers since the next step is probably to stop at the region level</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:05.56</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: ah, from what dloman was saying it sounded like we would break out every object in the first round</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:07.09</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>also, if we stop at the region level, does that mean we do a full keep of each tree below the region level, even if it means duplicating geometry?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:09.27</tt></td><td><font color="#c36666"><tt>``Erik</tt></font></td><td width="100%"><tt>json? really?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:09.46</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>about as useful as xml ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:11.02</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: either way but I think it's pretty much inevitable, also makes us parallel other cad packages (a region is a part)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:12.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>intermediate dev would be fine, but we probably shouldn't deploy down to the prim level since we haven't yet sorted out database upgrades</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:12.24</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>and our next step given the new timeline is pretty much deployment ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:16.04</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>as for the duplication issue, i've had a plan in place to address that for about 7 years now -- effectively instantiating a more robust concept of a part (one with and without the region bit set)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:18.55</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: so... first step is full keep and eat the duplication, then follow on later with the proper solution?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:19.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>and even without that concept, the duplication issue can become a non-issue by inverting the region-parent relationships (instead of C1-&gt;R1,R2,R3-&gt;subC1, you have C1-&gt;subC1,subC2,subC3-&gt;R1)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:19.55</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>basically, but it fortunately doesn't really require changes under the hood, just changes how geometry is managed on import</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:20.35</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>kinda - but we'll have to migrate broken-out-at-region setups to the final solution</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:20.51</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">is fine with it, just wants to be sure he's hacking the right thing</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:21.00</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>not necessarily, it'll just be duplicate data</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:21.16</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>we could automate remerging duplication later as a backend job</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:21.22</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:21.46</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>all rightie, tree walking it is</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:22.43</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>there would be one benefit of going all the way down to the primitive level, if you actually calculate the call overhead on a full vehicle with a checkin-&gt;breakout-&gt;commit-&gt;checkout-&gt;recombine scenario, see what the numbers look like, then redo stopping at region level</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:23.19</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>see if it's actually a significant issue in practice on given arch, like macosx, that has bad i/o performance</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:23.54</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>if it's not, then we could reasonably punt with confidence that it doesn't matter and let all objects get tracked uniformly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:24.04</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:24.20</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>it would simplify re-constructing a .g file - just dbconcat all the pieces</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:24.39</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>building a bunch of regions with full trees back into the original .g is a bit of a chore</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:24.52</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>without the metrics, though, I would definitely just stop at regions since there is pretty significant data overhead at the primitive level: 104 bytes per object</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:25.20</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods - at least until we can get our own custom svn backend, anyway</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:25.34</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>most objects in implicit form aren't even 104 bytes ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:26.18</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the metrics are critical, though .. because the performance could be an outright show-stopper for a full vehicle</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:26.22</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>overheads probably higher than that in the proof of concept code - I'm making everything its own .g file</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:26.32</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>.g overhead is 104 bytes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:26.36</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>oh, gotcha</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:26.47</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>and most of that is _GLOBAL, so there are other ways to optimize too</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:27.12</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>the other approach is to do a more custom write - I took the quick and simple way to write out object data, but I could customize a routine to write JUST the object info</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:27.29</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>though file ops likely dominate on files that small</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:28.23</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>('course if I do custom IO I might as well start looking at an FS-G backend now, and that's not the priority)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:28.38</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">will see if he can get the tree walker going and do the metrics</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:28.59</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the other benefit of constructing this region/non-region organization is that we can enforce proper DAG structures more easily -- CSG recipes would only be valid at/below region level, for example</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:29.09</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>above, they're just assemblies, groups</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:29.25</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>unions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:30.16</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>would effectively make it not possible to subtract assemblies from assemblies without pushing the operations down to the region level</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:31.16</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>how would we combine region files of that type back into one .g file?&nbsp;&nbsp;scan for duplicate primitives and selectively import the ones not already present?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:31.35</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>what about changes to a multiply referenced primitive?&nbsp;&nbsp;how do we make sure we hit all the copies?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:35.35</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the region file stored would already be the pushed result</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:35.50</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so the file being combined back on read is just cat-able</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:36.03</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>you mean we wouldn't support unpushed geometry?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:36.12</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>ouch</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:36.16</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>not following</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:36.22</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>no no</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:37.02</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the ONE high-level operation (subtract assemb1 (with r1, r2) from assemb2 (with r3, r4))</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:37.16</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>would result in r3 and r4 getting modified</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:38.02</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>right... I'm thinking a little lower level.&nbsp;&nbsp;let's say r3 and r4 both include sph1, and I change sph1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:38.05</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>a "dumb" implementation would simply import r1/r2 into r3 and r4 and subtract them</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:38.31</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>if r3 and r4 are both full tree copies in the repository, there are two independent copies of sph1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:38.37</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>both of which need to be updated</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:40.11</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>for example, you mean two 'sph1' instances in r3 ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:40.52</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>no - I'm thinking I "break" model.g with two regions r1 and r2 into the repository:</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:41.07</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>model.g (toplevel object) and two region files r1.g and r2.g</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:41.28</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>both r1 and r2 union in the same primitive, sph1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:41.45</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>if I'm doing a deep keep to create r1.g and r2.g, BOTH files have identical copies of sph1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:42.06</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>if I then edit sph1 in my modeler, the implication is I'm changing both r1.g and r2.g</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:42.13</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>that's not possible in the stop-at-region-level setup, the sph1 would be duplicated across the two regions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:42.30</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>if it needs to be reusable, then the definition of the region changes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:43.08</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>so you're saying that by definition a region does not contain any geometry objects that are used in any other regions?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:43.11</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>and you have model.g (toplevel), c1.g (was r1.g), c2.g (was r2.g) and a new r.g (containing the one sph1 instance)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:43.42</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>yes, all regions become fully self-contained namespaces</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:44.06</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">shakes his head - I highly doubt that's how things work out in practice</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:44.11</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>you can convert any existing model to that structure with the flip inversion I mentioned without loss of generality</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:44.27</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>I'm not quite parsing the flip inversion</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:45.03</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I'll draw</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:47.29</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>oh, wait - you're turning regions that are not self contained into assemblies, and creating regions below them of the shared subset?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:47.44</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>yes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:47.57</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>won't that really mess with region_id information&gt;?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:48.23</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>if a geometry was set up with r1 and r2 having different region ids and shared geometry...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:48.47</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>not necessarily</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:50.30</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>important note, though, that the progression is towards the minimization of region ids -- S2 will need updating to accommodate, but M3 uses different tracking mechanisms</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:51.23</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>that definition of a region strikes me as a bit limiting - let's say I have a model of a screw, and I want to make 10 different regions using the same geometry but different material properties (aluminum screw, steel screw, etc...) - intentionally the same size and geometry but different regions, and the desire to have any change to screw dimensions propogate to all regions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:51.37</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>region id's in this new system become mostly irrelevant -- it's just attribute data</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:51.47</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: OK, we're assuming S2 changes as well - that's different</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:52.23</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the concept of a "part" is more that there's a point where they're no longer assemblies and become self-contained part data</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:52.59</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I really probably just need to write all this up in a document since it's a discussion that's come up before</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:53.23</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>what happens to the different-materials same-geometry sceario?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:55.30</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>that's either multiple parts (which is what most cad packages do and matches our current "region" concept), or we have to implement support for multiple-segment regions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:55.57</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the latter would be great for things like the vol primitive</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:57.50</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>at this point, most of the issues on regions/materials/ids/etc can be punted so long as the routine that breaks up a .g has a means to stop at some level in the hierarchy -- whether at prim, region, one below region, one above, etc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:58.36</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>one solution to the multiply reference region was to invert downwards instead of upwards</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:00.20</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so every region becomes a region comb containing just one member, the former region hierarchy&nbsp;&nbsp;--&nbsp;&nbsp;basically injects a comb node and pushes the region bit up and the "part" becomes a non-region</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:00.41</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:01.20</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so then S2 keeps doing what they're doing -- regions are unaffected</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:01.27</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>region count is unchanged</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:02.18</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>lil harder to ensure database integrity, so every region has one and only one member, a part</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:03.27</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>hmm.&nbsp;&nbsp;Well, regardless it sounds like the first stage is to get a tree walker going and be able to control the break points</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:05.26</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">likes the sound of multiple-segment regions, even if he doesn't know exactly what that would entail</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:06.20</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">must sleep - early morning gym appointment (ugh)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:07.58</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, definitely</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>04:39.55</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43358 10/brlcad/trunk/TODO: consolidate the other conversion tasks</tt></td></tr>
<tr><td><tt>06:33.18</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@117.192.132.151)</font></tt></td></tr>
<tr><td><tt>06:33.18</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr><td><tt>08:07.49</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad epileg (~epileg@unaffiliated/epileg)</font></tt></td></tr>
<tr><td><tt>09:31.11</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@117.192.132.151)</font></tt></td></tr>
<tr><td><tt>09:31.11</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>09:44.05</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>starseeker: brlcad:&nbsp;&nbsp;I'm not quite grasping at what problem we are solving by stopping the disassembly of the .g file at the region level....</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>09:44.26</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>it seems to me it would cause much more problems than is worth the gain in simplicity...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>09:45.10</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>Modelers frequently use a single prim from a region (r1) to subtract from another region (r2) for overlaps.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>09:46.27</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>so, but keeping all the prims in the region level file, the GS would have to load two region .g's (entirely with all their geometry) just to get at the solid in r1 for r2... seems a bit clunky and complex</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>09:46.57</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>what was the 'gain' for keeping the geometry in the region level .g file?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:50.37</tt></td><td><font color="#c36666"><tt>``Erik</tt></font></td><td width="100%"><tt>hm, there's been argument that subtracting a region itself is incorrect, the proper way for that hack would be to make a subregion group, have the region contain the group, and subtract the group from other geometry O.o</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:52.47</tt></td><td><font color="#c36666"><tt>``Erik</tt></font></td><td width="100%"><tt>dlo: I'm not making it in today, I'll be at upper chesapeake most of the day, I think the last fugly wart I left is the UUID shtuff if it's a show stopper and you want to regain functionality... my intent is to try to use the system uuid (e2fs or ossp, depending on os) with some cmake checks and #if e2fs #if ossp fu, if you need something rolling today</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:53.43</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>not likely, I'll probably be leaving early today...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:54.12</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>the senario I am talking about is:&nbsp;&nbsp;r1 = s1 u s2 u s3 u s4</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:54.26</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>r2 = s5 u s6 - s1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:55.13</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>I don't see why we would want to keep all the prims in the r1.g and r2.g file, such that we have a duplicate of s1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:55.51</tt></td><td><font color="#c36666"><tt>``Erik</tt></font></td><td width="100%"><tt><font color="#CC00CC">hasn't read backlog and is getting ready to head to the hospital, will catch it all later O.o</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:56.00</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>ack, everything okay?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:56.20</tt></td><td><font color="#c36666"><tt>``Erik</tt></font></td><td width="100%"><tt>it's not for me</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:19.56</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>dloman: if I understand correctly, the notion is that each region would be a fully independent piece of geometry</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:20.31</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>by definition, there would be no shared geometry between regions, so subtractions to avoid overlaps would become a somewhat problematic way to handle things</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:22.02</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>The main practical concern with breaking up the entire .g file into all its objects is IO performance (lots and lots of small files)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:23.03</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad also seems to have some ideas about enforcing region policy and .g structure</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:23.31</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">isn't sure if that logic should live at the svn level or above it</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:24.40</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>as far as the policy stuff, what I understand of it sounds OK but I'm not sure current modeling practices like you describe are really compatible with it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:27.02</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>e.g. subtracting parts of one interfering region from another region will result in a copy of the subcomponents needed for the subtraction appearing in the region being subtracted from, and those components will lose their relationship to the region being subtracted</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:28.02</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>so if you have r1 and r2, and need to subtract c2 that is part of r2 from r1 to avoid an overlap, r1 would get a copy of c2</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>13:29.01</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>and changes to the original c2 in r2 would not be automatically propogated back to r1, unless we implement something to do that (which kinda violates the notion of each region being its own independent entity)</tt></td></tr>
<tr><td><tt>13:42.21</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad epileg (~epileg@unaffiliated/epileg)</font></tt></td></tr>
<tr><td><tt>13:44.04</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad epileg (~epileg@unaffiliated/epileg)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:15.23</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>hiyo</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:31.07</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43359 10/brlcad/trunk/src/irprep/ir-sgi.c: HAS_SGIGL .. isn't going to be around much longer. but test for it being set instead of being true until it's gone.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:32.23</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43360 10/brlcad/trunk/src/irprep/ (firpass.c ir-X.c secpass.c shapefact.c): quell verbose warnings. mark unused params, size_t signage promotions, index shadows, and exact floating point comparisons.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:36.56</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43361 10/brlcad/trunk/src/lgt/ (do_options.c execshell.c): need to include unistd.h</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:47.22</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>Hrm, well, putting a combination between a region and its prims doesn't solve the problem.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:48.14</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>I can 99.99% gurantee that dupicating geometry (in the example, s1) will be *adding* a substantial maintenance burden on the modelers</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:48.24</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>especially if s1 is a somewhat sizable bot.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:50.19</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>additionally, although diskspace is 'cheap' and we should only solve problems when they become a problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:51.07</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>wouldn't duplicating s1 in two spots actually end up as a net negative performance on IO, since we would technically have to read that prim twice?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:51.32</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>We can't ignore overlaps, as the are GOING to happen.&nbsp;&nbsp;Of this, I am 110% certain.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:52.15</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>dloman: I may be missing some of the implications of what brlcad is describing, so he should weigh in</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:52.27</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>add in the increasing data sizes due to bots and the impending complex nurbs, and I don't see 'each region as its own, idependent, entity' as being a good idea.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:52.35</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>sure thing.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:53.12</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>I am just trying to understand how brlcad and i got our wires crossed.... cause this is not the impression i got, walking away from our last discussion on the subject :/</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:53.27</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>or more specificly, what brlcad's notion is.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:53.59</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt><font color="#CC00CC">is remote today, so Im not in office.</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:54.07</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>dloman: did you read the scrollback from last night?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:54.33</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>yuppers.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:54.37</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>you might be able to follow it better than me</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:54.58</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43362 10/brlcad/trunk/src/nirt/ (command.c interact.c nirt.c nirt.h parse_fmt.c read_mat.c): eliminate the rtip global. propagate api changes throughout.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:55.09</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>and keeping the prims in the region .g's is, in my opinion, going to cause a ****-ton of issues.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:56.12</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>keeping all the solids in their own file, just like the c's and r's, but in a directory named after the associated r, is what i understood our approach was.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:57.05</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>yes, it creates many more files, but i honestly think its more flexible and will be lower IO in the long run.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:58.35</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43363 10/brlcad/trunk/src/nirt/showshot.c: convert %F to %lf. not optimal, but gefn</tt></td></tr>
<tr><td><tt>14:58.38</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@117.192.132.151)</font></tt></td></tr>
<tr><td><tt>14:58.38</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Stattrav (~Stattrav@unaffiliated/stattrav)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:20.43</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>starseeker: do you know if its bad to change an #include &lt;string&gt; to #include &lt;string.h&gt; ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:21.08</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>uh.&nbsp;&nbsp;isn't the first one C++ and the second one C?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:21.29</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>thats what i thought too.&nbsp;&nbsp;just checking.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:21.55</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>hard to google things with a 13 month old in one arm :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:23.14</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:23.21</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">winces</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:23.54</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>havoc checkout takes 35 megs doing the write-out-every-object scheme</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:24.31</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43364 10/brlcad/trunk/src/proc-db/ (brickwall.c masonry.c): quell warnings, exact floating point comparisons</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:24.37</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>guess the every-object-is-a-g-database thing isn't so hot</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:24.53</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">commits anyway...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:25.10</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>oh, took several minutes to commit and checkout, too</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:25.18</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>why is that bad?&nbsp;&nbsp; whats the original filesize?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:25.37</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43365 10/brlcad/trunk/src/proc-db/kurt.c: !EQUAL instead of != for floating point comparison</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:25.37</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>580K</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:26.25</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>looks like the per file overhead is a bit&nbsp;&nbsp;more than 104 bytes eh?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:26.36</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>or are there a bajillion files?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:26.55</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>yeah, there's a lot of files</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:26.55</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43366 10/brlcad/trunk/src/proc-db/ (16 files): quell verbose compilation warnings mostly related to unused params and vars, shadowings, and checking usage.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:27.16</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>plus the .svn checkout keeps a baseline copy of each file and a properties file for each file</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:27.28</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>.svn is 23 Megs, rest is checkout</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.43</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>idealisticly, we could boil the whole repo down to one or two baseline versions of each prim, and just use a ton of matricies :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:28.45</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43367 10/geomcore/trunk/tests/svntest/main.c: Try writing out every object, and directory organization. Use havoc for more of a stress test - performance doesn't look promising</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:29.10</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>somewhat amusingly, the actual repository (as opposed to the checkouts) is 1.7 megs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:31.06</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>thought:&nbsp;&nbsp;if we are using dbobject names to link to other files, why can't a region contain all its own prims, but still be able to link to other region .g's for prims too ?&nbsp;&nbsp;whats wrong with that?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:31.34</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>uh...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:31.50</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>that gets back to the whole "redefine what a region means" problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:34.52</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>Well, what ever the solution is, having two copies of the same solid, one to construct r1, one to be a overlap subtraction for r2, is going to make a bunch of people really upset.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:35.09</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>hmm... so if the count is right, there were just shy of 3000 objects, which means counting the base files and props files just shy of 9000 files for havoc, not counting any other svn files in the checkout</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.34</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>as in 9000 in the repo and 3000 end user visible?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:36.41</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>yep</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.16</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>well, thats better than I thought :)&nbsp;&nbsp;brlcad and I were thinking an average of 10k per model.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.25</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>granted, its just havoc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.31</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">nods</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.37</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>simple model</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:37.47</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>but converted geometry is like to have less objects, but larger size per</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.18</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>i think the last conversion i worked with had about 1500 db objects, but the .g file size was 280 mges</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.24</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>I suppose committing and checking out an entire model in one gulp could also be regarded as worst case</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.24</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>megs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:38.41</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>yeah, untill the multi-system projects start hooking in :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:39.15</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>"checking out" in this case is also creating the repository on disk</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:39.29</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>that overhead is pretty much what I expected</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:39.48</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so the checkout is 1.7, repo is 23 .. original was?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:39.49</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>it might be worth investigating if there are ways to talk to the repo without an explicit checkout to disk</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:40.11</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>no, checkout is 35, repo is 1.7, original was 580K</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:40.21</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>35 Meg, 1.7 Meg</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:40.39</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>checkout includes .svn dir data</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:40.42</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>what's the export size?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:40.45</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>running the test as currently committed on the Mac takes 4.5 minutes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:41.02</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>about 12 Megs, I think...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:41.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>figure the mac should be worst case performance, so it's a good baseline</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:42.07</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the reason for stopping at the region level was to fight some of that performance, I expect it to knock that at least in half if not more</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:42.47</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>so with stopping at the r level, how does one handle using s1 from r1 as a subtraction in r2?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:43.04</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>putting the repo more on par with the .g size (maybe 25% expansion, minor), and checkout around an order larger</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:43.40</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>in the short term or long term? :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:43.59</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>and under the hood, or exposed-to-user?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:44.05</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>exposed to user</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:45.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>going to take a sec to write</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:51.27</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt><font color="#CC00CC">gets his grub on while he waits.    Grilled Cheeze == nom nom nom</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:52.57</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so "s1" is some member of this 'part' object "r1", which I'm going to intentionally avoid calling a region for reasons that will hopefully become evident.&nbsp;&nbsp;so this piece of solid part r1 is being used as a subtraction shape on solid part r2.&nbsp;&nbsp;previously both in their same namespace, but no longer with this new 'part' concept -- each part is a unique namespace.&nbsp;&nbsp;so the subtraction of r1/s1 from r2 becomes a cross-namespace reference for the overlapping portions (</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:53.41</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03r_weiss * r43368 10/brlcad/trunk/src/libbn/bntester.c: Added to 'bntester' support for testing function 'bn_isect_lseg3_lseg3'.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:54.01</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>cross-reference namespace then become a conscious decision of modelers to import data (breaking the need for a cross-namespace reference), or refactor into a new base part that both r1 and r2 reference</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:54.36</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>basically what they do now, just with an implicit single&nbsp;&nbsp;namespace</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:55.02</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I'll have to revisit our notes from that half-day discussion we had -- because we had it pretty lock solid then</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:55.43</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I might have a minor detail off, but shouldn't be far off .. but then it was a couple months ago :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:56.14</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>okay, will the end user have to maintain two 's1's or just one?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:56.15</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the whole problem revolved around solving mergability of .g files</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:56.31</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>they get to decide -- default would be just one s1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:57.07</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>an s1 from the r1 namespace, r1::s1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:57.27</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>if imported as r1::s1 and r2::s1, then they have to make a decision whether those are mergable or not</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:57.52</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>so a modeler uses s1 from part1, or part1::s1, in part2 as a subtraction, or part2 = part2::s1 - part1::s1</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:57.53</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>but then we can provide tools to assist with that decision process -- auto-merge identical geometry, for instance</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:58.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>right</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:58.16</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>and the modeler doesn't want to make a new part.... how do we store that on our end?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:58.41</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>if I'm going to sort assemblies out from combinations, I'll probably have to get search set up to return a list of directory pointers - the ged results string won't cut it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:58.42</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>then it's a configuration option as to what they might want to auto-do with that type of operation -- auto-import/copy, keep the reference, etc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>15:59.13</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it literally just becomes a named reference, part1::s1 in part2</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:00.27</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>part2 was just "u s1" with s1 being an implicit part2::s1 -- with the subtraction and absent any automerging, it becomes: "u s1 - part1::s1" as string data in the .g file</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:00.53</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the part that's escaping me at the moment (no pun intended) is how we solved the "where's my namespace" problem</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:01.02</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>so we wont be storing two copies of part1::s1 ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:01.11</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>nope</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:01.27</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>okay then.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:01.53</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>so by this logic, the overall svn dir structure wont ever exceed two dirs deep? (but be very wide) ?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:01.53</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>only if they request exactly that as an operation -- "cut my external refs" .. "import external refs", etc</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:02.09</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>that's the part that I'm not remembering without our notes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:02.20</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>we'd solved that issue</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:02.35</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I think it was with top-level namespacing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:02.53</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so not a part1 namespace, but some higher tank1 namespace and tank2 namespace</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:03.16</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>right, per my understanding and notes and diagrams, we left our last talk thinking the repo will be three layers deep:&nbsp;&nbsp;projects-&gt;combs/regs-&gt;prims</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:03.31</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>now i'm hearing different, hence my confusion :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:03.57</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>s/projects/namespaces/ and I can see that :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:04.26</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, I wasn't being entirely precise last night as the focus was more just that there needs to be "some" mechanism to halt traversal part-way down the DAG</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:04.45</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>because of the horrid performance impact I was anticipating</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:04.50</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>namespaces-&gt;regions/combs .... thats it, since all the prims will be stored in the files in the regions/combs level</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:05.54</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>..if I am understanding correctly.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:05.55</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, the details are starting to come back to me now :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:06.12</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>I can probably get a rough idea of how expensive writing out regions will be, but it won't be meaningful until I can sort out the assemblies and that's not so straightforward</tt></td></tr>
<tr><td><tt>16:06.59</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad roberthl (~robert@v001.rhl.me.uk)</font></tt></td></tr>
<tr><td><tt>16:06.59</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad roberthl (~robert@mediawiki/RobertL)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:07.18</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>almost feels like the search logic needs to move from ged to somewhere else</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:07.23</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>and have ged wrap it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:07.27</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>but not sure where to move it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:07.30</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>yep, librt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:07.38</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>heh, that works</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:07.43</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>mged -&gt; libged -&gt; librt is the progression of logic</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:07.52</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>there's a lot in libged that belongs in librt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:08.14</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>ok, I'm gonna have to move that as a first step - I need the search filters to do an intelligent breakout</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:08.19</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>libged in a final state would actually end up with very little, just state container wrappers and string parsing really</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:09.37</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>daniel's comment was a good one, libged isn't really optimal underneath the GE -- it's at the same level, so most of the geometry manipulation it performs is logic that should be in librt (and is, in a way)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:10.19</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it becomes more of a transaction management interface that bridges and simplifies all that's possible with librt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:13.07</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>dloman: will have to revisit the notepad next time I'm in the office (maybe friday) to make sure we're fresh on the solution we came up with, it was pretty tight and there are a few particulars I'm not remembering at the moment</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:13.18</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>so GE *isn't* a C++ wrapper for libged?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:13.29</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>I likely won't be back in the office till next Wednesday</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:13.57</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it could be as an interim solution, but really shouldn't be</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:14.56</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>libged is really a transactional command parsing library .. that string parsing foo is major suck for any sort of performance geometry processing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:15.02</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>GE is more akin to ACIS</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:15.05</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>so if the GE is side by side with ged, then any/all common functionality needs to be pushed down into librt (and possibly elsewhere too) otherwise we're duplicating code?&nbsp;&nbsp;(Did i capture the concept correctly?)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:15.19</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>you got it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:15.55</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>alternatively, pushed into GE and libged sits on top of GE .. but librt makes more sense at the moment</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:16.29</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>isn't libged primarily c?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:16.38</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>basically&nbsp;&nbsp;"libged &gt; GE &gt; librt"&nbsp;&nbsp;or&nbsp;&nbsp;"libged,GE &gt; librt" (current plan)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:16.53</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>right, that's why it makes more sense to stay that way</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:17.24</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it could easily be an encapsulated wrapper, where the GE c++ness would be mere implementation detail like opennurbs in librt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:17.42</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>in order to keep the code from getting wicked stupid, then GE would also need to be c, not C++ ...?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:17.52</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>not at all</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:18.25</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>because libged's api is presently a single data container and argc/argv string data</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:18.41</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>what goes on under the hood stays under the hood</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:18.50</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>(bom chika wah wah)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:21.59</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43369 10/brlcad/trunk/src/remrt/ihost.c: if DEFINED, not if NOT defined</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:22.04</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>oof, that took a while to see...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:30.11</tt></td><td><font color="#68c5c5"><tt>dloman</tt></font></td><td width="100%"><tt>alright, Im going afk for a few days.&nbsp;&nbsp;I expect the GS to be finished when I return.&nbsp;&nbsp;Hop to it!&nbsp;&nbsp;:P</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:31.26</tt></td><td><font color="#68c5c5"><tt>dloman-afk</tt></font></td><td width="100%"><tt>(I only say that cause its now very apparent to me that I have (and had) no idea what I'm doing, heh )</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:41.24</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>we need to get rolling on gsoc preparations if you all are interested in mentoring again -- the ideas page needs major updating</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:51.45</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43370 10/brlcad/trunk/src/remrt/ihost.h: include the headers this header requires, self containment</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:52.26</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>sounds like fun</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>16:52.33</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43371 10/brlcad/trunk/src/remrt/ (remrt.c rtsrv.c): mark unused params, check argc params, terminal sentinel with NULL instead of 0, and other quellage</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:21.15</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>hey brlcad </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:21.20</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>got some news for you</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:24.42</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>sup?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:25.16</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>you spawned a child process? :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:25.45</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>then it's two thing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:25.48</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>hah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:25.54</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>due march 16 ish</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:26.08</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>but even bigger and more relevant</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:26.20</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>we got bought by autocad</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:26.23</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>er</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:26.25</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>autodesk</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:26.55</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt><a href="http://usa.autodesk.com/adsk/servlet/index?id=16284057&amp;siteID=123112">http://usa.autodesk.com/adsk/servlet/index?id=16284057&amp;siteID=123112</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>18:27.11</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt><font color="#CC00CC">is now autodesk employee</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>19:31.35</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>_psilva: do we offer condolances?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:05.30</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>_psilva: heh, well congrats on the 16th and condolences on the 30th (april)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:09.46</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:10.23</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>at least we're not being relocated</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:10.30</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>:)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:15.10</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>we'll see</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:15.19</tt></td><td><font color="#b1b15d"><tt>_psilva</tt></font></td><td width="100%"><tt>gonna stick around until something more interesting pops up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>20:31.35</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03jordisayol * r43372 10/brlcad/trunk/ (misc/debian/control sh/make_deb.sh): modify dependencies to build deb packages</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:01.58</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43373 10/brlcad/trunk/ (7 files in 3 dirs): Make a stab at moving search logic to librt</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:22.17</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43374 10/brlcad/branches/cmake/ (56 files in 18 dirs): MFC r43373</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:33.37</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43375 10/brlcad/trunk/src/librt/search.c: Fix order of inputs, UNUSED some inputs</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:37.27</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43376 10/brlcad/branches/cmake/src/librt/search.c: MFC r43375</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.15</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43377 10/brlcad/trunk/src/librt/bool.c: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.15</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: call NEAR_EQUAL() with a 0.001 tolerance instead of rt_fdiff() since that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.15</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: function is deprecated. this potentially affects fastgen platemode overlap</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.15</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: reporting since it's no longer performing a relative tolerance comparison, but</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.16</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: the impact shouldn't be too significant since the absolute tolerance is rather</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:38.16</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: loose at 0.001</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:40.26</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43378 10/brlcad/branches/cmake/src/ (libged/CMakeLists.txt librt/CMakeLists.txt): Fix CMake logic for search file changes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:41.25</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43379 10/brlcad/trunk/src/librt/db_flip.c: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:41.25</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: use a bridge pattern to separate the deprecated function logic into new private</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:41.25</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: functions. this lets us continue to be able to flip v4 files, even after the</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:41.25</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: deprecated rt_* functions become obsolete, yet allows for the API to continue</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:41.25</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: working for now.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:41.35</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43380 10/brlcad/trunk/src/librt/librt_private.h: declare the new flip functions</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:42.24</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43381 10/brlcad/trunk/src/librt/binunif/db5_bin.c: call ntohl() and htonl() instead of the deprecated libbu functions.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>21:42.53</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03brlcad * r43382 10/brlcad/trunk/src/librt/comb/db_comb.c: call the new private flip funcs instead of the deprecated api.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:33.32</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>starseeker: librt api should not have argc/argv parameters</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:34.29</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: all right, I'll have to revert then - reworking the code to not use them could be a significant effort</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:34.39</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>yeah, moving search to librt is not going to be a simple move</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:34.45</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it needs to work on data</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:35.22</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>well, that's a days work down the drain</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:35.29</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>data in, data out -- no printing to console (except diagnostic)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:36.03</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>uh... it's not printing to console</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:36.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so you'd get back, for example, an array of rt_db_internal pointer's from a given query -- the search front-end would iterate over a result and print their names</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.09</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>that's edging dangerously close to a complete rework</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.28</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I was surprised that you were heading down that road :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.42</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>well, is there another way to spot assemblies?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:37.45</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it's doable, not necessarily a rewrite</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:38.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the hardest part of search is building up that query filtering logic, stopping criteria -- that all stays the same</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:38.31</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>if I'm going to do the one .g per region, I have to be able to identify the assembly combinations - they will need to be written out as their own objects, since the region .g files won't handle them</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.05</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>search still sounds like a good approach for that</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.27</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>you just have to split things up some</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.47</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43383 10/brlcad/trunk/src/librt/search.c: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.47</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: Add logic to append directory pointer entries to a list - will allow for</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.47</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: manipulation of objects found in C code without having to re-parse string. For</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.47</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: now, only return pointer to leaf node of path - could conceivably be expanded if</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.47</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: there is a need.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:40.50</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>somewhere in search, I'm sure it's taking the input argc/argv and turning that into an in-memory expression of some sort</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.08</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: it is.&nbsp;&nbsp;I'm quite sure it can be done, but it's... tangled</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.27</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>that logic stays in libged's search front-end, librt takes that in-memory expression as a parameter to rt_search()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.45</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>layers, like an onion ;)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:41.56</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: what should I do - full revert, put everything back in libged?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:42.23</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>I'm pretty sure I won't have time until next month to do that kind of sorting out of the search logic</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:46.26</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>might as well</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:46.39</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>k</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:46.59</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43384 10/brlcad/branches/cmake/src/librt/ (6 files in 3 dirs): MFC r43383</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:48.17</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>at a glance, looks like it's pretty close already -- find_formplan() would become something like rt_search_plan(), find_execute() would probably become something like rt_search().&nbsp;&nbsp;that'd be your two new api hooks</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:48.59</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>ged_search() looks rather peculiar to me..&nbsp;&nbsp;how does it know how many expression arguments there are??</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.00</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>what, the altered one or the original?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:50.47</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>OK, everything should be back in place</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.03</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I don't know -- I'm just looking at my current checkout with is r42551</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.22</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>oh, yeah that's the original</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.42</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>Oh.. is the entire expression in argv[1]??</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.45</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>heh</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.47</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>yeah</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.49</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>wow</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:51.55</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>it's up to the search functions to make sense of it</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:52.21</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so yeah.. a few changes</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:53.59</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>ged_search() should take variable argc/argv, one per actual argument .. that would get parsed into an "rt_search_plan" struct of some sort (basically a custom "PLAN *"), that'd get passed to rt_search()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.29</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43385 10/geomcore/trunk/tests/svntest/main.c: </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.30</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: Add some commented out code based on the test code used in ged_search to test</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.30</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: directory pointer list printing. Will need to construct argc/argv input for</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.30</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: rt_search, but this should in principle allow the identification in C code of</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.30</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: assemblies.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.55</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>librt could provide rt_search_plan() as a helper function to turn the string data into an rt_search_plan, but you'd be able to bypass that and do it all string-less with rt_search() then if you wanted</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:54.57</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: we need to be careful there - the find command has its own option handling logic, I don't know how similar it is to our normal stuff</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.16</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>not too careful -- at worse, ged_search() and/or rt_search_plan() would just join all of the argv parameters together into one bit string and pass to find's plan making code</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:56.45</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>uh... if we're doing that, why bother splitting them up in the first place?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:57.02</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>ahh, I see -- it's not one big string</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:57.12</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it's iterating afterall</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:57.20</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>but requires a NULL-terminated argv</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:57.46</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>you're not splitting them up, they start out split up</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:58.18</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>sort of - formplan gets argv[2]</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:59.10</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>but as a char **, it then iterates over the argv elements individually</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:59.18</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>right</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:59.35</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so it's not all in argv[1]/argv[2]</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:59.43</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it's already a proper argv list</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>22:59.57</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: as long as we're at this... is there a function somewhere to do for bu_lists or some other bu data structure what uniq does on the unix command line?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:00.53</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>you hand mentioned wanting to fix some search behavior that was unexpected, and iirc it required always doing a full path iteration, so to simulate searching through ls results we would need to do some kind of uniq filtering</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:00.57</tt></td><td><font color="#dc74dc"><tt>CIA-77</tt></font></td><td width="100%"><tt>BRL-CAD: 03starseeker * r43386 10/brlcad/trunk/ (7 files in 3 dirs): Sigh. Put search back in libged for now - need to split out the argument parsing logic into libged and the backend logic into librt first.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.03</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>bu_ptbl's have unique awareness for pointer tracking</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.30</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>bu_ptbl_ins_unique()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.34</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>hmm... can I stash directory pointers in a bu_ptbl?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.45</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>ptbl == pointer table </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:01.48</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>arbitrary pointer container</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.19</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>ok, that might do then</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.23</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>redblack trees have similar uniqueness insertion routines</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:02.39</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>depends what sort of O behavior you need</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:03.21</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>so search is already pretty close to what you'd need for librt from what I'm seeing here</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:03.58</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the biggest change is just fixing the routine names, creating corresponding rt_ prefix names for the api</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:04.26</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>and making sure everything functions in libged/librt respectively</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:04.29</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>the code already has that separation I referred to</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:05.07</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>ah, good :-)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:05.19</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>think of it as only migrating find_formplan() and find_execute() to librt, but not with those names</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:05.48</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>ged_search() stays in libged exactly as it is, just pointing to the new names instead of find_formplan() and find_execute()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:06.02</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>well, I've got tomorrow so I'll do what I can</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:06.14</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>instead of find_formplan() returning a PLAN*, it should be some rt_plan_t or somesuch</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:06.57</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>hmm - db_plan_t maybe?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.01</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>find_formplan() would get renamed to something like rt_search_plan(); find_execute() would get renamed to something like rt_search()</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.13</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>doesn't really have much to do with raytracing - db_ prefix may make more sense</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.17</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>it could be db_ api instead of rt_ api</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.18</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>sure</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.31</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>unless it's going to return rt_db_internal objects</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.34</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>then it's rt_ api</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.47</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>I think</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:07.51</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>have to check on that one</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.11</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>ah, yes, find_execute() would have to be refactored to not have a gedp parameter</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.23</tt></td><td><font color="#6ac96a"><tt>brlcad</tt></font></td><td width="100%"><tt>same with findplan</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:08.49</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>will probably return a list of db_full_path structs and a bu_ptbl of directory pointers</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.07</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>yeah, ged structs are everywhere in there</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:09.20</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>I got those out once, so I'm not too worried about that - just takes time</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:10.30</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>or if directory pointers make it rt_ specific, could just return db_full_path list and let the calling function sort it out</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>23:11.18</tt></td><td><font color="#c266c2"><tt>starseeker</tt></font></td><td width="100%"><tt>that's probably cleaner</tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
