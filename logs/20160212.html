<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.6.0" />
<title>IRC log for #brlcad on 20160212</title>
<meta name="generator" content="irclog2html.pl" />
<meta http-equiv="Content-Type" content=
"text/html; charset=utf-8" />
<style type="text/css">
/*<![CDATA[*/
 body {
  background-color: #FFFFFF;
  color: #000000;
 }
 span.c7 {color: #CC00CC}
 span.c6 {color: #5E5EB3}
 span.c5 {color: #DFDF75}
 tr.c4 {background-color: #EEEEEE}
 span.c3 {color: #DDDD74}
 span.c2 {color: #009900}
 ins.c1 {display:inline-block;width:728px;height:90px}
/*]]>*/
</style>
</head>
<body>
<h1>IRC log for #brlcad on 20160212</h1>
<script async="async" src=
"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle c1" data-ad-client=
"ca-pub-1563266826402652" data-ad-slot="5026919875"></ins> 
<script>
<![CDATA[

(adsbygoogle = window.adsbygoogle || []).push({});
]]>
</script>
<form action="http://www.google.com" id="cse-search-box">
<div><input type="hidden" name="cx" value=
"partner-pub-1563266826402652:3301963896" /> <input type="hidden"
name="ie" value="UTF-8" /> <input type="text" name="q" size="55" />
<input type="submit" name="sa" value="Search" /></div>
</form>
<script type="text/javascript" src=
"http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing="3" cellpadding="2" border="0">
<tr>
<td><tt>01:40.32</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad
ovjkdmsvdwjqwbmv
(~armin@dslb-088-066-213-157.088.066.pools.vodafone-ip.de)</span></tt></td>
</tr>
<tr>
<td><tt>02:43.22</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad ofnlut_
(~ofnlut_@2601:143:8001:646d:b4a4:ef6d:1a2c:78a5)</span></tt></td>
</tr>
<tr>
<td><tt>04:11.31</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad ickby
(~stefan@x5d84dcf1.dyn.telefonica.de)</span></tt></td>
</tr>
<tr>
<td><tt>04:29.23</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad kintel
(~kintel@unaffiliated/kintel)</span></tt></td>
</tr>
<tr>
<td><tt>08:17.48</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad teepee_
(~teepee@unaffiliated/teepee)</span></tt></td>
</tr>
<tr>
<td><tt>09:59.59</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad merzo
(~merzo@92.60.189.225)</span></tt></td>
</tr>
<tr>
<td><tt>10:24.00</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad teepee`
(bc5c2134@gateway/web/freenode/ip.188.92.33.52)</span></tt></td>
</tr>
<tr>
<td><tt>13:47.23</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad kintel
(~kintel@unaffiliated/kintel)</span></tt></td>
</tr>
<tr>
<td><tt>13:47.37</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad merzo
(~merzo@user-94-45-58-141.skif.com.ua)</span></tt></td>
</tr>
<tr>
<td><tt>14:14.14</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad ofnlut_
(~ofnlut_@2601:143:8001:646d:a4dc:7e2c:f45e:7e78)</span></tt></td>
</tr>
<tr>
<td><tt>14:44.15</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad kintel
(~kintel@unaffiliated/kintel)</span></tt></td>
</tr>
<tr>
<td><tt>15:34.36</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad kintel
(~kintel@unaffiliated/kintel)</span></tt></td>
</tr>
<tr>
<td><tt>15:59.33</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad teepee`
(bc5c2134@gateway/web/freenode/ip.188.92.33.52)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>16:44.20</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>maths22: cool thx</tt></td>
</tr>
<tr class="c4">
<td><tt>16:55.46</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>wth is going on ... did a cmake
-DBRLCAD_BUNDLED_LIBS=ON .. and it produced "auto" results, but
then still failed to link against the system regex it
detected</tt></td>
</tr>
<tr class="c4">
<td><tt>17:01.09</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>brlcad: try
-DBRLCAD_BUNDLED_LIBS=BUNDLED</tt></td>
</tr>
<tr class="c4">
<td><tt>17:01.30</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>not sure if I've got "ON" set up as an alias
for bundled</tt></td>
</tr>
<tr class="c4">
<td><tt>17:01.57</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>should though - -DENABLE_ALL=ON is what I
ususally use...</tt></td>
</tr>
<tr class="c4">
<td><tt>17:03.15</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>I've always used ON and it's worked</tt></td>
</tr>
<tr class="c4">
<td><tt>17:03.24</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>(and it's the first example you wrote in
INSTALL)</tt></td>
</tr>
<tr class="c4">
<td><tt>17:04.26</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>just as concerning is this regex error -- do
you know where the three #define regcomp libregex_regcomp lines are
coming from in brlcad_config.h.in ?</tt></td>
</tr>
<tr class="c4">
<td><tt>17:06.10</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>src/other/CMakeLists.txt</tt></td>
</tr>
<tr class="c4">
<td><tt>17:06.18</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>around line 90</tt></td>
</tr>
<tr class="c4">
<td><tt>17:07.32</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>okay, so that looks right -- it should only
get in that section if bundled is on</tt></td>
</tr>
<tr class="c4">
<td><tt>17:08.43</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>yet it didn't build libregex ... hm, so
where's that determination made?</tt></td>
</tr>
<tr class="c4">
<td><tt>17:09.16</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>looks like THIRD_PARTY()..</tt></td>
</tr>
<tr class="c4">
<td><tt>17:14.53</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>hm, not seeing how this is happening .. the
src/other/CMakeLists.txt file is checking:</tt></td>
</tr>
<tr class="c4">
<td><tt>17:14.56</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>if(BUILD_SHARED_LIBS AND HAVE_LIBC_REGEX AND
"${BRLCAD_REGEX}" MATCHES "BUNDLED")</tt></td>
</tr>
<tr class="c4">
<td><tt>17:15.26</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>which means all three of those must be true
and BRLCAD_REGEX=BUNDLED</tt></td>
</tr>
<tr class="c4">
<td><tt>17:16.27</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>yet cache recorded BRLCAD_REGEX=SYSTEM
(AUTO)</tt></td>
</tr>
<tr class="c4">
<td><tt>17:21.55</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>if I'm reading this right, it looks like all
of the THIRD_PARTY calls are wrong...</tt></td>
</tr>
<tr class="c4">
<td><tt>17:22.33</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>ah, not reading them right</tt></td>
</tr>
<tr>
<td><tt>17:41.01</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad kintel
(~kintel@unaffiliated/kintel)</span></tt></td>
</tr>
<tr>
<td><tt>17:42.24</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad poxip
(~poxip@unaffiliated/mrpoxipol)</span></tt></td>
</tr>
<tr>
<td><tt>18:09.23</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad ickby
(~stefan@x5d84766f.dyn.telefonica.de)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>18:15.53</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>confirmed that BRLCAD_BUNDLED_LIBS=BUNDLED
inside THIRD_PARTY, yet they are still defaulting to AUTO
...</tt></td>
</tr>
<tr>
<td><tt>18:34.39</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad teepee_
(~teepee@unaffiliated/teepee)</span></tt></td>
</tr>
<tr>
<td><tt>18:46.00</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad poxip
(~poxip@unaffiliated/mrpoxipol)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>19:05.22</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>brlcad: what platform/version of
CMake?</tt></td>
</tr>
<tr class="c4">
<td><tt>19:08.47</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>the --trace option in CMake might help (bit of
a verbose last resort, but it is there...)</tt></td>
</tr>
<tr class="c4">
<td><tt>19:18.31</tt></td>
<td><span class="c6"><tt>Notify</tt></span></td>
<td width="100%"><tt>03BRL-CAD:starseeker * 67073
brlcad/trunk/doc/CMakeLists.txt: list trunk_hierarchy.org for
CMake</tt></td>
</tr>
<tr class="c4">
<td><tt>19:22.50</tt></td>
<td><span class="c6"><tt>Notify</tt></span></td>
<td width="100%"><tt>03BRL-CAD:starseeker * 67074
(brlcad/trunk/doc/trunk_heirarchy.org
===================================================================
and 1420 others): rename</tt></td>
</tr>
<tr class="c4">
<td><tt>19:41.31</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>brlcad: are you building with gcc or
clang?</tt></td>
</tr>
<tr class="c4">
<td><tt>20:07.15</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>brlcad: do you have any sense of what revision
started the bad CMake behavior?</tt></td>
</tr>
<tr class="c4">
<td><tt>20:07.22</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>that might be a clue...</tt></td>
</tr>
<tr>
<td><tt>20:28.36</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad ickby
(~stefan@x5d84766f.dyn.telefonica.de)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>20:53.49</tt></td>
<td><span class="c6"><tt>Notify</tt></span></td>
<td width="100%"><tt>03BRL-CAD:starseeker * 67075
(brlcad/trunk/TODO brlcad/trunk/include/bu/file.h and 39 others):
Prefix mime symbols with bu</tt></td>
</tr>
<tr class="c4">
<td><tt>21:11.05</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>starseeker: cmake version 3.3.0, clang,
no</tt></td>
</tr>
<tr class="c4">
<td><tt>21:16.31</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>getting closer .. BRLCAD_REGEX is ON, and
summary reports Compile Regex ON, but it doesn't compile libregex
for librt.  REGEX_LIBRARY is set to libc</tt></td>
</tr>
<tr class="c4">
<td><tt>21:23.24</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>starseeker: where does FindREGEX actually get
loaded/called?</tt></td>
</tr>
<tr class="c4">
<td><tt>21:46.25</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>inside the ThirdParty macro</tt></td>
</tr>
<tr class="c4">
<td><tt>21:47.06</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>probably line 199</tt></td>
</tr>
<tr class="c4">
<td><tt>21:47.46</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>brlcad: I wasn't able to reproduce the failure
locally (found a mac)</tt></td>
</tr>
<tr class="c4">
<td><tt>21:49.23</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>starseeker: what should REGEX_LIBRARY be for a
bundled build?</tt></td>
</tr>
<tr class="c4">
<td><tt>21:50.22</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>I just did a --trace and FindREGEX is not
called</tt></td>
</tr>
<tr class="c4">
<td><tt>21:52.15</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>looks like it should be "regex"?  looking at
misc/CMake/ThirdParty.cmake:255</tt></td>
</tr>
<tr class="c4">
<td><tt>21:57.54</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>should be the CMake build target for the local
regex library - I think that's regex</tt></td>
</tr>
<tr class="c4">
<td><tt>21:59.00</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>yeah - regex</tt></td>
</tr>
<tr class="c4">
<td><tt>21:59.15</tt></td>
<td><span class="c5"><tt>starseeker</tt></span></td>
<td width="100%"><tt>that will set up the build dependency on the
cmake target for anything using REGEX_LIBRARY</tt></td>
</tr>
<tr class="c4">
<td><tt>22:32.25</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>right, so that was somehow the
problem</tt></td>
</tr>
<tr class="c4">
<td><tt>22:33.34</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>trying to find the steps to reproduce it but
basically BRLCAD_BUNDLED_LIBS=ON BUILD_REGEX=ON, summary reports it
ON, but REGEX_LIBRARY was not 'regex' -- it was the system
one</tt></td>
</tr>
<tr class="c4">
<td><tt>22:34.20</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>this inevitably caused a build error where
sources got compiled with the libregex_ prefix on symbols but it
was trying to use the system regex (which obviously aren't named
that way)</tt></td>
</tr>
<tr class="c4">
<td><tt>22:39.44</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>starseeker: okay, thin I got it
repeatable</tt></td>
</tr>
<tr class="c4">
<td><tt>22:40.33</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>definitely found a bug here but really not
sure where/why it's happening, can you take a look?</tt></td>
</tr>
<tr class="c4">
<td><tt>22:41.19</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>something almost certainly due to caching or
the prev file (what's that for??)</tt></td>
</tr>
<tr class="c4">
<td><tt>22:43.13</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>reproduce: cmake ... ; cmake
-DBRLCAD_BUNDLED_LIBS ... ; cmake ...</tt></td>
</tr>
<tr class="c4">
<td><tt>22:43.48</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>by the third one, it stays set to 'regex' no
matter whether you set BRLCAD_BUNDLED_LIBS again or not</tt></td>
</tr>
<tr class="c4">
<td><tt>22:44.23</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>presumably swapping the order will result in
what I ran into where it was stuck on
REGEX_LIBRARY=/usr/lib/libc</tt></td>
</tr>
<tr class="c4">
<td><tt>22:44.48</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>(you can grep REGEX_LIBRARY in the cache to
see how it gets stuck and/or compile librt to see the build
failure)</tt></td>
</tr>
<tr>
<td><tt>23:09.34</tt></td>
<td colspan="2"><tt><span class="c2">*** join/#brlcad ofnlut_
(~ofnlut_@2601:143:8001:646d:ad45:886d:2186:ce81)</span></tt></td>
</tr>
<tr class="c4">
<td><tt>23:18.34</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt>ugh ... those steps don't reproduce the
problem .. sorry, never mind</tt></td>
</tr>
<tr class="c4">
<td><tt>23:24.03</tt></td>
<td><span class="c3"><tt>brlcad</tt></span></td>
<td width="100%"><tt><span class="c7">gives up</span></tt></td>
</tr>
</table>
<br />
Generated by irclog2html.pl Modified by <a href=
"http://Rikers.org">Tim Riker</a> to work with <a href=
"http://infobot.sourceforge.net/">infobot</a>.
</body>
</html>
