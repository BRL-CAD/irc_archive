<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>IRC log for #brlcad on 20170422</title>
 <meta name="generator" content="irclog2html.pl">
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body text="#000000" bgcolor="#ffffff">
<h1>IRC log for #brlcad on 20170422</h1>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1563266826402652"
     data-ad-slot="5026919875"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<form action="http://www.google.com" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1563266826402652:3301963896" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<table cellspacing=3 cellpadding=2 border=0>
<tr><td><tt>00:20.51</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad infobot (ibot@rikers.org)</font></tt></td></tr>
<tr><td><tt>00:20.51</tt></td><td colspan=2><tt><font color="#009900">*** topic/#brlcad is GSoC students: if you have a question, ask and wait for an answer ... responses may take minutes or hours. Ask and WAIT. ;)</font></tt></td></tr>
<tr><td><tt>00:30.11</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad gtltzrngxxidxarc (~armin@dslb-088-066-138-030.088.066.pools.vodafone-ip.de)</font></tt></td></tr>
<tr><td><tt>02:37.14</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad gabbar1947 (uid205515@gateway/web/irccloud.com/x-atsujarjxjycoftd)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:39.06</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>brlcad: could we consider a version reporting mechanism that, rather than compiling in the number of configure runs, pulls it from a file in the data dir somewhere?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:39.38</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">really isn't digging having to rebuild so much of the package every time there's a tweak to the config file that bumps that number...</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:41.42</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>DaRock: what OS version are you trying to build on?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:41.55</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt><font color="#CC00CC">might be able to set up a VM and give it a shot</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:44.38</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>DaRock: fwiw, we're considering shifting to a simpler build logic that assumes installed 3rd party components and then maintains src/other as a separate "build and install all of this to get everything needed" convenience</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:45.25</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>reliable cross platform detection is unfortunately a very hard problem, as your experiences are indicating</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:46.52</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>fwiw, the diagrame on pg. 18 (pdf page 26) of this report tries to document the logic behind the design of the ThirdParty macro:&nbsp;&nbsp;<a href="http://www.arl.army.mil/arlreports/2013/ARL-TR-6475.pdf">http://www.arl.army.mil/arlreports/2013/ARL-TR-6475.pdf</a></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>02:46.53</tt></td><td><font color="#61ba61"><tt>gcibot_</tt></font></td><td width="100%"><tt>[ Access Denied ]</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:31.24</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>starseeker: thats fine, I think the idea is sound, but the code hasn't been tested as thoroughly I don't think; so when I come and turn everything off it goes bang! and we uncover a lot of issues that probably haven't been touched due to inconvenience. eg the common fix is to enable all the builtins.</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:31.51</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>if I could get my head around it, I could probably sort some of it, but....</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:34.48</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>right now, I think what I'm seeing is that even if the system libs are discovered and sorted - and set to be used - the cmake system still turns around and insists on using the builtin. i'm trying to figure out what would be needed to make this an if/else logic, where if the system libs are set, then use those, but only set the local(?) includes on if not. Right now it says in the comments to guarantee the builtins come first - no matter what</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:38.08</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>the detection stuff I've seen appears to be sound - its the natural insistence on the builtins which means a lot of this ends up being wasted/ignored. Its not just "falling back" as advertised, its ignoring the system mostly</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>03:38.45</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>maybe I'm just focused on a few modules though :)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>06:08.08</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>Ok, I have it figured - just need to work on a fix. The forced use of the builtin tcl uses the builtin header tcl.h. But that does not force the use of the builtin tk header. So the current tk/tcl is 8.6, and so the tk.h is newer than the builtin, which then errors because the builtin tcl header is set for 8.5.9, hence the cross pollination...</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>06:09.33</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>the file is src/libtclcad/CMakeLists.txt</tt></td></tr>
<tr><td><tt>08:26.32</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad elpea (~chatzilla@dsl-hkibrasgw5-58c04d-211.dhcp.inet.fi)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>11:18.06</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>could anyone inform me if the initial cmake variables of the build are carried through? Or is it a new environment for each dir? Some variables, but not all?</tt></td></tr>
<tr><td><tt>13:43.49</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad Caterpillar (~caterpill@unaffiliated/caterpillar)</font></tt></td></tr>
<tr><td><tt>13:57.08</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad caen23 (~caen23@79.112.48.210)</font></tt></td></tr>
<tr><td><tt>14:09.07</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad caen23 (~caen23@79.112.48.210)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:23.11</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>does anyone know where the itcl/itk includes are set in cmake?</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:34.07</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>I got past the tk.h error with this (I know it won't be right, but this was to test a theory and I know very little about cmake): if("${BRLCAD_TCL}" MATCHES "SYSTEM" AND "${BRLCAD_TK}" MATCHES "SYSTEM" AND "${BRLCAD_ITCL}" MATCHES "SYSTEM" AND "${BRLCAD_ITK}" MATCHES "SYSTEM")</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:34.07</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>&lt;PROTECTED&gt;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:34.07</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>&lt;PROTECTED&gt;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:34.07</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>&lt;PROTECTED&gt;</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>14:35.00</tt></td><td><font color="#ca6aca"><tt>DaRock</tt></font></td><td width="100%"><tt>But it hasn't seemed to have set the itcl/itk include dirs, and I have no idea where</tt></td></tr>
<tr><td><tt>15:03.52</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>17:13.08</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad d_rossberg (~rossberg@104.225.5.10)</font></tt></td></tr>
<tr><td><tt>17:34.40</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:37.14</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>DaRock: that FindTCL.cmake module we have is a bit of a nightmare - it's one of the oldest pieces of CMake logic in the code, and it was written early in the conversion process from automake</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:37.24</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>i.e. before I knew what I was doing</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:38.12</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>we're also attempting to store and reset the CMake variables when we add src/other/CMakeLists.txt </tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:38.24</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>that could be causing some state management problems</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:39.47</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>in the tcltk86 branch I think we ditch our internal FindTCL entirely and rely on CMake's built-in - you might see if doing that helps</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:43.32</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>DaRock: good catch figuring out the using tcl.h but not tk.h from built-in, btw - that's indeed a scenario that either hasn't come up much or we "got away with" when the system header ended up as compatible</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:44.54</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>if we really wanted to be aggressive about doing the right thing, we would check the libraries pulled in by system versions of libraries to try and catch any conflicts (for example, a system libpng being pulled in and conflicting with an enabled build of png in src/other)</tt></td></tr>
<tr bgcolor="#eeeeee"><td><tt>17:45.32</tt></td><td><font color="#b86161"><tt>starseeker</tt></font></td><td width="100%"><tt>I don't know of a cross platform way to do that though, so it would likely involved writing a complex new CMake module to wrap it all</tt></td></tr>
<tr><td><tt>18:00.54</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>19:07.33</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>19:48.44</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>20:46.09</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad yorik (~yorik@2804:431:f721:afd0:290:f5ff:fedc:3bb2)</font></tt></td></tr>
<tr><td><tt>21:17.59</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>21:58.15</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad kintel (~kintel@unaffiliated/kintel)</font></tt></td></tr>
<tr><td><tt>23:58.23</tt></td><td colspan=2><tt><font color="#009900">*** join/#brlcad chenzhe (~Thunderbi@2620:101:c040:7f7:8013:ddb5:246:2707)</font></tt></td></tr>
</table>

<br>Generated by irclog2html.pl
Modified by <a href="http://Rikers.org">Tim Riker</a> to work with
<a href="http://infobot.sourceforge.net/">infobot</a>.
</body></html>
